<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Welcome to kotobanoniwa</title>
  
  <subtitle>言葉の庭</subtitle>
  <link href="https://liubaichen.github.io/atom.xml" rel="self"/>
  
  <link href="https://liubaichen.github.io/"/>
  <updated>2023-05-30T07:13:09.842Z</updated>
  <id>https://liubaichen.github.io/</id>
  
  <author>
    <name>Liu baichen</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>反抗命运，接受命运——回顾大学四年的得与失</title>
    <link href="https://liubaichen.github.io/posts/35f831b1/"/>
    <id>https://liubaichen.github.io/posts/35f831b1/</id>
    <published>2023-05-27T14:46:30.000Z</published>
    <updated>2023-05-30T07:13:09.842Z</updated>
    
    <content type="html"><![CDATA[<p>2023年5月27日</p><p>时间已经进入5月底，距离毕业论文提交的截止日期仅剩1周，标志着4年本科生活即将进入倒计时。虽然我已经发誓少写“废话”多做事，但是感觉在这样一个特殊节点发发感慨还是有必要的。</p><p>今天开始写致谢，想了很多，但是写的真的很慢，磨磨蹭蹭半天还没有写完。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;2023年5月27日&lt;/p&gt;
&lt;p&gt;时间已经进入5月底，距离毕业论文提交的截止日期仅剩1周，标志着4年本科生活即将进入倒计时。虽然我已经发誓少写“废话”多做事，但是感觉在这样一个特殊节点发发感慨还是有必要的。&lt;/p&gt;
&lt;p&gt;今天开始写致谢，想了很多，但是写的真的很慢，磨磨蹭</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>记忆无价——读《被掩埋的巨人》</title>
    <link href="https://liubaichen.github.io/posts/1576d4f8/"/>
    <id>https://liubaichen.github.io/posts/1576d4f8/</id>
    <published>2023-05-26T12:32:20.000Z</published>
    <updated>2023-06-02T14:14:27.955Z</updated>
    
    <content type="html"><![CDATA[<p>《被掩埋的巨人》（The Buried Giant）是我在大一（或者大二？）时和《远山淡影》一起买的，作者是石黑一雄，2017年诺贝尔文学奖获得者。看完《远山淡影》后感觉并没有很深的印象，《被掩埋的巨人》也就没有读完（本书的前半部分确实略显拖沓）。最近突然想读些历史以外的书，便选中了这本。</p><h1>句子摘抄</h1><ul><li>P158</li></ul><p>“可迷雾笼罩着所有的回忆啊，好的坏的都包括。不是吗，夫人？”<br>“我们也愿意让坏的记忆回来，哪怕会让我们哭泣，或者气得发抖。因为，那不就是我们共同度过的一生吗？”<br>“这么说，夫人，你不怕坏的回忆？”<br>“有什么可怕的呢，神父？我和埃克索现在对对方的感情，说明我们走过的路虽然被迷雾遮挡，但是一路上不会有危险。这就像一个结局幸福的故事，连孩子都知道，过去经历的曲折不必害怕。无论我们这一生是什么样子，我和埃克索会一起回忆，因为这是我们两人都很珍视的。”</p><ul><li>P164</li></ul><p>僧侣们（指修道院院长和布莱恩神父）如果不想你们碰到野兽，是不会让你们下来的。这就是他们用的方法。他们是信基督教的人，不能用剑，甚至也不能下毒。他们希望谁死，就让谁下来，过一两天，他们就会忘记做过这件事。这就是他们的做法，尤其是院长。到星期天，他甚至还会相信，是他救了你们，否则你们就被士兵抓走了。这隧道里潜伏的野兽干了什么，他就算想起来，也不会承认，甚至还会说这是上帝的意愿。</p><ul><li>P293</li></ul><blockquote><p>高文与维斯坦的对话</p></blockquote><p>“···想想吧，先生，一旦这呼吸（指魁瑞格）停止，这片土地上沉睡多年的东西将被唤醒！是啊，我们屠杀了很多人，这我承认，也不去管什么强者弱者。上帝也许不会冲我们微笑，但我们让这片土地免于战争。离开这儿吧，先生，我求你了。我们信奉的神也许不一样，但你的神肯定也和我的一样，会保佑这条龙吧”<br>“希望过错被人遗忘，犯错者逍遥法外，这是什么样的神呢，先生？”<br>“你问得好，维斯坦阁下，我知道我的神为我们那天的行为感到不安。但事情过去很久了，死者安息于地下，地上早已覆盖着怡人的绿草。年轻一代对他们一无所知。我求你离开这个地方，让魁瑞格的作用再发挥一段时间。她还能活一两个季节吧，最多了。可是，那么长时间也许就足以让旧伤口永远愈合，让永久的和平降临在我们中间。你看她多么希望活下去，生！发发慈悲，离开这个地方吧。让这个国家在遗忘中平复。”<br>“愚蠢啊，先生。蛆虫越活越肥，旧伤口怎么可能愈合？和平建立在屠杀与魔法师的骗术之上，怎么能够持久？我明白这是你虔诚的渴望，渴望你那些恐怖的往事像尘土一样消于无形。但是，它们却在泥土中蛰伏，像死者的白骨一样，等着人们发掘。高文爵士，我的答复没有更改。我必须到下面的坑里去。”</p><ul><li>P304</li></ul><blockquote><p>维斯坦杀掉魁瑞格后的迷惘，以及埃克索的醒悟</p></blockquote><p>“等着我的是公平与复仇，夫人。两者都耽误很久了，所以很快就会到来。可是，现在时候快到了，我发现自己心里却颤抖起来，象个姑娘一样。这只能是因为我在你们当中待得太久了。”<br>“我和你（指比特丽丝）希望魁瑞格死掉，我们只想着自己宝贵的记忆。可是，多少古老的仇恨将在这块土地上复活，谁又知道呢？我们只好希望上帝能找到办法，维系两族之间的纽带，可习俗与猜忌一只让我们难以团结。如果对土地和征服的新欲望，被巧舌之辈嫁接到古老的怨恨之上，谁知道会带来什么灾祸呢？”</p><ul><li>P327</li></ul><blockquote><p>最后埃克索对妻子比特丽丝说的话</p></blockquote><p>如果迷雾没有夺走我们的记忆，这么多年来，我们的爱是不是不会如此牢固？也许有了迷雾，旧伤才得以愈合。</p><h1>感悟</h1><p>《被掩埋的巨人》这部作品整体剧情的顺序性强，叙事直白，不会像某些书一样需要经常回顾前面的内容（当然本书也存在部分倒叙描述）。而且高文和维斯坦的任务、埃克索和比特丽丝的过去等虽然是最后才揭晓，但是在前面的叙述中已经能够推测出来，结局不会很仓促。不过，本书最大的亮点还是借助后亚瑟王时代的背景思考我们该如何对待不幸的过去。我是一个真求真相的人，我希望能够真实地了解过去在这片土地上发生了什么，就像是本书第一部分埃克索和比特丽丝做的那样，他们对“甜蜜的”回忆是如此地渴望，以至于即使是悲伤的事也可以全部接受。但是，当魁瑞格被杀死，二人回忆起来的却全部是争吵与悲伤，“无知”的快乐就已经无法挽回了。智慧的痛苦，大概就是如此？</p><p>本书在描述埃克索和比特丽丝个人感情的同时，还从国家和社会的角度向每一位读者提出了难以抉择的问题：忘记过去，还是铭记历史。一个理智的分析可能是，铭记历史，遗忘仇恨。但是，在对于集体而言，仇恨与友善，真的可以选择性地保留吗。我们从历史可以看到，苏联企图用阶级感情粉饰民族矛盾，但仇恨的种子依然存在，并吞噬了所有曾经兄弟相待的民族。我强烈谴责为了保住自身权力而“善意”掩盖事实的政治阶级，但是当这种行为已经成为既定事实，将真相全盘托出真的是件好事情吗？即使我可以尽量客观地看待过去，但其他人呢？无止境的仇恨又会开始蔓延。</p><p>本书并未给出答案，也很难找到令所有人都满意的答案。故事中，主角5人的想法各有不同，比特丽丝始终追求过去的回忆；埃克索在逐渐意识到不和的回忆可能会造成无法挽回的后果时开始与比特丽丝的相法相背离，而故事刚开始他们是多么的亲热与一致！高文是坚定的历史保卫者，希望以往可以抚慰仇恨；维斯坦曾经是坚定的复仇主义者，但是杀死巨龙后却开始对自己的行为衍生出怀疑的态度，他可能和埃克索一样认识到，拼命地抓住过去的结果可能并不会带来自己想要的结果；少年埃德温的态度并不像其他四人那么清楚，反而更像是无知群众的代表，容易被蛊惑，被维斯坦反复灌输复仇的思想。但也有表现出人性善良的一面，例如杀死巨龙后埃德温又一次回忆起了杀死所有不列颠人的复仇任务，但是当看到埃克索夫妻二人时，他又理所当然地认为维斯坦肯定不会要他杀死这两位善良的不列颠人。在历史悲剧中，他们是残忍的施暴者，但同时也是邪恶阴谋下的受害者。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;《被掩埋的巨人》（The Buried Giant）是我在大一（或者大二？）时和《远山淡影》一起买的，作者是石黑一雄，2017年诺贝尔文学奖获得者。看完《远山淡影》后感觉并没有很深的印象，《被掩埋的巨人》也就没有读完（本书的前半部分确实略显拖沓）。最近突然想读些历史以外的书</summary>
      
    
    
    
    <category term="diary" scheme="https://liubaichen.github.io/categories/diary/"/>
    
    
    <category term="阅读" scheme="https://liubaichen.github.io/tags/%E9%98%85%E8%AF%BB/"/>
    
  </entry>
  
  <entry>
    <title>listening</title>
    <link href="https://liubaichen.github.io/posts/3b4c629f/"/>
    <id>https://liubaichen.github.io/posts/3b4c629f/</id>
    <published>2023-05-24T08:19:50.000Z</published>
    <updated>2023-06-01T06:37:05.938Z</updated>
    
    <content type="html"><![CDATA[<p>don’t sweat it = stop worry about sth</p><p>pray for sth/sb</p><p>take advantage of 占便宜</p><p>pass out = become unconscious晕倒</p><p>prescribe (sb) sth for sth</p><p>bored with/of sb/sth</p><p>be furious at sth / with sb</p><p>stop nagging 别唠叨了</p><p>god bless you 感激或者祝福（bless在这里和类似语境下使用原形）</p><p>hang on (a second)  等一下（口语，中性或略带贬义）</p><p>it’s none of your business不关你的事</p><p>enough is enough够了，适可而止吧</p><p>on purpose = deliberately = intentionally 故意</p><p>pride yourself on sth引以为豪</p><p>throw up = vomit</p><p>a piece of cake   轻而易举的事</p><blockquote><p>it will be a piece a cake for me</p></blockquote><p>butter sb up ~ flatter sb   拍马屁，以甜言蜜语巴结某人(也可以中性的说法)</p><p>beat around the bush说话拐弯抹角</p><blockquote><p>stop beating around the bush and tell me what you what</p></blockquote><p>take your time不着急，慢慢来</p><p>I need to use the washroom</p><p>Don’t take me wrong   不要误解我（我不是这个意思）</p><p>pick up ~ answer the phone</p><p>on cloud nine ~ extremely happy ~ over the moon</p><p>hit the sack ~ go to bed</p><p>give sb  a sack ~ sack sb ~ fire sb</p><p>I am all ears我洗耳恭听（全神贯注地听）</p><p>brush sb off ~ rudely ignore sb无视某人</p><p>hold your horses且慢，不要着急</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;don’t sweat it = stop worry about sth&lt;/p&gt;
&lt;p&gt;pray for sth/sb&lt;/p&gt;
&lt;p&gt;take advantage of 	占便宜&lt;/p&gt;
&lt;p&gt;pass out = become unconscious	晕倒&lt;/p&gt;
&lt;p</summary>
      
    
    
    
    <category term="语言" scheme="https://liubaichen.github.io/categories/%E8%AF%AD%E8%A8%80/"/>
    
    
    <category term="英语听力" scheme="https://liubaichen.github.io/tags/%E8%8B%B1%E8%AF%AD%E5%90%AC%E5%8A%9B/"/>
    
  </entry>
  
  <entry>
    <title>英语阅读</title>
    <link href="https://liubaichen.github.io/posts/c20ae70/"/>
    <id>https://liubaichen.github.io/posts/c20ae70/</id>
    <published>2023-05-23T06:37:32.000Z</published>
    <updated>2023-06-01T07:10:50.530Z</updated>
    
    <content type="html"><![CDATA[<h1>Can carbon removal become a trillion-dollar business?</h1><blockquote><p>from <strong>the economist</strong></p></blockquote><p>at the invitation of</p><p>along with sb.</p><p>commercial-scale &amp; industrial-scale</p><p>tonne &amp; ton?</p><blockquote><p>one tonne is equivalent to 1000 kilograms, and one ton is equivalent to 2000 pounds in the US</p></blockquote><p>power plants : 发电厂</p><blockquote><p>plant there means a factory such as chemical plant or car plant</p></blockquote><p>rake in sth = make a fortune in sth</p><p>get off the ground ~ take off ~ start sth successfully</p><p>approve ~ sanction ~ authorize 批准</p><p>increase / ramp up capacity seven-fold in the next 12 years</p><p>The oilmen’s critics allege that their enthusiasm for carbon removal is mainly about improving their reputations <strong>in the eyes of increasingly climate-conscious consumers</strong>, while pumping more crude for longer. <strong>There is surely some truth to this</strong>. But <strong>given the urgent need to both capture carbon at source and achieve voluminous negative emissions</strong>, the willing involvement of giant oil firms, <strong>with their vast capital budgets and useful expertise in engineering and geology</strong>, is to be welcomed.</p><h1>Despite an explosion, Elon Musk is closer to his new space age</h1><p>blow up = explode  爆炸</p><p>blow sth up炸毁</p><p>at a healthy clip 以一个健康的速度（idiom）</p><p>in principle  原则上</p><p>fix = solution</p><p>rosy ~ promising ~ hopeful   光明的、有希望的、乐观的</p><p>at heart  ~ in essence ~ essentially  本质上</p><p>live up to ~ achieve  达到、不辜负（expectation\hope）</p><p>not least ~ especially</p><p>in one piece  安然无恙</p><p>The good news is that SpaceX says it is building Super Heavies and Starships at a healthy clip; it should in principle be possible to rerun the test reasonably soon once the nature of the problem becomes clear and a fix is found.</p><p>And if that is a slightly rosy view, it is at heart a fair one.</p><h1>Artificial brains are helping scientists study the real thing</h1><p>be down to ~ be caused by  归因于</p><p>seminal   划时代的</p><p>The striking progress in artificial intelligence over the past decade is mostly down to advances in machine learning, whereby computers teach themselves complicated tasks by crunching large quantities of data, rather than having to be programmed directly by humans.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;Can carbon removal become a trillion-dollar business?&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;from &lt;strong&gt;the economist&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;at t</summary>
      
    
    
    
    <category term="语言" scheme="https://liubaichen.github.io/categories/%E8%AF%AD%E8%A8%80/"/>
    
    
    <category term="英语阅读" scheme="https://liubaichen.github.io/tags/%E8%8B%B1%E8%AF%AD%E9%98%85%E8%AF%BB/"/>
    
  </entry>
  
  <entry>
    <title>B-V方程</title>
    <link href="https://liubaichen.github.io/posts/61481/"/>
    <id>https://liubaichen.github.io/posts/61481/</id>
    <published>2023-05-21T06:21:23.000Z</published>
    <updated>2023-05-28T05:50:43.320Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>鸽了两个月，终于准备开始写了······</p></blockquote><h1>Butler-Volmer方程</h1><p><em>基本公式见1-1</em></p><p>电化学反应速率、电流和电极表面浓度的关系可以通过1-1构建。尽管我们有恒电流仪可以通过电流控制反应，但在大多数情况下都是使用电势控制反应的。那么反应速率与电势有什么关系？或者说，电势与电流有什么关系？这就是Butler-Volmer方程能够解决的问题。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi mathvariant="normal">v</mi><mo>=</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mfrac><mi>i</mi><mrow><mi>n</mi><mi>F</mi><mi>A</mi></mrow></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi mathvariant="normal">v</mi><mi mathvariant="normal">c</mi></msub><mo>=</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>k</mi><mi>f</mi></msub><mo>×</mo><msub><mi>C</mi><mi>O</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi mathvariant="normal">v</mi><mi mathvariant="normal">a</mi></msub><mo>=</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>k</mi><mi>b</mi></msub><mo>×</mo><msub><mi>C</mi><mi>R</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi mathvariant="normal">i</mi><mo>=</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>v</mi><mi>c</mi></msub><mo>−</mo><msub><mi>v</mi><mi>a</mi></msub></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align}\rm v =&amp; \frac{i}{nFA}\notag  \newline\rm v_c =&amp; k_f \times C_O(0,t) \notag \newline\tag{1-1}\rm v_a =&amp; k_b \times C_R(0,t)  \newline\rm i =&amp; v_c - v_a \notag\end{align}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6.8225em;vertical-align:-3.1613em;"></span><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6613em;"><span style="top:-5.6613em;"><span class="pstrut" style="height:3.3365em;"></span><span class="mord"><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">v</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span></span></span></span><span style="top:-3.8353em;"><span class="pstrut" style="height:3.3365em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0139em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span></span></span></span><span style="top:-2.3353em;"><span class="pstrut" style="height:3.3365em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0139em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span></span></span></span><span style="top:-0.8353em;"><span class="pstrut" style="height:3.3365em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1613em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6613em;"><span style="top:-5.6613em;"><span class="pstrut" style="height:3.3365em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3365em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord mathnormal">A</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.8353em;"><span class="pstrut" style="height:3.3365em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">O</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span><span style="top:-2.3353em;"><span class="pstrut" style="height:3.3365em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span><span style="top:-0.8353em;"><span class="pstrut" style="height:3.3365em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1613em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6613em;"><span style="top:-5.6613em;"><span class="pstrut" style="height:3.3365em;"></span><span></span></span><span style="top:-3.8353em;"><span class="pstrut" style="height:3.3365em;"></span><span></span></span><span style="top:-2.3353em;"><span class="pstrut" style="height:3.3365em;"></span><span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1-1</span></span><span class="mord">)</span></span></span></span><span style="top:-0.8353em;"><span class="pstrut" style="height:3.3365em;"></span><span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1613em;"><span></span></span></span></span></span></span></span></span></p><blockquote><p>c和a分别代表cathode和anode，f和b分别为forward和backward；0和t分别代表电极表面和时间</p></blockquote><p>B-V方程基于动力学中的过渡态理论，首先假设有一个单电子反应1-2，反应坐标在过渡态附近的自由能曲线如下图。初始时刻在平衡状态，反应物（左上）和产物（右）的标准自由能相等。反应物包括O和电子，因此当电极电势改变时，反应物的标准自由能将发生变化。而产物中只有中性物质R，因此标准自由能不受影响。假设电极电势变正，导致电极内部电子能量降低，反应物标准自由能随之降低（如下图中红色箭头所示）。定性来看，反应会朝向1-2中的逆反应方向发生。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi mathvariant="normal">O</mi><mo>+</mo><mi>e</mi><mi><munder><mo><mo><mover><mo><mo>⇌</mo></mo><msub><mi>k</mi><mi mathvariant="normal">f</mi></msub></mover></mo></mo><msub><mi>k</mi><mi mathvariant="normal">b</mi></msub></munder></mi><mi mathvariant="normal">R</mi></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1-2)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\mathrm{O}+ e \underset{k_{\mathrm{b}}}{\stackrel{k_{\mathrm{f}}}{\rightleftharpoons}} \mathrm{R} \tag{1-2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathrm">O</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.3429em;vertical-align:-0.949em;"></span><span class="mord mathnormal">e</span><span class="mord"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.394em;"><span style="top:-2.6509em;margin-left:0em;"><span class="pstrut" style="height:3.394em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:-0.0315em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight">b</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3.394em;"></span><span><span class="mop"><span class="mrel"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.394em;"><span style="top:-2.92em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">⇌</span></span></span><span style="top:-3.8079em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:-0.0315em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight" style="margin-right:0.07778em;">f</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.091em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.949em;"><span></span></span></span></span></span></span><span class="mord mathrm">R</span></span><span class="tag"><span class="strut" style="height:2.3429em;vertical-align:-0.949em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1-2</span></span><span class="mord">)</span></span></span></span></span></span></p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230521152457.webp" style="zoom:67%;" /><center>图1-1  反应物和产物的标准自由能曲线随电势的变化关系</center><p>定量来看，假设初始平衡时刻电势为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup></mrow><annotation encoding="application/x-tex">\rm E^{0&#x27;}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9425em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9425em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> ，正逆反应的活化自由能为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi mathvariant="normal">G</mi><mrow><mn>0</mn><mi mathvariant="normal">c</mi></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">≠</mo></msubsup><mo>=</mo><mi mathvariant="normal">Δ</mi><msubsup><mi mathvariant="normal">G</mi><mrow><mn>0</mn><mi mathvariant="normal">a</mi></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">≠</mo></msubsup></mrow><annotation encoding="application/x-tex">\rm \Delta G_{0c}^{\ne}=\Delta G_{0a}^{\ne}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2333em;vertical-align:-0.2663em;"></span><span class="mord"><span class="mord mathrm">Δ</span><span class="mord"><span class="mord mathrm">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">0c</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight"><span class="mrel mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord mtight"><span class="mrel mtight"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel mtight">=</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">Δ</span><span class="mord"><span class="mord mathrm">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">0a</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight"><span class="mrel mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord mtight"><span class="mrel mtight"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel mtight">=</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span></span></span></span></span> 。电势向正方向变化到E时，反应物的标准自由能增大 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">F</mi><mo stretchy="false">(</mo><mi mathvariant="normal">E</mi><mo>−</mo><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\rm F(E-E^{0&#x27;})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1925em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathrm">F</span><span class="mopen">(</span><span class="mord mathrm">E</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathrm">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9425em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span> ，现在的重点是如何获得此时的正逆反应的活化能 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi mathvariant="normal">G</mi><mi mathvariant="normal">c</mi><mo mathvariant="normal" lspace="0em" rspace="0em">≠</mo></msubsup></mrow><annotation encoding="application/x-tex">\rm \Delta G_{c}^{\ne}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0961em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathrm">Δ</span><span class="mord"><span class="mord mathrm">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight"><span class="mrel mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord mtight"><span class="mrel mtight"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel mtight">=</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi mathvariant="normal">G</mi><mi mathvariant="normal">a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">≠</mo></msubsup></mrow><annotation encoding="application/x-tex">\rm \Delta G_{a}^{\ne}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0961em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathrm">Δ</span><span class="mord"><span class="mord mathrm">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">a</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight"><span class="mrel mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord mtight"><span class="mrel mtight"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel mtight">=</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span>。将上图中的过渡态附近局部放大后，得到下图。仔细对比活化能的前后变化可以得到1-3和1-4。其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span> 是B-V方程的重要参数，名称为（电荷）转移系数transfer coefficient。从推导过程不难看出 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span> 的取值范围为0~1，直观上来看反映了体系在过渡态附近的自由能对称程度，因此又被称为对称因子。一般而言 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span> 位于0.3~0.7之间，默认取0.5。B-V方程并未给出<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span> 的计算方法，而只能将其认为是一个反应特有的常数。然而后续实验和理论已经证明，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span> 是电势的函数，但是在大多数情况下，大电势下会导致反应受到物质传递的限制，因此实验可用的电势范围很窄，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span> 可以认为近似不变。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi mathvariant="normal">G</mi><mi mathvariant="normal">c</mi><mo mathvariant="normal" lspace="0em" rspace="0em">≠</mo></msubsup><mo>=</mo><mi mathvariant="normal">Δ</mi><msubsup><mi mathvariant="normal">G</mi><mrow><mn>0</mn><mi mathvariant="normal">c</mi></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">≠</mo></msubsup><mo>+</mo><mi>α</mi><mi mathvariant="normal">F</mi><mo stretchy="false">(</mo><mi mathvariant="normal">E</mi><mo>−</mo><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1-3)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm \Delta G_{c}^{\ne} =  \Delta G_{0c}^{\ne}+\alpha F(E-E^{0&#x27;}) \tag{1-3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2588em;vertical-align:-0.2663em;"></span><span class="mord"><span class="mord mathrm">Δ</span><span class="mord"><span class="mord mathrm">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight"><span class="mrel mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord mtight"><span class="mrel mtight"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel mtight">=</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">Δ</span><span class="mord"><span class="mord mathrm">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">0c</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight"><span class="mrel mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord mtight"><span class="mrel mtight"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel mtight">=</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord mathrm">F</span><span class="mopen">(</span><span class="mord mathrm">E</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathrm">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9925em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span class="tag"><span class="strut" style="height:1.2588em;vertical-align:-0.2663em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1-3</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi mathvariant="normal">G</mi><mi mathvariant="normal">a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">≠</mo></msubsup><mo>=</mo><mi mathvariant="normal">Δ</mi><msubsup><mi mathvariant="normal">G</mi><mrow><mn>0</mn><mi mathvariant="normal">a</mi></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">≠</mo></msubsup><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><mi mathvariant="normal">F</mi><mo stretchy="false">(</mo><mi mathvariant="normal">E</mi><mo>−</mo><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1-4)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm \Delta G_{a}^{\ne} =  \Delta G_{0a}^{\ne}-(1-\alpha) F(E-E^{0&#x27;}) \tag{1-4}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2588em;vertical-align:-0.2663em;"></span><span class="mord"><span class="mord mathrm">Δ</span><span class="mord"><span class="mord mathrm">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">a</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight"><span class="mrel mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord mtight"><span class="mrel mtight"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel mtight">=</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">Δ</span><span class="mord"><span class="mord mathrm">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">0a</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight"><span class="mrel mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord mtight"><span class="mrel mtight"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel mtight">=</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord mathrm">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord mathrm">F</span><span class="mopen">(</span><span class="mord mathrm">E</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathrm">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9925em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span class="tag"><span class="strut" style="height:1.2588em;vertical-align:-0.2663em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1-4</span></span><span class="mord">)</span></span></span></span></span></span></p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230521154154.webp" style="zoom:60%;" /><center>图1-2  过渡态附近的局部放大图</center><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230521161308.webp" style="zoom:40%;" /><center>图1-3  传递系数a的取值与自由能曲线的关系 </center><p>如果 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>&lt;</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\alpha&lt;\frac{1}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> ，想象反应物的自由能曲线接近于一条直线，则在电势变化前后正反应的活化能趋近于不变，而自由能的变化几乎全部体现在逆反应的活化能变化上，如果 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>&gt;</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\alpha&gt;\frac{1}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> ，则自由能变化全部体现在正反应上</p><blockquote><p>我这里对过渡态附近自由能的变化<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false">(</mo><mi>E</mi><mo>−</mo><msup><mi>E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">F(E-E^{0&#x27;})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1925em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9425em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 有疑惑：越靠近过渡态，电子应该处于电极和反应物中的某一位置，势必会跨过界面处。那这里的自由能变化值不会发生变化吗？</p></blockquote><p>将1-3和1-4应用于过渡态理论，得到1-5和1-6。其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">f</mi><mo>=</mo><mfrac><mi mathvariant="normal">F</mi><mrow><mi mathvariant="normal">R</mi><mi mathvariant="normal">T</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\rm f = \frac{F}{RT}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathrm" style="margin-right:0.07778em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">RT</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">F</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mi mathvariant="normal">k</mi><mi mathvariant="normal">f</mi></msub><mo>=</mo><msub><mi mathvariant="normal">A</mi><mi mathvariant="normal">f</mi></msub><mtext> </mtext><mi mathvariant="normal">e</mi><mi mathvariant="normal">x</mi><mi mathvariant="normal">p</mi><mo stretchy="false">(</mo><mo>−</mo><mfrac><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi mathvariant="normal">G</mi><mrow><mn>0</mn><mi mathvariant="normal">c</mi></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">≠</mo></msubsup></mrow><mrow><mi mathvariant="normal">R</mi><mi mathvariant="normal">T</mi></mrow></mfrac><mo stretchy="false">)</mo><mtext> </mtext><mi mathvariant="normal">e</mi><mi mathvariant="normal">x</mi><mi mathvariant="normal">p</mi><mo stretchy="false">[</mo><mo>−</mo><mi>α</mi><mi mathvariant="normal">f</mi><mo stretchy="false">(</mo><mi mathvariant="normal">E</mi><mo>−</mo><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1-5)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm k_f = A_f\,exp(-\frac{\Delta G_{0c}^{\ne}}{RT})\,exp[-\alpha f(E-E^{0&#x27;})]\tag{1-5}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.33em;vertical-align:-0.686em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight" style="margin-right:0.07778em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight" style="margin-right:0.07778em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathrm">exp</span><span class="mopen">(</span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.644em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">RT</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">Δ</span><span class="mord"><span class="mord mathrm">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">0c</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight"><span class="mrel mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord mtight"><span class="mrel mtight"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel mtight">=</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathrm">exp</span><span class="mopen">[</span><span class="mord">−</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord mathrm" style="margin-right:0.07778em;">f</span><span class="mopen">(</span><span class="mord mathrm">E</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathrm">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9925em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose">)]</span></span></span><span class="tag"><span class="strut" style="height:2.33em;vertical-align:-0.686em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1-5</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mi mathvariant="normal">k</mi><mi mathvariant="normal">b</mi></msub><mo>=</mo><msub><mi mathvariant="normal">A</mi><mi mathvariant="normal">b</mi></msub><mtext> </mtext><mi mathvariant="normal">e</mi><mi mathvariant="normal">x</mi><mi mathvariant="normal">p</mi><mo stretchy="false">(</mo><mo>−</mo><mfrac><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi mathvariant="normal">G</mi><mrow><mn>0</mn><mi mathvariant="normal">a</mi></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">≠</mo></msubsup></mrow><mrow><mi mathvariant="normal">R</mi><mi mathvariant="normal">T</mi></mrow></mfrac><mo stretchy="false">)</mo><mtext> </mtext><mi mathvariant="normal">e</mi><mi mathvariant="normal">x</mi><mi mathvariant="normal">p</mi><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><mi mathvariant="normal">f</mi><mo stretchy="false">(</mo><mi mathvariant="normal">E</mi><mo>−</mo><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1-6)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm k_b = A_b\,exp(-\frac{\Delta G_{0a}^{\ne}}{RT})\,exp[(1-\alpha) f(E-E^{0&#x27;})]\tag{1-6}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.33em;vertical-align:-0.686em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathrm">exp</span><span class="mopen">(</span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.644em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">RT</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">Δ</span><span class="mord"><span class="mord mathrm">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">0a</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight"><span class="mrel mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord mtight"><span class="mrel mtight"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel mtight">=</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathrm">exp</span><span class="mopen">[(</span><span class="mord mathrm">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord mathrm" style="margin-right:0.07778em;">f</span><span class="mopen">(</span><span class="mord mathrm">E</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathrm">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9925em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose">)]</span></span></span><span class="tag"><span class="strut" style="height:2.33em;vertical-align:-0.686em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1-6</span></span><span class="mord">)</span></span></span></span></span></span></p><p>在进行下一步之前有必要说明一下 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup></mrow><annotation encoding="application/x-tex">\rm E^{0&#x27;}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9425em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9425em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> 究竟代表什么含义。在B-V方程的推导中需要设定反应物和产物处于浓度标准态，即 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi><mo>∗</mo></msubsup><mo>=</mo><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">R</mi><mo>∗</mo></msubsup></mrow><annotation encoding="application/x-tex">\rm C^*_O = C^*_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.964em;vertical-align:-0.2753em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4247em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4247em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">R</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span></span></span></span></span> 。此外由于初始条件为平衡状态，因此电势 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup></mrow><annotation encoding="application/x-tex">\rm E^{0&#x27;}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9425em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9425em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> 为标准平衡电势。</p><p>1-5和1-6中只有第二个指数项中存在我们关心的电势项，因此看看是不是能将前两个杂项处理一下。将反应速率定义为阴极反应速率减去阳极反应速率，相当于正反应速率减去逆反应速率。在平衡条件下，净反应速率为0，同时表面浓度与本体浓度相等，即 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi mathvariant="normal">t</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi><mo>∗</mo></msubsup><mo>=</mo><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">R</mi><mo>∗</mo></msubsup><mo>=</mo><msub><mi mathvariant="normal">C</mi><mi mathvariant="normal">R</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi mathvariant="normal">t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\rm C_O(0,t) = C^*_O = C^*_R = C_R(0,t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0253em;vertical-align:-0.2753em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathrm">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathrm">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4247em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4247em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">R</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathrm">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathrm">t</span><span class="mclose">)</span></span></span></span></span> ，推导见公式1-7、1-8。由此引出一个新的物理量<strong>标准速率常数</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>k</mi><mn>0</mn></msup></mrow><annotation encoding="application/x-tex">k^0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span> （standard rate constant） ，用来表征平衡时反应速率的快慢。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi mathvariant="normal">v</mi><mrow><mi mathvariant="normal">n</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">t</mi></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>v</mi><mi>c</mi></msub><mo>−</mo><msub><mi>v</mi><mi>a</mi></msub><mo>=</mo><msub><mi>k</mi><mi>f</mi></msub><mo>×</mo><msubsup><mi>C</mi><mi>O</mi><mo>∗</mo></msubsup><mo>−</mo><msub><mi>k</mi><mi>b</mi></msub><mo>×</mo><msubsup><mi>C</mi><mi>R</mi><mo>∗</mo></msubsup><mo>=</mo><mn>0</mn></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align}\rm v_{net} &amp;= v_c - v_a = k_f \times C_O^* - k_b \times C_R^* = 0 \tag{1-7} \\\end{align}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.5em;vertical-align:-0.5em;"></span><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1em;"><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0139em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">net</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1em;"><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-2.453em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">O</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-2.453em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1em;"><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1-7</span></span><span class="mord">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msup><mi mathvariant="normal">k</mi><mn>0</mn></msup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>k</mi><mi>f</mi></msub><mo>=</mo><msub><mi>k</mi><mi>b</mi></msub><mspace width="1em"/><mo stretchy="false">(</mo><mtext>平衡</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi mathvariant="normal">k</mi><mi mathvariant="normal">f</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msup><mi>k</mi><mn>0</mn></msup><mo>×</mo><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">[</mo><mo>−</mo><mi>α</mi><mi>f</mi><mo stretchy="false">(</mo><mi>E</mi><mo>−</mo><msup><mi>E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi mathvariant="normal">k</mi><mi mathvariant="normal">b</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msup><mi>k</mi><mn>0</mn></msup><mo>×</mo><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><mi>f</mi><mo stretchy="false">(</mo><mi>E</mi><mo>−</mo><msup><mi>E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align}\rm k^0 &amp;= k_f = k_b \quad(平衡) \notag \\\rm k_f &amp;= k^0 \times exp[-\alpha f(E-E^{0&#x27;})] \tag{1-8}  \\\rm k_b &amp;= k^0 \times exp[(1-\alpha) f(E-E^{0&#x27;})]  \notag\end{align}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.8291em;vertical-align:-2.1645em;"></span><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6645em;"><span style="top:-4.8004em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.1479em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight" style="margin-right:0.07778em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-1.4955em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1645em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6645em;"><span style="top:-4.8004em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">(</span><span class="mord cjk_fallback">平衡</span><span class="mclose">)</span></span></span><span style="top:-3.1479em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">−</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9925em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose">)]</span></span></span><span style="top:-1.4955em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal">p</span><span class="mopen">[(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9925em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose">)]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1645em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6645em;"><span style="top:-4.8004em;"><span class="pstrut" style="height:3em;"></span><span></span></span><span style="top:-3.1479em;"><span class="pstrut" style="height:3em;"></span><span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1-8</span></span><span class="mord">)</span></span></span></span><span style="top:-1.4955em;"><span class="pstrut" style="height:3em;"></span><span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1645em;"><span></span></span></span></span></span></span></span></span></p><p>所以1-5和1-6可以简化表示，并最终得到B-V方程1-9：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi mathvariant="normal">i</mi><mo>=</mo><mi mathvariant="normal">F</mi><mi mathvariant="normal">A</mi><msup><mi mathvariant="normal">k</mi><mn>0</mn></msup><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi mathvariant="normal">C</mi><mi mathvariant="script">O</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi mathvariant="normal">t</mi><mo stretchy="false">)</mo><msup><mi mathvariant="normal">e</mi><mrow><mo>−</mo><mi>α</mi><mi mathvariant="normal">f</mi><mo stretchy="false">(</mo><mi mathvariant="normal">E</mi><mo>−</mo><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo></mrow></msup><mo>−</mo><msub><mi mathvariant="normal">C</mi><mi mathvariant="script">R</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi mathvariant="normal">t</mi><mo stretchy="false">)</mo><msup><mi mathvariant="normal">e</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><mi mathvariant="normal">f</mi><mo stretchy="false">(</mo><mi mathvariant="normal">E</mi><mo>−</mo><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo></mrow></msup></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1-9)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm i=FAk^0\begin{bmatrix}C_{\mathcal{O}}(0,t)e^{-\alpha f(E-E^{0&#x27;})}-C_{\mathcal{R}}(0,t)e^{(1-\alpha)f(E-E^{0&#x27;})}\\ \end{bmatrix}\tag{1-9}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.8em;vertical-align:-0.65em;"></span><span class="mord"><span class="mord mathrm">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">FA</span><span class="mord"><span class="mord mathrm">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0022em;"><span style="top:-3.0022em;"><span class="pstrut" style="height:3.1445em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:0.02778em;">O</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1445em;"><span style="top:-3.1445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7815em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1164em;"><span style="top:-3.1164em;margin-right:0.0714em;"><span class="pstrut" style="height:2.6854em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9596em;"><span style="top:-2.9596em;margin-right:0.1em;"><span class="pstrut" style="height:2.5556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathcal mtight">R</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1445em;"><span style="top:-3.1445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7815em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mclose mtight">)</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1164em;"><span style="top:-3.1164em;margin-right:0.0714em;"><span class="pstrut" style="height:2.6854em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9596em;"><span style="top:-2.9596em;margin-right:0.1em;"><span class="pstrut" style="height:2.5556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5022em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">]</span></span></span></span></span><span class="tag"><span class="strut" style="height:1.8em;vertical-align:-0.65em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1-9</span></span><span class="mord">)</span></span></span></span></span></span></p><h1>单电子过程</h1><h2 id="平衡条件下的B-V方程">平衡条件下的B-V方程</h2><p>平衡条件下：净电流为0，表面浓度与本体浓度相等。更重要的是，B-V方程1-9必须能够得出nernst公式。这里的区别在，平衡电势E是任意浓度下都成立，并非标准态下。将 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo>=</mo><msub><mi>E</mi><mrow><mi>e</mi><mi>q</mi></mrow></msub></mrow><annotation encoding="application/x-tex">E=E_{eq}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> 带入1-9中，得到2-1,与nernet方程完全一致：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msup><mi>e</mi><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>E</mi><mrow><mi mathvariant="normal">e</mi><mi mathvariant="normal">q</mi></mrow></msub><mo>−</mo><msup><mi>E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo></mrow></msup><mo>=</mo><mfrac><msubsup><mi>C</mi><mi mathvariant="normal">O</mi><mo lspace="0em" rspace="0em">∗</mo></msubsup><msubsup><mi>C</mi><mi mathvariant="normal">R</mi><mo lspace="0em" rspace="0em">∗</mo></msubsup></mfrac></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-1)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">e^{f(E_{\mathrm{eq}}-E^{0^{\prime}})}=\frac{C_{\mathrm{O}}^{*}}{C_{\mathrm{R}}^{*}} \tag{2-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1945em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1945em;"><span style="top:-3.1945em;margin-right:0.05em;"><span class="pstrut" style="height:2.7815em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0576em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">eq</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1164em;"><span style="top:-3.1164em;margin-right:0.0714em;"><span class="pstrut" style="height:2.6854em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9596em;"><span style="top:-2.9596em;margin-right:0.1em;"><span class="pstrut" style="height:2.5556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3452em;vertical-align:-0.9795em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3657em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6705em;"><span style="top:-2.4065em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">R</span></span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2935em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4247em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">O</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9795em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:2.3452em;vertical-align:-0.9795em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-1</span></span><span class="mord">)</span></span></span></span></span></span></p><p>反应的平衡实际上是动态平衡，因此存在平衡时数值相等的阴极电流和阳极电流，记为exchange current $ i_0 $ （交换电流），如2-2。经过简单的处理后可以得到两个更常用的公式2-3和2-4：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mi mathvariant="normal">i</mi><mn>0</mn></msub><mo>=</mo><msub><mi mathvariant="normal">i</mi><mi mathvariant="normal">a</mi></msub><mo>=</mo><msub><mi mathvariant="normal">i</mi><mi mathvariant="normal">c</mi></msub><mo>=</mo><mi mathvariant="normal">F</mi><mi mathvariant="normal">A</mi><msup><mi mathvariant="normal">k</mi><mn>0</mn></msup><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi><mo lspace="0em" rspace="0em">∗</mo></msubsup><msup><mi mathvariant="normal">e</mi><mrow><mo>−</mo><mi>α</mi><mi mathvariant="normal">f</mi><mo stretchy="false">(</mo><msub><mi mathvariant="normal">E</mi><mrow><mi mathvariant="normal">e</mi><mi mathvariant="normal">q</mi></mrow></msub><mo>−</mo><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo></mrow></msup><mspace width="2em"/><mo stretchy="false">(</mo><mi mathvariant="normal">E</mi><mo>=</mo><msub><mi mathvariant="normal">E</mi><mrow><mi mathvariant="normal">e</mi><mi mathvariant="normal">q</mi></mrow></msub><mo stretchy="false">)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-2)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm i_0 = i_a = i_c = F A k^{0}C_{\mathrm{O}}^{*}e^{-\alpha f(E_{\mathrm{eq}}-E^{0^{\prime}})} \qquad (E = E_{eq})   \tag{2-2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.4806em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">FA</span><span class="mord"><span class="mord mathrm">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">0</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">O</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathrm">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1945em;"><span style="top:-3.1945em;margin-right:0.05em;"><span class="pstrut" style="height:2.7815em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mord mathrm mtight" style="margin-right:0.07778em;">f</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathrm mtight">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">eq</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathrm mtight">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1164em;"><span style="top:-3.1164em;margin-right:0.0714em;"><span class="pstrut" style="height:2.6854em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9596em;"><span style="top:-2.9596em;margin-right:0.1em;"><span class="pstrut" style="height:2.5556em;"></span><span class="mord mtight"><span class="mord mathrm mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:2em;"></span><span class="mopen">(</span><span class="mord mathrm">E</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">eq</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span class="tag"><span class="strut" style="height:1.4806em;vertical-align:-0.2861em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-2</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mi mathvariant="normal">i</mi><mn>0</mn></msub><mo>=</mo><mi mathvariant="normal">F</mi><mi mathvariant="normal">A</mi><msup><mi mathvariant="normal">k</mi><mn>0</mn></msup><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi><mrow><mo>∗</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo></mrow></msubsup><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">R</mi><mrow><mo>∗</mo><mi>α</mi></mrow></msubsup></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-3)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm i_0 = FAk^0C_O^{*(1-\alpha)}C_R^{*\alpha}\tag{2-3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3383em;vertical-align:-0.2935em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">FA</span><span class="mord"><span class="mord mathrm">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4065em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span><span class="mopen mtight">(</span><span class="mord mathrm mtight">1</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2935em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">R</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1.3383em;vertical-align:-0.2935em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-3</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mi mathvariant="normal">i</mi><mn>0</mn></msub><mo>=</mo><mi mathvariant="normal">F</mi><mi mathvariant="normal">A</mi><msub><mi mathvariant="normal">k</mi><mn>0</mn></msub><mi mathvariant="normal">C</mi><mspace width="2em"/><mo stretchy="false">(</mo><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi><mo>∗</mo></msubsup><mo>=</mo><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">R</mi><mo>∗</mo></msubsup><mo>=</mo><mi mathvariant="normal">C</mi><mo stretchy="false">)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-4)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm i_0 = FAk_0C \qquad (C_O^* = C_R^*=C)  \tag{2-4}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">FA</span><span class="mord"><span class="mord mathrm">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathrm">C</span><span class="mspace" style="margin-right:2em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">R</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">C</span><span class="mclose">)</span></span></span><span class="tag"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-4</span></span><span class="mord">)</span></span></span></span></span></span></p><p>交换电流密度 $ i_0 $ 与标准速率常数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>k</mi><mn>0</mn></msup></mrow><annotation encoding="application/x-tex">k^0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span> 成正比，因此一般使用交换电流密度比较电化学反应进行的难易程度。</p><h2 id="电流-过电势公式">电流-过电势公式</h2><p>用形式电势表示的nernst公式虽然形式简单，但是并不那么好用，关键在形式电势与很多量相关，不容易确定。实验中更常使用的是过电势 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>η</mi><mo>=</mo><mi>E</mi><mo>−</mo><msub><mi>E</mi><mrow><mi>e</mi><mi>q</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\eta = E - E_{eq}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">η</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> ，因此有必要把公式1-9中的形式电势全部更换为过电势。首先将1-9与2-1对应相除，得到2-5；再将2-1做部分处理和替换，得到电流-过电势公式 current-overpotential equation 2-6：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mfrac><mi>i</mi><msub><mi>i</mi><mn>0</mn></msub></mfrac><mo>=</mo><mfrac><mrow><msub><mi>C</mi><mn>0</mn></msub><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><msubsup><mi>C</mi><mn>0</mn><mo>∗</mo></msubsup></mfrac><msup><mi>e</mi><mrow><mo>−</mo><mi>α</mi><mi>f</mi><mo stretchy="false">(</mo><mi>E</mi><mo>−</mo><msup><mi>E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo></mrow></msup><msup><mrow><mo fence="true">(</mo><mfrac><msubsup><mi>C</mi><mn>0</mn><mo>∗</mo></msubsup><msubsup><mi>C</mi><mi>R</mi><mo>∗</mo></msubsup></mfrac><mo fence="true">)</mo></mrow><mi>α</mi></msup><mo>−</mo><mfrac><mrow><msub><mi>C</mi><mi>R</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><msubsup><mi>C</mi><mi>R</mi><mo>∗</mo></msubsup></mfrac><msup><mi>e</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><mi>f</mi><mo stretchy="false">(</mo><mi>E</mi><mo>−</mo><msup><mi>E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo></mrow></msup><msup><mrow><mo fence="true">(</mo><mfrac><msubsup><mi>C</mi><mn>0</mn><mo>∗</mo></msubsup><msubsup><mi>C</mi><mi>R</mi><mo>∗</mo></msubsup></mfrac><mo fence="true">)</mo></mrow><mrow><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo></mrow></msup></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-5)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\frac{i}{i_0}=\frac{C_0(0,t)}{C_0^*}e^{-\alpha f(E-E^{0&#x27;})}\left(\frac{C_0^*}{C_R^*}\right)^\alpha-\frac{C_R(0,t)}{C_R^*}e^{(1-\alpha)f(E-E^{0&#x27;})}\left(\frac{C_0^*}{C_R^*}\right)^{-(1-\alpha)}\tag{2-5}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.1725em;vertical-align:-0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3365em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4838em;vertical-align:-0.9795em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6705em;"><span style="top:-2.4337em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9523em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1945em;"><span style="top:-3.1945em;margin-right:0.05em;"><span class="pstrut" style="height:2.7815em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1164em;"><span style="top:-3.1164em;margin-right:0.0714em;"><span class="pstrut" style="height:2.6854em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9596em;"><span style="top:-2.9596em;margin-right:0.1em;"><span class="pstrut" style="height:2.5556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3657em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6705em;"><span style="top:-2.4065em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2935em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4519em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9795em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.5043em;"><span style="top:-3.9029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.7074em;vertical-align:-0.9795em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6705em;"><span style="top:-2.4065em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2935em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9795em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1945em;"><span style="top:-3.1945em;margin-right:0.05em;"><span class="pstrut" style="height:2.7815em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mclose mtight">)</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1164em;"><span style="top:-3.1164em;margin-right:0.0714em;"><span class="pstrut" style="height:2.6854em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9596em;"><span style="top:-2.9596em;margin-right:0.1em;"><span class="pstrut" style="height:2.5556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3657em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6705em;"><span style="top:-2.4065em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2935em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4519em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9795em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.7279em;"><span style="top:-3.9029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:2.7074em;vertical-align:-0.9795em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-5</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>i</mi><mo>=</mo><msub><mi>i</mi><mn>0</mn></msub><mo fence="false" stretchy="true" minsize="2.4em" maxsize="2.4em">[</mo><mfrac><mrow><msub><mi>C</mi><mn>0</mn></msub><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><msubsup><mi>C</mi><mn>0</mn><mo>∗</mo></msubsup></mfrac><msup><mi>e</mi><mrow><mo>−</mo><mi>α</mi><mi>f</mi><mi>η</mi></mrow></msup><mo>−</mo><mfrac><mrow><msub><mi>C</mi><mi>R</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><msubsup><mi>C</mi><mi>R</mi><mo>∗</mo></msubsup></mfrac><msup><mi>e</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><mi>f</mi><mi>η</mi></mrow></msup><mo fence="false" stretchy="true" minsize="2.4em" maxsize="2.4em">]</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-6)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">i=i_0\bigg[\frac{C_0(0,t)}{C_0^*}e^{-\alpha f\eta}-\frac{C_R(0,t)}{C_R^*}e^{(1-\alpha)f\eta}\bigg] \tag{2-6}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4023em;vertical-align:-0.9523em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6705em;"><span style="top:-2.4337em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9523em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">η</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.4295em;vertical-align:-0.9795em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6705em;"><span style="top:-2.4065em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2935em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9795em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mclose mtight">)</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">η</span></span></span></span></span></span></span></span></span><span class="mord"><span class="delimsizing size3">]</span></span></span><span class="tag"><span class="strut" style="height:2.4295em;vertical-align:-0.9795em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-6</span></span><span class="mord">)</span></span></span></span></span></span></p><p>在2-6中，除了表观参数 $ \alpha $ 和交换电流以外，还有最后一个棘手的物理量，表面浓度。对此有两种简化方式：</p><ol><li>假设充分搅拌，表面浓度 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≈</mo></mrow><annotation encoding="application/x-tex">\approx</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4831em;"></span><span class="mrel">≈</span></span></span></span> 本体浓度 （下下节的重点内容）</li><li>物质传递过程控制的、基于线性浓度梯度假设的过程计算（下节内容）</li></ol><h2 id="物质传递控制的B-V方程">物质传递控制的B-V方程</h2><p>下面研究的电极反应必须满足以下条件：<strong>非均相电荷转移反应速率远大于物质传递过程，表面浓度与电极电势符合nernst方程；其他反应（如均相反应）达到平衡</strong>。这时的电极反应速率可以视为与反应物由溶液本体向电极表面的物质传递速率相等，即</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mi>v</mi><mrow><mi>n</mi><mi>e</mi><mi>t</mi></mrow></msub><mo>=</mo><msub><mi>v</mi><mrow><mi>m</mi><mi>t</mi></mrow></msub></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-7)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">v_{net} = v_{mt}\tag{2-7}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-7</span></span><span class="mord">)</span></span></span></span></span></span></p><p>这个时候的状态是，由于物质传递过程的控制，扩散到电极表面的反应物被迅速反应，电极表面的反应物维持在一定浓度，遵守nernst方程，因此也称为<strong>nernst反应</strong>。再次假设：<strong>体系存在大量支持电解质，电迁移项可忽略；没有搅拌等外界干扰，对流项可忽略</strong>。由菲克第一定律知，物质扩散速率与浓度梯度成正比。假设<strong>浓度梯度随距离表面的位置线性变化，且在扩散层厚度 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>δ</mi><mi>O</mi></msub></mrow><annotation encoding="application/x-tex">\delta_O</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">O</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 之外反应物浓度为体相浓度</strong>，则物质扩散速率与体相浓度和表面浓度之差成正比（2-8）。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mi>v</mi><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">t</mi></mrow></msub><mo>=</mo><msub><mi>D</mi><mi mathvariant="normal">O</mi></msub><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">[</mo><msubsup><mi>C</mi><mi mathvariant="normal">O</mi><mo>∗</mo></msubsup><mo>−</mo><msub><mi>C</mi><mi mathvariant="normal">O</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo>=</mo><mn>0</mn><mo stretchy="false">)</mo><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">]</mo><mtext>/</mtext><msub><mi>δ</mi><mi mathvariant="normal">O</mi></msub><mo>=</mo><msub><mi>m</mi><mn>0</mn></msub><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">[</mo><msubsup><mi>C</mi><mn>0</mn><mo>∗</mo></msubsup><mo>−</mo><msub><mi>C</mi><mn>0</mn></msub><mo stretchy="false">(</mo><mi>x</mi><mo>=</mo><mn>0</mn><mo stretchy="false">)</mo><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">]</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-8)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">v_{\mathrm{mt}}=D_\mathrm{O}\big[C_\mathrm{O}^\ast-C_\mathrm{O}(x=0)\big]\text{/}\delta_\mathrm{O} = m_0\big[C_0^*-C_0(x=0)\big] \tag{2-8}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">mt</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2em;vertical-align:-0.35em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="delimsizing size1">[</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-2.453em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2em;vertical-align:-0.35em;"></span><span class="mord">0</span><span class="mclose">)</span><span class="mord"><span class="delimsizing size1">]</span></span><span class="mord text"><span class="mord">/</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2em;vertical-align:-0.35em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="delimsizing size1">[</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-2.453em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2em;vertical-align:-0.35em;"></span><span class="mord">0</span><span class="mclose">)</span><span class="mord"><span class="delimsizing size1">]</span></span></span><span class="tag"><span class="strut" style="height:1.2em;vertical-align:-0.35em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-8</span></span><span class="mord">)</span></span></span></span></span></span></p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/image-20230524184239018.webp" alt="image-20230524184239018" style="zoom:50%;" /><center>图2-1  扩散层相关假设</center><center>（实线为实际浓度分布，虚线为近似浓度分布）</center><p>将公式1-1的式1带入2-8中，得到2-9。假设 $\rm C_O(x=0) \approx 0 $ 时，电流达到极限，称为极限扩散电流 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">i</mi><mi mathvariant="normal">l</mi></msub><mo>=</mo><mi mathvariant="normal">n</mi><mi mathvariant="normal">F</mi><mi mathvariant="normal">A</mi><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi><mo>∗</mo></msubsup></mrow><annotation encoding="application/x-tex">\rm i_l = nFAC_O^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.964em;vertical-align:-0.2753em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">nFA</span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4247em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span></span></span></span></span> 。 当达到极限扩散电流时，O的物质传递速率达到最大，并且一到达电极表面就被反应。将极限扩散电流带入到2-9中，得到重要公式2-10：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mfrac><mi mathvariant="normal">i</mi><mrow><mi mathvariant="normal">n</mi><mi mathvariant="normal">F</mi><mi mathvariant="normal">A</mi></mrow></mfrac><mo>=</mo><msub><mi mathvariant="normal">m</mi><mi mathvariant="normal">O</mi></msub><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">[</mo><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi><mo>∗</mo></msubsup><mo>−</mo><msub><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi></msub><mo stretchy="false">(</mo><mi mathvariant="normal">x</mi><mo>=</mo><mn>0</mn><mo stretchy="false">)</mo><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">]</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-9)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm \frac{i}{nFA} = m_O\big[C_O^*-C_O(x=0)\big]\tag{2-9}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.0309em;vertical-align:-0.686em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3449em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">nFA</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="delimsizing size1">[</span></span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathrm">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">0</span><span class="mclose">)</span><span class="mord"><span class="delimsizing size1">]</span></span></span></span><span class="tag"><span class="strut" style="height:2.0309em;vertical-align:-0.686em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-9</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mfrac><mrow><msub><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi></msub><mo stretchy="false">(</mo><mi mathvariant="normal">x</mi><mo>=</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi><mo>∗</mo></msubsup></mfrac><mo>=</mo><mn>1</mn><mo>−</mo><mfrac><mi mathvariant="normal">i</mi><msub><mi mathvariant="normal">i</mi><mi mathvariant="normal">l</mi></msub></mfrac></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-10)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm \frac{C_O(x=0)}{C_O^*} = 1-\frac{i}{i_l} \tag{2-10}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4065em;vertical-align:-0.9795em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6705em;"><span style="top:-2.4065em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2935em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathrm">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">0</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9795em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3449em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span class="tag"><span class="strut" style="height:2.4065em;vertical-align:-0.9795em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-10</span></span><span class="mord">)</span></span></span></span></span></span></p><p>现在开始考虑R：由于传递到电极表面的O被全部反应，则其在数值上等于R生成的速率和R向溶液本体扩散的速率（2-11）。对于nernst反应（电荷转移速率极快），反应视为平衡，满足nernst方程，只不过与热力学平衡时有所不同，浓度不是本体浓度而是表面浓度。由2-10和2-11获得表面浓度，就可以带入到2-12中求得电势与电流的关系（2-13）。这里需要注意的是，还需要另考虑R达到极限扩散时的阳极极限扩散电流 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mrow><mi>l</mi><mo separator="true">,</mo><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">i_{l,a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9456em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> ，与阴极极限扩散电流 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mrow><mi>l</mi><mo separator="true">,</mo><mi>c</mi></mrow></msub></mrow><annotation encoding="application/x-tex">i_{l,c}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9456em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> 对应。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mfrac><mi>i</mi><mrow><mi>n</mi><mi>F</mi><mi>A</mi></mrow></mfrac><mo>=</mo><msub><mi>m</mi><mi>R</mi></msub><mo stretchy="false">[</mo><msub><mi>C</mi><mi>R</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo>=</mo><mn>0</mn><mo stretchy="false">)</mo><mo>−</mo><msubsup><mi>C</mi><mi>R</mi><mo>∗</mo></msubsup><mo stretchy="false">]</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-11)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\frac{i}{nFA}=m_R[C_R(x=0)-C_R^\ast]\tag{2-11}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.0225em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3365em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord mathnormal">A</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-2.453em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span><span class="tag"><span class="strut" style="height:2.0225em;vertical-align:-0.686em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-11</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>E</mi><mo>=</mo><msup><mi>E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo>+</mo><mfrac><mrow><mi>R</mi><mi>T</mi></mrow><mrow><mi>n</mi><mi>F</mi></mrow></mfrac><mi>ln</mi><mo>⁡</mo><mfrac><mrow><msub><mi>C</mi><mi mathvariant="normal">O</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo>=</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><mrow><msub><mi>C</mi><mi mathvariant="normal">R</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo>=</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mfrac></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-12)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">E=E^{0&#x27;}+\frac{RT}{nF}\ln\frac{C_\mathrm{O}(x=0)}{C_\mathrm{R}(x=0)}\tag{2-12}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0758em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9925em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">RT</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">ln</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-12</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>E</mi><mo>=</mo><msup><mi>E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo>−</mo><mfrac><mrow><mi>R</mi><mi>T</mi></mrow><mrow><mi>n</mi><mi>F</mi></mrow></mfrac><mi>ln</mi><mo>⁡</mo><mfrac><msub><mi>m</mi><mtext>O</mtext></msub><msub><mi>m</mi><mtext>R</mtext></msub></mfrac><mo>+</mo><mfrac><mrow><mi>R</mi><mi>T</mi></mrow><mrow><mi>n</mi><mi>F</mi></mrow></mfrac><mi>ln</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mfrac><mrow><msub><mi>i</mi><mrow><mi>l</mi><mo separator="true">,</mo><mtext>c</mtext></mrow></msub><mo>−</mo><mi>i</mi></mrow><mrow><mi>i</mi><mo>−</mo><msub><mi>i</mi><mrow><mi>l</mi><mo separator="true">,</mo><mtext>a</mtext></mrow></msub></mrow></mfrac><mo fence="true">)</mo></mrow></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-13)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">E=E^{0&#x27;}-\frac{RT}{nF}\ln\frac{m_\text{O}}{m_\text{R}}+\frac{RT}{nF}\ln\left(\frac{i_{l,\text{c}}-i}{i-i_{l,\text{a}}}\right)\tag{2-13}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0758em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9925em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.1963em;vertical-align:-0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">RT</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">ln</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">R</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">O</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.4221em;vertical-align:-0.9721em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">RT</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">ln</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3365em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mpunct mtight">,</span><span class="mord text mtight"><span class="mord mtight">a</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mpunct mtight">,</span><span class="mord text mtight"><span class="mord mtight">c</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9721em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span><span class="tag"><span class="strut" style="height:2.4221em;vertical-align:-0.9721em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-13</span></span><span class="mord">)</span></span></span></span></span></span></p><p>当电流为0时，电势为平衡电势，体系处于热力学平衡状态。当电流不为0时，电势也将偏离平衡电势，形成过电势。由于已经假设电荷转移过程足够快，因此这里的过电势全部是由物质扩散过程引起，称为浓度过电势。</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/image-20230526192657962.webp" alt="image-20230526192657962" style="zoom: 20%;" /><h2 id="不考虑物质传递的B-V方程">不考虑物质传递的B-V方程</h2><p>对于电流-过电势公式2-6，不考虑物质传递的影响，则表面浓度与本体浓度相等，可简化为2-14（Butler-Volmer公式）。这个公式仅包含两个实验参数，交换电流密度和转移系数。直观来看，交换电流密度 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">i_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8095em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 表示相同过电势下反应的快慢，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">i_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8095em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 很大时，反应在很小的过电势下就可以达到物质扩散极限，反之将需要一个很大的过电势才能得到可观的电流。转移系数 $\alpha $ 反映了极化曲线对原点的中心对称性。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>i</mi><mo>=</mo><msub><mi>i</mi><mn>0</mn></msub><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">[</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>α</mi><mi>f</mi><mi>η</mi></mrow></msup><mo>−</mo><msup><mi>e</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><mi>f</mi><mi>η</mi></mrow></msup><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">]</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-14)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">i=i_0\big[e^{-\alpha f\eta}-e^{(1-\alpha)f\eta}\big] \tag{2-14}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2491em;vertical-align:-0.35em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="delimsizing size1">[</span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">η</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.288em;vertical-align:-0.35em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mclose mtight">)</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">η</span></span></span></span></span></span></span></span></span><span class="mord"><span class="delimsizing size1">]</span></span></span><span class="tag"><span class="strut" style="height:1.288em;vertical-align:-0.35em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-14</span></span><span class="mord">)</span></span></span></span></span></span></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;鸽了两个月，终于准备开始写了······&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;Butler-Volmer方程&lt;/h1&gt;
&lt;p&gt;&lt;em&gt;基本公式见1-1&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;电化学反应速率、电流和电极表面浓度的关系可以通过1-1构建。尽管</summary>
      
    
    
    
    <category term="化学" scheme="https://liubaichen.github.io/categories/%E5%8C%96%E5%AD%A6/"/>
    
    
    <category term="电化学" scheme="https://liubaichen.github.io/tags/%E7%94%B5%E5%8C%96%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>memorandum</title>
    <link href="https://liubaichen.github.io/posts/f0a32b96/"/>
    <id>https://liubaichen.github.io/posts/f0a32b96/</id>
    <published>2023-05-13T10:14:00.000Z</published>
    <updated>2023-06-02T07:54:25.573Z</updated>
    
    <content type="html"><![CDATA[<p>用于记录近期动态</p><h1>python 爬虫</h1><p>时间线：2月底-3月底</p><h2 id="2023-3-4">2023.3.4</h2><p>今日工作：浅尝辄止地学习了html、css和javascript，可以读懂基本语句；回顾了布朗运动、fick第一定律；开始学习python爬虫。</p><p>重现<em>书</em>中的代码，根据元素的属性爬取《战争与和平》节选部分中的全部人名。</p><blockquote><p>Python网络数据采集</p></blockquote><p>为了能大概看懂网站的配置文件，html、css和javascript还是有必要了解的。</p><blockquote><p><a href="https://www.w3schools.com/html/default.asp">https://www.w3schools.com/html/default.asp</a></p></blockquote><blockquote><p>本来是想放些代码上去的，但不知道怎样避免冲突，那就先这样吧…</p></blockquote><h2 id="2023-3-8">2023.3.8</h2><p>今日工作：</p><ol><li>beautifulsoup学习，成功爬取了博客主页的文章title、abstract和对应文章的主体内容（终于有了一点小小的成就感）</li><li>开始把以前写的draft发到网站上</li></ol><hr><p>今天晚上开始学习requests的时候发生了一个重大错误：我把py文件命名成了requests！！！<br>然后就开始疯狂报错…<br>最开始我认为是刚刚pip install，所以重启了vscode。然后又尝试了换一个文件等等，最后突然意识到好像命名有问题…</p><h2 id="2023-3-10">2023.3.10</h2><ul><li>about regex</li></ul><p>main point</p><ol><li>if <em>(.*?)</em> lies in the last of regex, you will get nothing!!!</li><li>remember compile regex with optional modifiers such as <em>re.M</em> firstly or directly write regex when you use it just like</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    regex = re.<span class="built_in">compile</span>(regex,optional modifier)</span><br><span class="line">    content_1 = regex.findall(<span class="built_in">str</span>)</span><br><span class="line">    --------------------------------------------------- </span><br><span class="line">    content_2 = re.findall(regex,<span class="built_in">str</span>,optional modifier)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2023-3-11">2023.3.11</h2><p>today’s work</p><ol><li>python basic knowledge: class and instance</li><li>scrape douban by requests</li><li>about html: div and li</li></ol><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/%E6%9C%AA%E5%91%BD%E5%90%8D%E5%9B%BE%E7%89%87.png" alt="我爱mami" title="疯狂迫害" style="zoom: 50%;" /><h1>AI绘画</h1><h2 id="2023-3-23">2023.3.23</h2><p>今天按照b站up主秋大的贴心教程搞定了webui和lora的安装，并且成功在google的colab上训练了後藤ひとり的lora模型（因为显存可能不太够，还没在本地训练）</p><p>晚上在本地用中午训练的模型试了一下文生图，竟然有一张还 <s>不错</s> 的!</p><h2 id="2023-3-27">2023.3.27</h2><p>前天在c站看到Cheese Daddy’s Landscapes mix大模型，一眼就喜欢上了，今天花了一个小时就拿到了一张不错的图</p><h2 id="2023-4-5">2023.4.5</h2><p>这几天又陆续对3月27日的图进行了修改，并且尝试了纯风景图</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/fujiyama-shaonv.webp" style="zoom: 25%;" /><p>这张图我真的超级喜欢，就是背景的三个山头真的碍眼···想用inpaint修改一下结果发现容易出黑边，可能需要用ps修正，或者再学一学inpaint的技巧</p><p>这几天的使用让我对AI的迅速发展大受震惊，感觉自己之前就是一个原始人···总之非常感谢深度学习的研发者、模型分享者以及谷歌无偿的colab，让我这个没有任何艺术细胞的人能够体验到绘画的乐趣。</p><h1>SIF2</h1><h2 id="2023-4-15">2023.4.15</h2><p>今天lovelive sif2开服，早早就下载了，结果发现打开就报错（エラー），心想估计是手机没有google框架。下午在图书馆花了几十分钟按照youtube一个大佬的详细指导成功在鸿蒙3系统上用上了google框架。之前玩乃木坂音游的时候就有想过安装google框架，但是失败了；而且后来发现其实并不需要google，所以就没有继续下去。这次算是一劳永逸的解决了问题。</p><p><a href="https://www.youtube.com/watch?v=VaGeM-LU0Ug&amp;list=LL&amp;index=1">视频链接：一瓶奶油</a></p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/sif2_rirari.webp" alt="rinari kawaii！" style="zoom: 25%;" /><p>りなちゃんが一番可愛い！！！</p><h1>BanG Dream!</h1><h2 id="2023-5-13">2023.5.13</h2><p>最近沉迷邦邦！好后悔没有早点入坑啊！5月7号买了日区初始号之后，又一次体会到了最初玩音游时候的快感，仿佛又回到了2020年刚开始接触乃木坂音游的时候。另外还真真切切地体会到了初始号的重要性，真就可以为所欲为地整30个10连！</p><h2 id="2023-5-20">2023.5.20</h2><p>今天用主号抽了一轮saaya的生日限定，结果就中了一个兰的5星，亏的血本无归（悲！）。一怒之下买了个小号，又抽了一轮，结果连个4星都无（大悲！）。</p><p>发誓以后主号必须谨慎抽卡，想爽就去小号···</p><h2 id="2023-5-31">2023.5.31</h2><p>新活动开启，第一次参加对邦活动。这次有saaya的限定5星，拿小号毫不犹豫地大抽特抽。前40抽没有一个四星本来都准备保底了，挂了日区vpn后，80抽和100多抽来了2个saaya，然后5星和4星一堆（活动的三个5星也全抽齐了），爽爆了好吧。以后抽卡必须挂日区vpn。</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/Screenshot_20230531_152304_jp.co.craftegg.band.webp" alt="Screenshot_20230531_152304_jp.co.craftegg.band" style="zoom: 25%;" /><h1>Colab</h1><h2 id="2023-06-02-难得一遇？">2023.06.02  难得一遇？</h2><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/colab.webp" alt=""></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;用于记录近期动态&lt;/p&gt;
&lt;h1&gt;python 爬虫&lt;/h1&gt;
&lt;p&gt;时间线：2月底-3月底&lt;/p&gt;
&lt;h2 id=&quot;2023-3-4&quot;&gt;2023.3.4&lt;/h2&gt;
&lt;p&gt;今日工作：浅尝辄止地学习了html、css和javascript，可以读懂基本语句；回顾了布朗运动、f</summary>
      
    
    
    
    <category term="diary" scheme="https://liubaichen.github.io/categories/diary/"/>
    
    
    <category term="杂谈" scheme="https://liubaichen.github.io/tags/%E6%9D%82%E8%B0%88/"/>
    
  </entry>
  
  <entry>
    <title>苏联与犹太人</title>
    <link href="https://liubaichen.github.io/posts/e8b84bc6/"/>
    <id>https://liubaichen.github.io/posts/e8b84bc6/</id>
    <published>2023-05-07T12:44:35.000Z</published>
    <updated>2023-05-21T02:26:50.038Z</updated>
    
    <content type="html"><![CDATA[<h1>犹太复国主义与英国托管时期</h1><p>根据犹太教的说法，以色列地区是上帝赐给犹太人的圣地。19世纪以来，犹太复国主义者号召全世界的犹太人“回归故土”，出现大批移民潮。特别是在一战后，奥斯曼帝国解体，英国控制中东地区，支持在巴勒斯坦建立犹太国，引发第三和第四次回归浪潮。30年代起由于美国和德国的反犹浪潮，巴勒斯坦的犹太人占比进一步增加，侵占了阿拉伯人的生存环境，民族冲突加剧。</p><h1>苏联在巴以冲突中的角色</h1><p>犹太复国主义的宗教和民族色彩与社会主义背道而驰，再加上英国对犹太人的支持，苏联对犹太复国主义有着天然的反感。二战爆发后，被占领区的犹太人遭到大肆迫害，苏联通过犹太人获得了大量援助，并且希望借助犹太人反法西斯委员会这张外交牌向西方国家索取物资。二战后期，英美苏三方开始了世界范围内的势力角逐，中东地区自然不会错过。苏联为了介入中东，提出由苏联托管巴勒斯坦地区。显然，英美是绝对不会同意的。而即使是盟友关系的英美，在这一问题上也有相当多的分歧，其根源在作为中东霸主，英国自然不想将巴勒斯坦问题提交联合国，被第三国干涉。首先，美国提出允许欧洲犹太难民移民到巴勒斯坦，意指插手中东事务，而英国以巴以冲突为由予以拒绝。巴勒斯坦问题是一个涉及英、美、苏、阿拉伯国家和犹太人五个势力的棘手问题，而苏联的态度并不明确，至少没有明显地支持以色列建国。</p><p>1947年初英国与巴以三方的协商又一次失败后，巴勒斯坦问题被提交至联合国。这给了苏联染指中东的机会，同时英国也争取了时间，因为巴勒斯坦问题已经复杂到联合国也无法解决的地步。5月苏联联合国代表葛罗米柯公开表示支持犹太复国主义，苏联的态度发生大转变。9月该问题提交至11国特别委员会审议，结果为7票赞成巴以分治，3票赞同巴以联邦，1票弃权。11月以33赞成、13反对、10弃权通过印巴分治的联合国181号决议。决议主要内容为：犹太国面积为56.4%，巴勒斯坦为42.8%，耶路撒冷由联合国管理。冷战开始后，美苏两国竟然在巴以问题上达成了惊人的默契，分别说服自己的盟友投赞同票，对印巴分治起到决定性作用。苏联的决策是可以理解的，因为它巴不得局势越乱越好。美国的决策就有些耐人寻味了，通过181号决议，美国也得到了插手中东的机会，但是与苏联分享这一机会是绝对不可以接受的。所以在很长的一段时间内，美国并没有全心全意地支持以色列。</p><p>第一次中东战争期间，苏联命令般地让东欧国家与以色列做军火买卖，尽管自己并不直接参与。同时还默许大批东欧犹太人移民以色列，当然苏联国内对犹太人的移民基本是卡死的，此时苏联国内也正值反犹太主义盛行时期。因此苏联支持以色列建国绝不可能是出于对犹太人的同情，而是在借英美发生矛盾重返中东。更重要的是，无论以色列在战后是否加入社会主义阵营，苏联都是稳赚不赔。最好的情况当然是倒向苏联，再次是在美苏之间保持中立，苏联依旧可以把以色列作为中东据点。甚至是最差的结果，即以色列倒向美国，他们的死对头阿拉伯国家也一定会自己找上门开，苏联完全不用担心置身于中东事务之外。</p><h1>苏联犹委会的悲惨命运</h1><h2 id="历史转折中的犹委会">历史转折中的犹委会</h2><p>与苏联在第一次中东战争前后全力支持犹太人建国截然相反的是，苏联犹太人反法西斯委员会的命运多舛！二战开始后，德国对犹太人的大屠杀行径逐渐被世人知晓。苏联借机建立犹委会，希望通过打犹太人这张牌，获取西方犹太人的援助。因此，对苏联来说，犹委会存在的唯一意义就是从西方国家谋求好处。随着冷战格局的形成，犹委会就失去了根基。这主要表现为以下四个事件：</p><ol><li><p>克里米亚（克里木）犹太共和国破产：二战后，斯大林以通敌罪流放了克里米亚半岛的全部原住民，这激起了犹太人希望回到原聚集地，建立自治共和国的热情。苏共内部也在积极推动此事，希望获得西方犹太人的更多资助。随着冷战的开始，克里木方案自然落空。此事后来还成为犹太人的“主要罪证”。</p></li><li><p>《黑皮书》被禁：《黑皮书》描写的是德军屠杀犹太人的种种罪行，在二战期间得到苏联官方的支持。由于本书还涉及苏联西部被占领区群众的反犹行为，再加上国际形势的变化，本书在即将出版前被毙掉，永无出版之日。</p></li></ol><blockquote><p>我最喜欢的苏联小说《生存与命运》的作者格罗斯曼，是《黑皮书》的重要贡献者。他出生在一个犹太家庭，母亲在苏德战争期间被杀害，之后作为战地记者参与众多著名战役，并目睹了犹太人集中营和战争的残酷（和小说中的剧情完全一致！）。战后苏联的反犹政策最终令格罗斯曼转向彻底否定苏联制度，并于1959年完成了《生存与命运》这部伟大的作品</p></blockquote><ol start="3"><li>犹委会主席米霍埃尔斯被当局谋杀（1948年1月），犹委会濒临死亡</li></ol><p>直到1948年，犹委会作为一个机构还存在着。当然，这仅仅是因为苏大林支持以色列建国的需要。但是苏联国内犹太人狂热的民族主义浪潮和复国主义思想令斯大林等人大吃一惊。苏联一直对外声称犹太人问题是社会制度问题，只会发生在资本主义这种非民主国家，在社会主义国家是不会存在的。而现在大批犹太人希望移民以色列，简直是对苏联的极大讽刺。5月以色列建国和9月梅厄（后来的以色列第一位女总统）到访莫斯科引发犹太人的强烈反响，犹委会也彻底沦落为苏共的宣传工具，站在了犹太同胞的对立面，落了个里外不是人的下场。</p><h2 id="大难临头">大难临头</h2><p>1948年底，犹委会被查封，不久所有成员被捕。关于“犹太人反法西斯委员会案”，都还是苏联的老一套。但是犹委会案并没有很快结束，1949年的列宁格勒事件和一系列大清洗阻碍了“审判的进行”。1952年后，犹委会案的了结是苏联反犹浪潮的引爆点，斯大林本想通过医生案从肉体和精神上消灭犹太人，但是由于1953年的驾崩（原文用词）而夭折。</p><p>以下内容摘自文章结语：</p><p><em>斯大林对犹委会的镇压以及接踵而来的反犹行动对苏联社会的发展造成了严重后果。在国内，成千上万的犹太人因为不满苏联当局的反犹政策而迁往以色列、美国等西方国家，使苏联丧失了大量优秀的科技人才和文化精英。反犹主义就像一个毒痈，削弱了苏联社会的民族凝聚力。在国外，一些西方犹太组织借机掀起了反苏浪潮，苏联一手扶持起来的以色列也倒向美国阵营，苏联在世人心目中的形象被严重抹黑，在外交上也陷于被动。今天，当我们重温这段历史的时候，就会发现，导致苏联这个强盛一时的超级大国在冷战的历史舞台上轰然瓦解、黯然落败的，并非被视为第五纵队的犹委会和苏联犹太人，而是斯大林本人！或者说，是他一手打造的政治体制！当斯大林在精心炮制犹委会的悲剧之时，可能万万没有想到，他同时也在给自己亲手缔造的红色帝国炮制着一出更大的历史悲剧！<br>孟子说，“杀一无罪非仁也&quot;，又说，“天子不仁，不保四海；诸侯不仁，不保社稷，视民如土芥，绳民若盗贼，或许这就是苏联70年而亡的主要原因之一</em></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;犹太复国主义与英国托管时期&lt;/h1&gt;
&lt;p&gt;根据犹太教的说法，以色列地区是上帝赐给犹太人的圣地。19世纪以来，犹太复国主义者号召全世界的犹太人“回归故土”，出现大批移民潮。特别是在一战后，奥斯曼帝国解体，英国控制中东地区，支持在巴勒斯坦建立犹太国，引发第三和第四次回归浪潮</summary>
      
    
    
    
    <category term="历史" scheme="https://liubaichen.github.io/categories/%E5%8E%86%E5%8F%B2/"/>
    
    
    <category term="苏联史" scheme="https://liubaichen.github.io/tags/%E8%8B%8F%E8%81%94%E5%8F%B2/"/>
    
  </entry>
  
  <entry>
    <title>毕业论文格式排版与endnote使用心得</title>
    <link href="https://liubaichen.github.io/posts/c868dd72/"/>
    <id>https://liubaichen.github.io/posts/c868dd72/</id>
    <published>2023-05-05T12:28:16.000Z</published>
    <updated>2023-05-30T09:55:44.131Z</updated>
    
    <content type="html"><![CDATA[<p>首先要吐槽一下某大学毕业论文不提供latex模板就算了，给的word模板不仅难用还有错误！word除了全平台通用和上手方便（markdown：？）这两个优点之外，真的是满满的槽点。为了防止自己或许某天可能会因为忘了某些小技巧而焦头烂额，还是有必要记下来。</p><h1>word</h1><ol><li><p>正文段落使用固定间距时，图片、公式插入出现遮挡：将图片样式设置为单倍行距</p></li><li><p>一级标题位于页首时段前间距消失：</p><ul><li>段落界面设置段前分页（可行）</li><li>设置分节符（存疑）</li></ul></li><li><p>英文自动换行——选中，段落选项中中文版式——允许西文单词自动换行</p></li><li><p>姓名导师栏下划线无法对齐</p><ul><li>最笨但是不会有副作用的方法：联合使用调整空格的字符宽度和使用标尺调节段落的左右页边距</li><li>一劳永逸的方法：表格，但是由于模板使用的是下划线，所以可能会存在格式问题？</li></ul></li><li></li></ol><h1>endnote</h1><ol><li><p>同一处引用多篇非连续参考文献时出现空格：endnote——tools——outputs style——edit 当前模板，进入模板的设置界面（非常重要），在citations——templates界面，下方删除逗号后的空格</p></li><li><p>各种类型参考文献的格式引用错误都可以在模板设置界面修改，比如英文文献后是否添加空格、中文文献设置等</p></li><li><p>如果文献issue缺省，可能会出现volume与pages直接相连的情况，chatgpt说这符合APA格式（？意义不明），但很明显这不符合GB格式，而且容易造成混淆。修改的方法是将journal article的模板格式中的issue前后都加上 | 作为分隔符，如 **Author. Title[J]. Journal, Year, Volume|(Issue)|: Pages|. **</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Anwar M N, Fayyaz A, Sohail N F, et al. CO2 capture and storage: A way forward for sustainable environment[J]. J Environ Manage, 2018, 226131-144.</span><br></pre></td></tr></table></figure></li><li><p>英文使用半角标点和新罗马字体，中文数字和标点符号等使用全角和宋体（文献标识依然使用新罗马字体）<br>好像基本无解？，毕竟太复杂了。建议手动调整</p></li><li><p>行间距设置<br>word的endnote栏——edit &amp; manage citation中可以调整行间距和悬挂等，但是只能调12或者24磅，如果是其他数值——手动</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;首先要吐槽一下某大学毕业论文不提供latex模板就算了，给的word模板不仅难用还有错误！word除了全平台通用和上手方便（markdown：？）这两个优点之外，真的是满满的槽点。为了防止自己或许某天可能会因为忘了某些小技巧而焦头烂额，还是有必要记下来。&lt;/p&gt;
&lt;h1&gt;w</summary>
      
    
    
    
    <category term="diary" scheme="https://liubaichen.github.io/categories/diary/"/>
    
    
    <category term="杂谈" scheme="https://liubaichen.github.io/tags/%E6%9D%82%E8%B0%88/"/>
    
  </entry>
  
  <entry>
    <title>使用Alexnet处理mnist</title>
    <link href="https://liubaichen.github.io/posts/b12fe7b5/"/>
    <id>https://liubaichen.github.io/posts/b12fe7b5/</id>
    <published>2023-05-05T02:52:43.000Z</published>
    <updated>2023-05-09T02:12:50.561Z</updated>
    
    <content type="html"><![CDATA[<p>参考图书：<a href="https://zh-v2.d2l.ai/index.html">《动手学深度学习》</a></p><p>本节内容基于卷积神经网络、lexnet和alexnet的基础内容，请参考<a href="https://kotobanoniwa.xyz/posts/dd983220/">卷积神经网络基础</a></p><h1>预处理</h1><p>alexnet框架针对的是224*224的图片，但是mnist只有28*28，因此首先要进行预处理</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd </span><br><span class="line"><span class="keyword">from</span> torch.utils <span class="keyword">import</span> data</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 导入colab自带的mnist数据集</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">df_train = pd.read_csv(os.path.join(<span class="string">&quot;sample_data&quot;</span>,<span class="string">&quot;mnist_train_small.csv&quot;</span>))</span><br><span class="line">df_test = pd.read_csv(os.path.join(<span class="string">&quot;sample_data&quot;</span>,<span class="string">&quot;mnist_test.csv&quot;</span>))</span><br><span class="line"><span class="comment"># 这里features的dtype必须转为float型，否则在后面处理时会报错</span></span><br><span class="line">train_features = np.array(df_train.values[:<span class="number">19900</span>,<span class="number">1</span>:], dtype=np.float32)</span><br><span class="line">train_labels = np.array(df_train.values[:<span class="number">19900</span>,<span class="number">0</span>])</span><br><span class="line">test_features = np.array(df_test.values[:<span class="number">9900</span>,<span class="number">1</span>:], dtype=np.float32)</span><br><span class="line">test_labels = np.array(df_test.values[:<span class="number">9900</span>,<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 预处理mnist图像到224*224</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">preprocess_mnist_image</span>(<span class="params">img</span>):</span><br><span class="line">    <span class="comment"># 缩放图像</span></span><br><span class="line">    img = cv2.resize(img, (<span class="number">224</span>, <span class="number">224</span>), interpolation=cv2.INTER_LINEAR)</span><br><span class="line">    <span class="comment"># 填充图像</span></span><br><span class="line">    width, height = img.shape[:<span class="number">2</span>]</span><br><span class="line">    ratio = <span class="number">224</span> / <span class="built_in">max</span>(width, height)</span><br><span class="line">    new_width = <span class="built_in">int</span>(ratio * width)</span><br><span class="line">    new_height = <span class="built_in">int</span>(ratio * height)</span><br><span class="line">    delta_w = <span class="number">224</span> - new_width</span><br><span class="line">    delta_h = <span class="number">224</span> - new_height</span><br><span class="line">    top, bottom = delta_h//<span class="number">2</span>, delta_h-(delta_h//<span class="number">2</span>)</span><br><span class="line">    left, right = delta_w//<span class="number">2</span>, delta_w-(delta_w//<span class="number">2</span>)</span><br><span class="line">    img = cv2.copyMakeBorder(img, top, bottom, left, right, cv2.BORDER_CONSTANT, value=[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>])</span><br><span class="line">    <span class="keyword">return</span> img</span><br></pre></td></tr></table></figure><p>preprocess_mnist_image函数完全由chatgpt完成，且没有做任何修改就可以使用，具体实现我也不太懂。不过主要功能是输入numpy类型的28*28图像，使用双线性插值法扩充为224*224的图像。在实操后发现由于缩放前后宽高比相同，第一句代码的resize函数已经将图像成功缩放到了224*224，因此实际上不需要后面的填充图像部分。如果缩放前后的宽高比不同，填充图像部分的代码会在图像周围添加黑色边框。缩放前后的效果如下：</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230505143518.webp" alt=""></p><p>在之前的学习中都是将全部test和train数据统一处理后用DataLoader函数打包进tensor数据集</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将数据分为mini-batch</span></span><br><span class="line"><span class="comment"># tensordataset函数将多个tensor打包为一个集合,然后使用dataloader函数划分数据</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">load_array</span>(<span class="params">data_arrays, batch_size, is_train=<span class="literal">True</span></span>):  </span><br><span class="line">    <span class="string">&quot;&quot;&quot;构造一个PyTorch数据迭代器&quot;&quot;&quot;</span></span><br><span class="line">    dataset = data.TensorDataset(*data_arrays)</span><br><span class="line">    <span class="keyword">return</span> data.DataLoader(dataset, batch_size, shuffle=is_train)</span><br></pre></td></tr></table></figure><p>这样做的最大问题在一股脑地将大量数据扔进内存中。之前这么处理没有问题是因为数据本身较小，仅占2G左右，对于colab来说绰绰有余。但是将数据扩充后，colab就吃不消了。因此需要用python的iterator功能动态生成mini-batch（下面的代码全部由chatgpt完成）。chatgpt基于data.Dataset自定义了MNISTDataset类。传入数据不变，在内部将传入数据中的features部分进行预处理，然后返回处理后的features和label。__getitem__函数用于返回features和label组成的tuple。其中from_numpy函数与tensor哈桑农户类似，但是后者返回一个新的tensor，前者与原numpy数据共享内存。.long()是为了将label转换为长整数型，</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MNISTDataset</span>(data.Dataset):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, X, y</span>):</span><br><span class="line">        self.X = X</span><br><span class="line">        self.y = y</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(self.X)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, idx</span>):</span><br><span class="line">        img = np.reshape(self.X[idx], (<span class="number">28</span>, <span class="number">28</span>))</span><br><span class="line">        img = preprocess_mnist_image(img)</span><br><span class="line">        img = torch.from_numpy(img).<span class="built_in">float</span>()</span><br><span class="line">        label = torch.from_numpy(np.array(self.y[idx])).long()</span><br><span class="line">        <span class="keyword">return</span> img, label</span><br><span class="line"></span><br><span class="line">batch_size = <span class="number">100</span></span><br><span class="line"></span><br><span class="line">train_dataset = MNISTDataset(train_features, train_labels)</span><br><span class="line">test_dataset = MNISTDataset(test_features, test_labels)</span><br><span class="line"></span><br><span class="line">train_iter = data.DataLoader(train_dataset, batch_size=batch_size, shuffle=<span class="literal">True</span>)</span><br><span class="line">test_iter = data.DataLoader(test_dataset, batch_size=batch_size, shuffle=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><h1>NN框架</h1><p>终于来到alexnet最核心的地方了。但真正实现起来反而是最简单的一部分，与lenet相比也就多了几行代码（多亏了pytorch的帮助）。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将input转化为四维张量</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Reshape</span>(torch.nn.Module):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x</span>):</span><br><span class="line">    <span class="keyword">return</span> x.view(-<span class="number">1</span>,<span class="number">1</span>,<span class="number">224</span>,<span class="number">224</span>)</span><br><span class="line"></span><br><span class="line">net = nn.Sequential(</span><br><span class="line">    Reshape(),</span><br><span class="line">    nn.Conv2d(<span class="number">1</span>, <span class="number">96</span>, kernel_size=<span class="number">11</span>, stride=<span class="number">4</span>, padding=<span class="number">1</span>), nn.ReLU(),</span><br><span class="line">    nn.MaxPool2d(kernel_size=<span class="number">3</span>, stride=<span class="number">2</span>),</span><br><span class="line">    nn.Conv2d(<span class="number">96</span>, <span class="number">256</span>, kernel_size=<span class="number">5</span>, padding=<span class="number">2</span>), nn.ReLU(),</span><br><span class="line">    nn.MaxPool2d(kernel_size=<span class="number">3</span>, stride=<span class="number">2</span>),</span><br><span class="line">    nn.Conv2d(<span class="number">256</span>, <span class="number">384</span>, kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>), nn.ReLU(),</span><br><span class="line">    nn.Conv2d(<span class="number">384</span>, <span class="number">384</span>, kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>), nn.ReLU(),</span><br><span class="line">    nn.Conv2d(<span class="number">384</span>, <span class="number">256</span>, kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>), nn.ReLU(),</span><br><span class="line">    nn.MaxPool2d(kernel_size=<span class="number">3</span>, stride=<span class="number">2</span>),</span><br><span class="line">    nn.Flatten(),</span><br><span class="line">    nn.Linear(<span class="number">6400</span>, <span class="number">4096</span>), nn.ReLU(),</span><br><span class="line">    nn.Dropout(p=<span class="number">0.5</span>),</span><br><span class="line">    nn.Linear(<span class="number">4096</span>, <span class="number">4096</span>), nn.ReLU(),</span><br><span class="line">    nn.Dropout(p=<span class="number">0.5</span>),</span><br><span class="line">    nn.Linear(<span class="number">4096</span>, <span class="number">10</span>))</span><br></pre></td></tr></table></figure><p>与lenet的主要区别：除了核大小、卷积层数的变化外，新引入了dropout、relu函数和maxpool层。</p><h1>result</h1><p>结构复杂起来后，参数的影响变得显著起来。由于使用relu函数，应采用较小的学习率。这里首先采用书上使用的0.01，参数更新方法使用SGD。逐渐向上调整lr的过程中发现，迭代情况变化非常迅速，lr=0.05时与lr=0.01时基本相同，lr=0.1时由于loss无法计算导致参数无法更新。nan（not a number）表示数值计算异常，可能是出现了0/0、ln(0)等情况。尝试搭配权重衰减和lr=0.1使用，train loss仍为nan。尝试在lr=0.01计算上进一步减小学习率，并加上权重衰减，效果并没有明显提升。</p><p>SGD，lr=0.01，epoch=10</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Epoch [<span class="number">1</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0061</span>, Train Accuracy: <span class="number">80.24</span>%, Test Accuracy: <span class="number">95.47</span>%</span><br><span class="line">Epoch [<span class="number">2</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0012</span>, Train Accuracy: <span class="number">96.27</span>%, Test Accuracy: <span class="number">97.47</span>%</span><br><span class="line">Epoch [<span class="number">9</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0002</span>, Train Accuracy: <span class="number">99.26</span>%, Test Accuracy: <span class="number">98.87</span>%</span><br><span class="line">Epoch [<span class="number">10</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0002</span>, Train Accuracy: <span class="number">99.23</span>%, Test Accuracy: <span class="number">98.88</span>%</span><br></pre></td></tr></table></figure><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230505110937.webp" alt=""></p><p>SGD, lr=0.05, epoch=10</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Epoch [<span class="number">1</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0230</span>, Train Accuracy: <span class="number">13.35</span>%, Test Accuracy: <span class="number">9.27</span>%</span><br><span class="line">Epoch [<span class="number">2</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0216</span>, Train Accuracy: <span class="number">23.37</span>%, Test Accuracy: <span class="number">8.99</span>%</span><br><span class="line">Epoch [<span class="number">3</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0211</span>, Train Accuracy: <span class="number">25.26</span>%, Test Accuracy: <span class="number">68.51</span>%</span><br><span class="line">Epoch [<span class="number">9</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0003</span>, Train Accuracy: <span class="number">99.13</span>%, Test Accuracy: <span class="number">98.29</span>%</span><br><span class="line">Epoch [<span class="number">10</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0002</span>, Train Accuracy: <span class="number">99.25</span>%, Test Accuracy: <span class="number">98.91</span>%</span><br></pre></td></tr></table></figure><p>SGD, lr=0.1, epoch=10</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Epoch [<span class="number">1</span>/<span class="number">10</span>], Train Loss: nan, Train Accuracy: <span class="number">9.80</span>%, Test Accuracy: <span class="number">9.79</span>%</span><br><span class="line">Epoch [<span class="number">2</span>/<span class="number">10</span>], Train Loss: nan, Train Accuracy: <span class="number">9.81</span>%, Test Accuracy: <span class="number">9.79</span>%</span><br><span class="line">Epoch [<span class="number">3</span>/<span class="number">10</span>], Train Loss: nan, Train Accuracy: <span class="number">9.81</span>%, Test Accuracy: <span class="number">9.79</span>%</span><br></pre></td></tr></table></figure><p>SGD, lr=0.005, epoch=10, weight_decay=0.001</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Epoch [<span class="number">1</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0061</span>, Train Accuracy: <span class="number">80.04</span>%, Test Accuracy: <span class="number">94.66</span>%</span><br><span class="line">Epoch [<span class="number">2</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0014</span>, Train Accuracy: <span class="number">95.44</span>%, Test Accuracy: <span class="number">96.63</span>%</span><br><span class="line">Epoch [<span class="number">9</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0004</span>, Train Accuracy: <span class="number">98.79</span>%, Test Accuracy: <span class="number">98.47</span>%</span><br><span class="line">Epoch [<span class="number">10</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0003</span>, Train Accuracy: <span class="number">98.93</span>%, Test Accuracy: <span class="number">98.62</span>%</span><br></pre></td></tr></table></figure><h1>模型的使用</h1><p>之前一直在学习如何训练模型，但没有怎么使用过。训练模型之前我们将NN模型移到了GPU上以加快训练速度，但推理过程本身速度够快，无需在GPU上，因此需要先将模型从GPU移到CPU上。这里为了方便直接使用train数据：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 测试</span></span><br><span class="line">net = net.to(<span class="string">&#x27;cpu&#x27;</span>)</span><br><span class="line">net.<span class="built_in">eval</span>()</span><br><span class="line"><span class="keyword">for</span> X, y <span class="keyword">in</span> train_iter:</span><br><span class="line">    <span class="built_in">print</span>(X.shape, y.shape)</span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">      output=net(X[:<span class="number">5</span>])</span><br><span class="line">      <span class="built_in">print</span>(output)</span><br><span class="line">      <span class="built_in">print</span>(torch.argmax(output,dim=<span class="number">1</span>))</span><br><span class="line">      <span class="built_in">print</span>(y[:<span class="number">5</span>])</span><br><span class="line">    <span class="keyword">break</span> </span><br><span class="line">```</span><br><span class="line">torch.Size([<span class="number">100</span>, <span class="number">224</span>, <span class="number">224</span>]) torch.Size([<span class="number">100</span>])</span><br><span class="line">tensor([[ <span class="number">8.0577e+00</span>, -<span class="number">2.7128e+00</span>,  <span class="number">1.9408e+00</span>,  <span class="number">7.0632e-01</span>, -<span class="number">1.3653e+00</span>,</span><br><span class="line">         -<span class="number">5.7446e-01</span>,  <span class="number">7.0696e-01</span>, -<span class="number">2.5820e+00</span>, -<span class="number">1.8152e+00</span>, -<span class="number">3.3206e-01</span>],</span><br><span class="line">        [-<span class="number">1.7353e+00</span>,  <span class="number">1.2814e+01</span>,  <span class="number">9.6814e-01</span>, -<span class="number">2.5725e+00</span>, -<span class="number">3.9819e-01</span>,</span><br><span class="line">         -<span class="number">3.6534e+00</span>, -<span class="number">3.6662e+00</span>, -<span class="number">1.0881e+00</span>,  <span class="number">1.7450e+00</span>, -<span class="number">1.7823e+00</span>],</span><br><span class="line">        [ <span class="number">1.1222e+01</span>, -<span class="number">4.7647e+00</span>,  <span class="number">1.4974e+00</span>, -<span class="number">1.3909e+00</span>, -<span class="number">2.5974e+00</span>,</span><br><span class="line">         -<span class="number">1.6435e+00</span>,  <span class="number">4.0833e-01</span>, -<span class="number">1.8372e+00</span>, -<span class="number">2.1075e+00</span>,  <span class="number">2.0186e+00</span>],</span><br><span class="line">        [ <span class="number">1.8648e+00</span>, -<span class="number">2.7190e+00</span>, -<span class="number">3.6098e+00</span>, -<span class="number">4.5446e+00</span>,  <span class="number">2.7098e-01</span>,</span><br><span class="line">         -<span class="number">5.1653e-01</span>,  <span class="number">2.3106e+01</span>, -<span class="number">8.5419e+00</span>, -<span class="number">8.5070e-01</span>, -<span class="number">6.6404e+00</span>],</span><br><span class="line">        [-<span class="number">3.0372e+00</span>,  <span class="number">1.1296e+01</span>, -<span class="number">1.0653e-03</span>, -<span class="number">1.0007e+00</span>, -<span class="number">1.7746e-01</span>,</span><br><span class="line">         -<span class="number">2.7877e+00</span>, -<span class="number">2.3883e+00</span>, -<span class="number">1.5731e-01</span>, -<span class="number">3.5602e-01</span>, -<span class="number">1.6468e+00</span>]],</span><br><span class="line">       grad_fn=&lt;AddmmBackward0&gt;)</span><br><span class="line">tensor([<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">6</span>, <span class="number">1</span>])</span><br><span class="line">tensor([<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">6</span>, <span class="number">1</span>])</span><br><span class="line">```</span><br></pre></td></tr></table></figure><p>可以看到前五个数据全部正确（废话，用train数据测试当然基本全对了）。当然也可以将推理所需的数据移动到GPU上</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 测试</span></span><br><span class="line">net.<span class="built_in">eval</span>()</span><br><span class="line"><span class="keyword">for</span> X, y <span class="keyword">in</span> train_iter:</span><br><span class="line">    X = X.to(<span class="string">&quot;cuda&quot;</span>)</span><br><span class="line">    y = y.to(<span class="string">&#x27;cuda&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(X.shape, y.shape)</span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">      output=net(X[:<span class="number">5</span>])</span><br><span class="line">      <span class="built_in">print</span>(output)</span><br><span class="line">      <span class="built_in">print</span>(torch.argmax(output,dim=<span class="number">1</span>))</span><br><span class="line">      <span class="built_in">print</span>(y[:<span class="number">5</span>])</span><br><span class="line">    <span class="keyword">break</span> </span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;参考图书：&lt;a href=&quot;https://zh-v2.d2l.ai/index.html&quot;&gt;《动手学深度学习》&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;本节内容基于卷积神经网络、lexnet和alexnet的基础内容，请参考&lt;a href=&quot;https://kotobanoniwa.xyz</summary>
      
    
    
    
    <category term="python" scheme="https://liubaichen.github.io/categories/python/"/>
    
    
    <category term="深度学习" scheme="https://liubaichen.github.io/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="pytorch" scheme="https://liubaichen.github.io/tags/pytorch/"/>
    
  </entry>
  
  <entry>
    <title>卷积神经网络</title>
    <link href="https://liubaichen.github.io/posts/dd983220/"/>
    <id>https://liubaichen.github.io/posts/dd983220/</id>
    <published>2023-05-01T11:27:05.000Z</published>
    <updated>2023-05-25T10:17:27.464Z</updated>
    
    <content type="html"><![CDATA[<p>参考图书：<a href="https://zh-v2.d2l.ai/index.html">《动手学深度学习》</a></p><h1>卷积层、池化层构建</h1><p>超参数：输出通道数（卷积核数）、步幅、填充、核大小</p><h2 id="卷积层">卷积层</h2><ul><li>填充：扩大输出维度数，防止在深层网络中矩阵越来越小</li><li>步幅：迅速减少输出维度数</li></ul><p>假设n、k、p和s分别代表输入矩阵、卷积核、填充和步幅，下表h和w分别代表高度和宽度，则输出矩阵可表示为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">⌊</mo><mrow><mo fence="true">(</mo><msub><mi>n</mi><mi>h</mi></msub><mo>−</mo><msub><mi>k</mi><mi>h</mi></msub><mo>+</mo><msub><mi>p</mi><mi>h</mi></msub><mo>+</mo><msub><mi>s</mi><mi>h</mi></msub><mo fence="true">)</mo></mrow><mi mathvariant="normal">/</mi><msub><mi>s</mi><mi>h</mi></msub><mo fence="true">⌋</mo></mrow><mo>×</mo><mrow><mo fence="true">⌊</mo><mrow><mo fence="true">(</mo><msub><mi>n</mi><mi>w</mi></msub><mo>−</mo><msub><mi>k</mi><mi>w</mi></msub><mo>+</mo><msub><mi>p</mi><mi>w</mi></msub><mo>+</mo><msub><mi>s</mi><mi>w</mi></msub><mo fence="true">)</mo></mrow><mi mathvariant="normal">/</mi><msub><mi>s</mi><mi>w</mi></msub><mo fence="true">⌋</mo></mrow></mrow><annotation encoding="application/x-tex">\left\lfloor\left(n_{h}-k_{h}+p_{h}+s_{h}\right) / s_{h}\right\rfloor \times\left\lfloor\left(n_{w}-k_{w}+p_{w}+s_{w}\right) / s_{w}\right\rfloor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">⌊</span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">⌋</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">⌊</span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">⌋</span></span></span></span></span></span></p><p>特殊括号表示向下取整。<strong>一般情况下会将填充大小设置为核大小减步幅大小</strong>，即 $ p_h=k_h-s_h, p_w=k_w-s_w $ ，以便于计算，这样就可以进一步简化上式</p><p>使用nn中的Conv2d函数构建convolution layer，参数包括输入通道数、输出通道数、kernel shape和bias shape、padding、stride等</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nn.Conv2d(<span class="number">1</span>,<span class="number">1</span>,kernel_size=(<span class="number">3</span>,<span class="number">5</span>),padding=(<span class="number">0</span>,<span class="number">1</span>),stride=(<span class="number">3</span>,<span class="number">4</span>))</span><br></pre></td></tr></table></figure><p>这里设置的参数满足上面那个原则，注意kernel_size可以是一个tuple，也可以为一个数x，nn会自动解释为一个（x，x）的矩阵</p><h2 id="池化层">池化层</h2><p>为什么要引入池化层：卷积层对位置特别敏感，张量的微小偏移都可能会对输出结果造成大的影响，池化层可以缓解这种敏感性</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line">pool2d = nn.MaxPool2d(<span class="number">2</span>)</span><br><span class="line">x = torch.arange(<span class="number">16</span>,dtype=torch.float32).reshape(<span class="number">1</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line">y = pool2d(x)</span><br><span class="line"><span class="built_in">print</span>(y)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[[[ 0.,  1.,  2.,  3.],</span></span><br><span class="line"><span class="string">          [ 4.,  5.,  6.,  7.],</span></span><br><span class="line"><span class="string">          [ 8.,  9., 10., 11.],</span></span><br><span class="line"><span class="string">          [12., 13., 14., 15.]]]])</span></span><br><span class="line"><span class="string">tensor([[[[ 5.,  7.],</span></span><br><span class="line"><span class="string">          [13., 15.]]]])</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p>在nn的MaxPool2d函数中，<strong>默认的步幅大小是池化窗口大小</strong>。上例中池化窗口大小为2，因此步幅为2，根据上一小节中的公式可以计算得输出维度数也为2</p><h1>LeNet</h1><p>LeNet是上世纪的卷积神经网络，最初的目标就是用来处理mnist。可以参考以前写的使用<a href="https://kotobanoniwa.xyz/posts/92fd094d/">mlp结构</a>，只需要将模型的定义修改为卷积神经网络就可以，使用最简单的sequential构建：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将input转化为四维张量</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Reshape</span>(torch.nn.Module):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x</span>):</span><br><span class="line">    <span class="keyword">return</span> x.view(-<span class="number">1</span>,<span class="number">1</span>,<span class="number">28</span>,<span class="number">28</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 构建NN</span></span><br><span class="line">net = nn.Sequential(</span><br><span class="line">    Reshape(),</span><br><span class="line">    nn.Conv2d(<span class="number">1</span>, <span class="number">6</span>, kernel_size=<span class="number">5</span>, padding=<span class="number">2</span>), nn.Sigmoid(),</span><br><span class="line">    nn.AvgPool2d(kernel_size=<span class="number">2</span>, stride=<span class="number">2</span>),</span><br><span class="line">    nn.Conv2d(<span class="number">6</span>, <span class="number">16</span>, kernel_size=<span class="number">5</span>), nn.Sigmoid(),</span><br><span class="line">    nn.AvgPool2d(kernel_size=<span class="number">2</span>, stride=<span class="number">2</span>),</span><br><span class="line">    nn.Flatten(),</span><br><span class="line">    nn.Linear(<span class="number">16</span> * <span class="number">5</span> * <span class="number">5</span>, <span class="number">120</span>), nn.Sigmoid(),</span><br><span class="line">    nn.Linear(<span class="number">120</span>, <span class="number">84</span>), nn.Sigmoid(),</span><br><span class="line">    nn.Linear(<span class="number">84</span>, <span class="number">10</span>))</span><br></pre></td></tr></table></figure><p>Reshape是自建的layer，用以将colab中的二维张量转化为四维张量，view函数与reshape函数极其类似，但又有部分区别。NN结构基于最原始的LeNet结构：对于（28，28）的一张图片，首先填充为（32，32），然后使用大小为（5，5）的卷积核处理，输出6个（28，28）矩阵。以此类推，使用两个池化层、两个卷积层和三个全连接层构建起NN。这里激活函数使用sigmoid，但是relu是目前最常用的。</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/LeNet_structure.webp" /><blockquote><p>如果简单地将sigmoid函数替换为relu函数效果反而不好，因为relu本身梯度较大，需要调低lr</p></blockquote><h1>AlexNet</h1><p>2012年的alexnet开启了深度学习的新纪元。其相对于传统卷积神经网络lenet有以下几个区别：</p><ol><li>更多更大的数据，使用100万个<em>224*224</em>的样本</li><li>使用GPU加速运算</li><li>使用maxpool替代avgpool</li><li>使用relu替代sigmoid</li><li>使用dropout控制affine层的复杂度</li></ol><p>下图是alexnet的结构。关于输入图像的尺寸，alexnet原始论文是224*224，第一层卷积输出为55*55，但计算一下会发现不太对劲（$ \lfloor (224-11+4)/4\rfloor=54 $）。根据下图中的227*227计算才能得到正确结果55，或者书中使用的输入数据是224*224，第一层输出为54*54。</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/alexnet2.webp" style="zoom:80%;" /><p>alexnet的具体实现请参考下一篇文章<a href="https://kotobanoniwa.xyz/posts/b12fe7b5/">使用Alexnet处理mnist</a></p><h1>VGG</h1><p>VGG（块网络，visual geometry group），基于alexnet的思想，提出了将多个卷积层和最大汇聚层组成VGG块的思路。具体来说，VGG网络由多个VGG块和最后的三个全连接层组成，而VGG块由多个卷积层+relu激活函数和最后的一个maxpool层组成。卷积层的padding为1，kernel_size为3，maxpool层的stride为2，kernel_size为2。这样的设计确保了图片在卷积层保持大小不变，在maxpool层尺寸减小一半，即<strong>每个VGG块使图片尺寸减小一半</strong>。VGG相对于alexnet使用更大更深的结构实现了更高的accuracy，但更重要的是提出了神经网络的模板化思维。另一个改进是又用回了更小的卷积核，这是因为更深的网络结构可能效果更好。</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230506084656.webp" style="zoom: 60%;" /><h1>NiN</h1><p>NiN（network in network）主要对全连接层进行了改进。卷积层虽然计算复杂，超参数众多，但是实际参数比全连接层少得多。卷积层的参数为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>输入通道数</mtext><mo>×</mo><mtext>输出通道数</mtext><mo>×</mo><mtext>核大</mtext><msup><mtext>小</mtext><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">输入通道数\times输出通道数\times核大小^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord cjk_fallback">输入通道数</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord cjk_fallback">输出通道数</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord cjk_fallback">核大</span><span class="mord"><span class="mord cjk_fallback">小</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> ，全连接层的参数为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>输入维度数</mtext><mo>×</mo><mtext>输出维度数</mtext></mrow><annotation encoding="application/x-tex">输入维度数\times输出维度数</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord cjk_fallback">输入维度数</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">输出维度数</span></span></span></span> 。以lenet为例，第一卷积层的参数为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>×</mo><mn>6</mn><mo>×</mo><mn>2</mn><mo>=</mo><mn>12</mn></mrow><annotation encoding="application/x-tex">1\times 6 \times 2=12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">12</span></span></span></span>，第一全连接层的参数为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>16</mn><mo>×</mo><mn>5</mn><mo>×</mo><mn>5</mn><mo stretchy="false">)</mo><mo>×</mo><mn>120</mn><mo>=</mo><mn>48000</mn></mrow><annotation encoding="application/x-tex">(16\times 5 \times 5)\times 120 = 48000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">16</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">5</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">120</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">48000</span></span></span></span>。参数过多有两个问题：内存爆炸和过拟合。</p><blockquote><p>最后一个卷积层经过flatten变为行向量，维度数为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>16</mn><mo>×</mo><mn>5</mn><mo>×</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">16\times 5 \times 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">16</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span></p></blockquote><p>1*1卷积核是NiN中的重要内容。1*1卷积核看似无用，毕竟卷积神经网络的最大优势就是能识别相邻元素，但实际上是非常实用的结构。仔细来看，1*1卷积核是将不同通道线性组合，实质上相当于权重矩阵为（输入通道数，输出通道数）的全连接层。这样就将复杂的全连接层转换为了参数极少的1*1卷积层。</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230506094626.webp" style="zoom:80%;" /><p>NiN延用VGG中块的概念，NiN块由1个正常卷积核和2个1*1卷积核组成，每个核后紧跟一个relu函数。NiN块间通过maxpool连接，以确保尺寸减半。在经过多个块处理后，NiN还有关键一步——全局平均池化层（AdaptiveAvgPool2d），将第三维度和第四维度（分别对应高和宽）通过求平均数压缩成一个数。然后通过flatten转换为2维矩阵，这里已经得到VGG最后一个全连接层的结果了。最后计算softmax和交叉熵误差。</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230507190553.webp" style="zoom:80%;" /><h1>阶段总结</h1><p>到这里总结一下LeNet、AlexNet、VGG和NiN各自的特征：</p><table><thead><tr><th style="text-align:center">网络</th><th style="text-align:center">特征</th></tr></thead><tbody><tr><td style="text-align:center">LeNet</td><td style="text-align:center">首次将GPU应用于深度学习</td></tr><tr><td style="text-align:center">AlexNet</td><td style="text-align:center">引入dropout和maxpool、使用大卷积核</td></tr><tr><td style="text-align:center">VGG</td><td style="text-align:center"><strong>引入块的概念</strong>、<strong>使用maxpool减半尺寸</strong></td></tr><tr><td style="text-align:center">NiN</td><td style="text-align:center"><strong>1*1卷积核</strong>、<strong>全局平均池化层</strong>、无全连接层</td></tr></tbody></table><h1>GoogLeNet</h1><p>GoogLeNet是2014年imagenet比赛冠军（亚军是VGG），它的理念是吸收Alexnet、NiN、VGG等概念，通过4个通道获取不同信息，将它们综合后输出（我全都要233）。到这里神经网络层数已经超过了100，情况也变得非常玄学起来······</p><p>googlenet的块称为inception，包括四条路径（下图）。concatenation是将四条路径的通道数相加。整个inception的输入和输出信号的高宽相同，起到对通道数缩放的作用。</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230509135217.webp" style="zoom:80%;" /><h1>ResNet</h1><p>残差网络（residual network）是2015年的imagenet比赛冠军。其核心理念是在每一个块中引入输入变量，使得信息可以直接从输入层传递到输出层，防止信息在深层网络传递过程中逐渐消失。左图是传统的块结构，中图resnet在激活函数前将输入变量加入到输出变量中。如果通道数发生变化，还需要将输入变量通过1*1卷积核转化为对应通道维度（右图）。</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230511143038.webp" style="zoom: 67%;" />]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;参考图书：&lt;a href=&quot;https://zh-v2.d2l.ai/index.html&quot;&gt;《动手学深度学习》&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;卷积层、池化层构建&lt;/h1&gt;
&lt;p&gt;超参数：输出通道数（卷积核数）、步幅、填充、核大小&lt;/p&gt;
&lt;h2 id=&quot;卷积层&quot;&gt;卷积层&lt;/h2</summary>
      
    
    
    
    <category term="python" scheme="https://liubaichen.github.io/categories/python/"/>
    
    
    <category term="深度学习" scheme="https://liubaichen.github.io/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="pytorch" scheme="https://liubaichen.github.io/tags/pytorch/"/>
    
  </entry>
  
  <entry>
    <title>联合政府政策的推行和破产——希腊、捷克斯洛伐克和中国道路</title>
    <link href="https://liubaichen.github.io/posts/6a4b628f/"/>
    <id>https://liubaichen.github.io/posts/6a4b628f/</id>
    <published>2023-04-19T13:41:07.000Z</published>
    <updated>2023-06-04T14:48:29.995Z</updated>
    
    <content type="html"><![CDATA[<h1>联合政府政策的推行</h1><ul><li>1944年李维诺夫认为英美对抗将是战后的基本特征，这将成为美苏合作的良机</li><li>1944年9月橡树园会议，苏联明确支持联合国总部设在美国，以制约英国，并且促使美国参与国际事务</li></ul><p>斯大林采取了一系列举措，包括解散共产国际、公开宣传苏联道路不是唯一选择、推行联合政府政策等，其目的就是保证和平的外部环境。</p><p>二战中欧洲的共产党发展迅速，到1944年法国共产党有超过100万人，意大利共产党更是超过了200万人。而且不少共产党有自己的武装势力，如法共直接掌握25万人的义勇军游击队。斯大林推出联合政府政策后，法共和意共相继并入各国政府，但共产党其实并没有损失太多，对苏联的政策也没有反对。法共获得了26%的选票，社会党获得25%选票，这相当于左翼势力占了一半以上。但联合政府政策的推行依据实际上是基于1944年10月英苏之间著名的百分百协定。根据协定内容，苏联不插手希腊事务，要求希腊共产党将全部权力交给希腊政府（实则是成为英国的势力范围）。</p><h2 id="希腊内战">希腊内战</h2><p>希腊内战是二战后的第一场代理人战争，是苏联与西方国家冷战开始的缩影，因此有必要了解一下。</p><p>希腊共产党在1944年3月建立临时政府，控制了希腊的大部分领土。流亡海外的希腊国王乔治二世在开罗建立流亡政府，并得到了同盟国的承认。除希腊共产党控制的军队外，希腊全国民主同盟也在参与与意大利和德国的作战。希腊共产党、开罗流亡政府和全国民主同盟三个势力相互敌对，因此二战后期在希腊上演了四方乱斗（还有德意）的混乱局面。1944年10月德国全部撤出希腊，此时正是百分比协定的时间节点。英国军队和流亡政府紧随其后进驻雅典。依照希共军队的战斗力在当时物理控制全国轻而易举，但是他们听从了斯大林的旨意。12月，对百分比协定一无所知的希共军队举行游行示威，与政府发生流血冲突，成为希腊内战的导火索。希共与希共军队的关系因为百分比协定变得紧张，此外希共在撤出雅典前又到处搞暗杀和迫害活动，导致民意支持率大幅度下降。1946年随着苏联与西方国家的关系紧张，希腊内战一触即发。</p><p>尽管英国和苏联是造成希腊内战的罪魁祸首，但南斯拉夫和美国才是左右希腊内战的关键角色。铁托一心摆脱苏联的控制，因此希望借助支持希腊共产党巩固自己在巴尔干半岛的势力。二战后英国实力大削，无力支持希腊政府。1947年英军撤出后，美国取代了英国的地位，提供了大量援助。苏联仍然死脑筋地贯彻百分比协定就算了，1948年苏联和南斯拉夫分道扬镳后，希腊共产党内部就亲苏还是亲南的死亡选择题产生巨大分歧。结果是亲苏派获胜，对亲南派执行了大清洗。在战争的紧要关头还对自己人开刀，估计也就CP能干出这种缺心眼的事。南斯拉夫也是恨铁不成钢，迅速关闭了与希腊的边界，驱逐了所有的希共军队，也断了援助。希共还通过一系列军事上的骚操作（转游击战为大规模攻防战）浪费了战前的全部优势。1949年低残余的小部队逃到了阿尔巴尼亚，希腊内战结束。</p><blockquote><p>我是真的“佩服”苏联和希共的一根筋，一把好牌打得稀烂，能赢才奇了怪</p></blockquote><p>希腊内战是理解苏联（以及其他社会主义国家）政策决断的一个切入点。苏联僵化、独裁的体制决定了，苏联的政策决断存在极大的问题。首先是时局判断错误，战后（甚至是战前）美国的崛起和英国的衰弱都已经是板上钉钉的事，而苏联却反而呆板地执行已经名存实亡的百分比协定。其次是该果断的时候优柔寡断，该谨慎时鲁莽行事。</p><h1>联合政府政策的破产</h1><p>蒋介石在当时与美国走的更为接近，这是斯大林不愿看到的。为此他以参加对日作战为理由，和美国一起迫使中国承认外蒙古独立，然后又开始推行国民党和共产党的联合政府政策。但中共可不像东欧国家共产党那样容易控制，国共两党的战争一触即发，这标志着联合政府政策在亚洲的失败。西欧的形势也不乐观，从1946到1947年，法共、比利时共产党、意共相继被赶出（自愿退出）政府。东欧共产党也开始脱离苏联的控制，镇压反对派，逐渐将权力集中于自己手中。捷克斯洛伐克的二月事件——捷共夺权标志着联合政府政策的全面破产，也是冷战开始的重要信号。</p><p>联合政府政策是斯大林为了保证苏联外部环境安全的权宜之计、与西方国家和平发展的妥协以及其他社会主义道路的探索。斯大林设想在联合政府政策下东欧国家在步伐上与苏联保持一致，但是他显然低估了两种意识形态间的尖锐矛盾。在此背景下，斯大林在战后倡导的各国走不同形式的社会主义道路，又转变为了斯大林道路。</p><h2 id="捷克斯洛伐克道路">捷克斯洛伐克道路</h2><p>捷克斯洛伐克在社会主义道路上充满了悲情的色彩。1938年由于英法的绥靖政策，德国夺取了苏台德地区，次年则直接把捷克斯洛伐克肢解了。因此捷克斯洛伐克人不仅仇视德国，也仇视坐视不理的英国的法国，这在一定程度上反映为对苏好感度高。流亡政府总统贝奈斯认为战后捷克斯洛伐克的外交政策应该为：一半向西，一般向东，构建起东西方交流的桥梁；经济和政策政策应该吸收自由资本主义和社会主义的优点。但这种设想成立的前提是，东西方真的想和平交流。1943年12月苏联和捷克斯洛伐克签订合作条约，实现了贝奈斯长久以来的愿望，苏联也借此在东欧推广贝奈斯的政治策略（亲苏）。贝奈斯并非没有看到苏联与德国一起瓜分波兰等侵略行为，他在1943年曾这样分析时局：从俄国方面来说，与英国相比，他们更为不诚实。但是他错在相信了苏联，尽管当时苏联的联合政府政策可能是真心实意的。</p><p>1945年捷克斯洛伐克的政治势力在莫斯科召开会议，包括贝奈斯的流亡政府、捷共、斯共等。会议的结果是通过了政府声明科西策纲领，捷共和斯共占据了大量的政府关键岗位，但总的来看还称得上是联合政府。在1946年大选前，捷克斯洛伐克共存在两对敌对势力——捷克和斯洛伐克的民族冲突与社会主义的资本主义的意识形态冲突。不同政党为争夺选民采取了各种各样的措施，捷共最后凭借身后的群众基础取得最多选票（大企业甚至达到6成以上，出乎意料）。但不同于西欧和后来东欧其他国家的舞弊行径，捷克斯洛伐克的拉票手段干净了很多，其他政党和西方国家都同意选举是自由民主的。</p><blockquote><p>捷共（捷克斯洛伐克共产党）和斯共（斯洛伐克共产党）是两个政党，尽管后者事实上处于捷共莫斯科机构的领导之下</p></blockquote><p>大选后捷共虽然是捷克斯洛伐克的第一大党，但是斯大林和哥特瓦尔德等都坚信社会主义有不同于苏联的道路，知道马歇尔计划的提出。1947年初捷克斯洛伐克面临重大经济困难，6月份马歇尔提出的欧洲援助计划对捷来说简直是天赐良机。在经过激烈讨论后，7月7日捷政府（包括捷共）一致同意接受英法的邀请参加巴黎会议。这里的主要推动者是非共产党外交部长马萨里克。至于为什么哥特瓦尔德同意参加，可能的原因是苏联驻捷临时代办博德罗夫的工作出现了差错，未能将7日凌晨苏联的紧急电报告知哥特瓦尔德。但更为深层次的原因是，捷政府中捷共的势力并没有大到可以主导政府决断，并且哥特瓦尔德的立场也偏向中立。7月9日政府官员一行在访问莫斯科时同斯大林会谈，哥特瓦尔德和马萨利克都认为保持同西方的贸易对捷非常重要。在斯大林和莫洛托夫的威胁下，代表团成员被迫放弃参加巴黎会议。</p><blockquote><p>马萨里克于1948年神秘死亡，结合当时二月事变的背景，很难不怀疑是谋杀</p></blockquote><p>捷克斯洛伐克放弃参加马歇尔计划是捷经济与政治形势的转折点，此后捷共经过二月事变完全掌握政权，经济层面也开始转向斯大林模式，丧失了参与新的工业革命的机会使这个战前就已经实现工业化的发达国家落后于西方。</p><h2 id="捷共崛起">捷共崛起</h2><p>1947年的旱灾使捷政府不得不向美苏两个阵营求援。美国以捷未参加马歇尔计划为由拒绝给予援助，而且乐于看到哥特瓦尔德政府的手足无措。苏联为了保住其在捷克斯洛伐克的主导地位援助了大量粮食，这使得西方国家在捷的声望大跌。捷共还采取了一系列针对富人的强制性举措赢得了民心。除了粮食问题外，捷共通过指控斯洛伐克民主党的分裂阴谋除掉了反共势力。到1947年底，两大阵营都在为夺权做最后的努力。到1947年底，东欧国家中除了捷克斯洛伐克以外，其他国家的共产党都已经完成了夺权的工作。尽管大多数社会主义国家（包括苏联）都在谴责捷共行动缓慢，但是捷共依旧把争夺议会的多数席位作为自己的主要任务。这主要是由于捷克斯洛伐克在战前就拥有浓厚的议会传统。然而到了1948年初，情况与哥特瓦尔德的想法有很大的出入。由于社会民主党和国家社会党两个右翼政党的联合，使得捷共想要获得51%以上的选票的可能性几乎变成了0。国家社会党、天主教党和斯洛伐克民主党等右翼政党领导人达成了联合行动的协定，他们还获得了总统贝奈斯的支持。在形势的步步紧逼之下，哥特瓦尔德不得不向激进的共产党人做出妥协，表明共产党人可能会采取极端措施，以武力夺取政权。</p><p>1948年2月中旬以后，两个势力之间的斗争逐渐走向公开化。2月18日，苏联和美国的外交官也相继抵达布拉格。但是美国的到访显然只是出于立场上的支持，西方国家在捷克斯洛伐克问题上恪守了与苏联的约定，承认捷克斯洛伐克是苏联的势力范围。捷共掌握了占大多数的普通人，罢工和游行的浪潮逼迫贝奈斯将权力交给哥特瓦尔德。至此，联合政府政策彻底终结。</p><h1>中国内战</h1><h2 id="苏联对东北的处置">苏联对东北的处置</h2><p>苏联对中国的担忧源于二战期间，苏联将重心完全转向欧洲事务，导致中国国民政府与美国走得很近，这是苏联最不愿意看到的。1945年，借助出兵东北，苏联得以使外蒙古成为两国的缓冲带。苏联在中国推行的也是联合政府政策，而不是鼓动中国共产党领导武装斗争。8月9日苏联闪电般进入东北后，形势巨变，毛泽东等人以为斯大林的妥协政策只是权宜之计，便命令军队趁此机会占领北方大部份地区。苏联当然注意到中共这一促使局势升级的行动，在10月20日下打了禁止革命的死命令，令中国共产党人难以接受，但也必须接受。毛泽东在党内解释说，苏联希望中国走资产阶级领导、无产阶级参与的法国式道路。毛泽东对斯大林的意图是极其清楚的，但是在实际上却并没按照斯大林设想的那么做，因为他知道所谓联合政府政策根本行不通，共产党和国民党必有一战。</p><p>重庆谈判中，毛泽东坚定地表明中共的底线是黄河以北地区的控制权，这对于国民党来说当然是不可接受的。苏联虽然极力推行联合政府政策，要求中共放下武器，但是对于毛泽东的强硬态度并没有表现出太多不满（斯大林可能更加重视东欧问题？或者他认为毛泽东作为大国领导人不好控制？）。毛泽东也在努力试探苏联会选择哪一方，但是没有成功，斯大林这时还不想对双方有任何实质性的承诺。斯大林关注的核心问题是东北和外蒙古的掌控权，而不是哪一方取得优势。对此，国民党和共产党都心知肚明。党中央在8月底9月初就开始命令部队占领东北小城市和农村（苏联红军驻扎在大城市），而当时国民党军队尚处在南方，只能干着急。共产党军队突然出现在东北给苏联红军造成了很大的困扰，国民党军队在9月也开始通过美军的军舰和飞机向东北增兵。苏联一方面公开表态，在苏联撤兵前，国共军队都不能进入东北，一方面私下又对共产党军队的行为睁一只眼闭一只眼。确定了美国支持国民政府后，苏联偏向共产党是自然的。</p><p>10月底，苏联迫于国际压力允许国民党军队从葫芦岛、营口登陆。与此同时，共产党约19万军队蓄势待发，准备在锦州-沈阳一线与国民党军队决一死战。然而斯大林的想法突然发生变化，11月10日他要求共产党军队禁止与国军有任何冲突，并且从沈阳等大城市撤出。首要原因是，国际形势迫使苏联向美国靠拢。共产党军队在力量对比和美苏压制下被迫退出大城市，但是这一趟并非无功而返，他们从苏联人手中拿到了大量的日本投降物资。此外，他们只是退出大城市，而并没有退出东北。在小城市与广大农村的坚实力量，成为日后内战的主力军。</p><h2 id="苏联退出东北后的事态发展">苏联退出东北后的事态发展</h2><p>1946年初，共产党和国民党签订停战协定，和平的曙光似乎就要到来，然而苏联态度的转变再次成为局势的转折点。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;联合政府政策的推行&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;1944年李维诺夫认为英美对抗将是战后的基本特征，这将成为美苏合作的良机&lt;/li&gt;
&lt;li&gt;1944年9月橡树园会议，苏联明确支持联合国总部设在美国，以制约英国，并且促使美国参与国际事务&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;斯大林采</summary>
      
    
    
    
    <category term="历史" scheme="https://liubaichen.github.io/categories/%E5%8E%86%E5%8F%B2/"/>
    
    
    <category term="苏联史" scheme="https://liubaichen.github.io/tags/%E8%8B%8F%E8%81%94%E5%8F%B2/"/>
    
  </entry>
  
  <entry>
    <title>pytorch解决回归问题——以高次函数为例</title>
    <link href="https://liubaichen.github.io/posts/8d88f5e2/"/>
    <id>https://liubaichen.github.io/posts/8d88f5e2/</id>
    <published>2023-04-16T12:38:04.000Z</published>
    <updated>2023-05-01T11:28:02.898Z</updated>
    
    <content type="html"><![CDATA[<p>与分类问题的两个区别，首先是数据处理不同。这里使用torch直接构建三次函数作为labels，要注意的是，torch中的向量和张量的运算区分的非常严格，因此在进入神经网络前务必确保张量的shape满足计算规则。可以使用reshape或者unsqueeze函数调整维度</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义高次函数 y = 2x^3 + 3x^2 - 4x + 3</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">poly</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span> * x ** <span class="number">3</span> + <span class="number">3</span> * x ** <span class="number">2</span> - <span class="number">4</span> * x + <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成训练数据</span></span><br><span class="line">x_train = torch.linspace(-<span class="number">5</span>, <span class="number">5</span>, <span class="number">100</span>)</span><br><span class="line">y_train = poly(x_train)</span><br><span class="line">x_train = x_train.unsqueeze(<span class="number">1</span>)</span><br><span class="line">y_train = y_train.unsqueeze(<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>将x_train和y_train均调整至二维张量后，就可以开始NN的构建和训练了</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义神经网络模型</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PolyNet</span>(torch.nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(PolyNet, self).__init__()</span><br><span class="line">        self.fc1 = torch.nn.Linear(<span class="number">1</span>, <span class="number">10</span>)</span><br><span class="line">        self.fc2 = torch.nn.Linear(<span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line">        self.fc3 = torch.nn.Linear(<span class="number">10</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        x = torch.relu(self.fc1(x))</span><br><span class="line">        x = torch.relu(self.fc2(x))</span><br><span class="line">        x = self.fc3(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">net = PolyNet()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义损失函数和优化器</span></span><br><span class="line">criterion = torch.nn.MSELoss()</span><br><span class="line">optimizer = torch.optim.Adam(net.parameters(), lr=<span class="number">0.01</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 训练循环</span></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10000</span>):</span><br><span class="line">    <span class="comment"># 前向计算</span></span><br><span class="line">    y_pred = net(x_train)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 计算损失</span></span><br><span class="line">    loss = criterion(y_pred, y_train)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 清零梯度、反向传播、更新参数</span></span><br><span class="line">    optimizer.zero_grad()</span><br><span class="line">    loss.backward()</span><br><span class="line">    optimizer.step()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 打印损失</span></span><br><span class="line">    <span class="keyword">if</span> epoch % <span class="number">1000</span> == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Epoch <span class="subst">&#123;epoch&#125;</span>, Loss <span class="subst">&#123;loss.item():<span class="number">.4</span>f&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 预测新数据，并可视化结果</span></span><br><span class="line">x_test = torch.linspace(-<span class="number">10</span>, <span class="number">10</span>, <span class="number">100</span>)</span><br><span class="line">y_pred = net(x_test.unsqueeze(<span class="number">1</span>)).squeeze()</span><br><span class="line">plt.plot(x_test.numpy(), y_pred.detach().numpy(), <span class="string">&quot;r-&quot;</span>, label=<span class="string">&quot;Prediction&quot;</span>)</span><br><span class="line">plt.plot(x_test.numpy(), poly(x_test).numpy(), <span class="string">&quot;o&quot;</span>, label=<span class="string">&quot;Ground Truth&quot;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/function_fiting_simple.webp" alt=""></p><p>这里的结果差得出乎意料，在train数据以外的点完全没有拟合上，泛化能力太差。这时我意识到如果神经网络的输入数据只有一个参数（列数为1）会极大地影响模型的拟合能力。将输入参数x拆分为x1、x2和x3，使用列数为3的x张量作为输入张量，结果明显好了许多，模型具有非常强大的泛化能力。</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/function_fitting_conplex.webp" alt=""></p><blockquote><p>再次强调：执行神经网络计算前一定要检查张量的维度是否匹配</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;与分类问题的两个区别，首先是数据处理不同。这里使用torch直接构建三次函数作为labels，要注意的是，torch中的向量和张量的运算区分的非常严格，因此在进入神经网络前务必确保张量的shape满足计算规则。可以使用reshape或者unsqueeze函数调整维度&lt;/p&gt;</summary>
      
    
    
    
    <category term="python" scheme="https://liubaichen.github.io/categories/python/"/>
    
    
    <category term="深度学习" scheme="https://liubaichen.github.io/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="pytorch" scheme="https://liubaichen.github.io/tags/pytorch/"/>
    
  </entry>
  
  <entry>
    <title>pytorch解决简单的分类问题</title>
    <link href="https://liubaichen.github.io/posts/92fd094d/"/>
    <id>https://liubaichen.github.io/posts/92fd094d/</id>
    <published>2023-04-16T08:55:59.000Z</published>
    <updated>2023-05-02T08:00:08.757Z</updated>
    
    <content type="html"><![CDATA[<p>pytorch虽然实现了模块化，但是要想上手还真不容易；结合chatGPT辅助可以轻松很多（整个model都是chatGPT写的···）。整个结构包括数据读取、数据处理、模型构建和训练四个部分，模型的accuracy大致会稳定在98%/86%附近，毕竟整个结构过于简单，加上数据预处理和权值衰减应该会好很多。</p><p>这次没有单独设置权重/偏置初始化，torch会给一个初始值：偏置为均值为0、标准差为下式，偏置为0。in和out分别为上一层神经元数和下一层的神经元数。例如对于一个(784,128)的隐藏层， <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mrow><mi>i</mi><mi>n</mi></mrow></msub><mo>+</mo><msub><mi>n</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">n_{in}+n_{out}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 为784+128</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msqrt><mfrac><mn>2</mn><mrow><msub><mi>n</mi><mrow><mi>i</mi><mi>n</mi></mrow></msub><mo>+</mo><msub><mi>n</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi></mrow></msub></mrow></mfrac></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{\frac{2}{n_{in}+n_{out}}} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.44em;vertical-align:-0.8634em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5766em;"><span class="svg-align" style="top:-4.4em;"><span class="pstrut" style="height:4.4em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.5366em;"><span class="pstrut" style="height:4.4em;"></span><span class="hide-tail" style="min-width:1.02em;height:2.48em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='2.48em' viewBox='0 0 400000 2592' preserveAspectRatio='xMinYMin slice'><path d='M424,2478c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081l0 -0c4,-6.7,10,-10,18,-10 H400000v40H1014.6s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185c-2,6,-10,9,-24,9c-8,0,-12,-0.7,-12,-2z M1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8634em;"><span></span></span></span></span></span></span></span></span></span></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd </span><br><span class="line"><span class="keyword">from</span> torch.utils <span class="keyword">import</span> data</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 导入colab自带的mnist数据集</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">df_train = pd.read_csv(os.path.join(<span class="string">&quot;sample_data&quot;</span>,<span class="string">&quot;mnist_train_small.csv&quot;</span>))</span><br><span class="line">df_test = pd.read_csv(os.path.join(<span class="string">&quot;sample_data&quot;</span>,<span class="string">&quot;mnist_test.csv&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将数据分为mini-batch</span></span><br><span class="line"><span class="comment"># tensordataset函数将多个tensor打包为一个集合,然后使用dataloader函数划分数据</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">load_array</span>(<span class="params">data_arrays, batch_size, is_train=<span class="literal">True</span></span>):  </span><br><span class="line">    dataset = data.TensorDataset(*data_arrays)</span><br><span class="line">    <span class="keyword">return</span> data.DataLoader(dataset, batch_size, shuffle=is_train)</span><br><span class="line">batch_size = <span class="number">50</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 训练数据处理</span></span><br><span class="line">features = torch.tensor(df_train.values[:<span class="number">19900</span>, <span class="number">1</span>:], dtype=torch.float32)</span><br><span class="line">labels = torch.tensor(df_train.values[:<span class="number">19900</span>,<span class="number">0</span>],dtype = torch.float32)</span><br><span class="line">data_iter_train = load_array((features, labels), batch_size)</span><br><span class="line"><span class="comment">#　测试数据处理</span></span><br><span class="line">features = torch.tensor(df_test.values[:<span class="number">9900</span>, <span class="number">1</span>:], dtype=torch.float32)</span><br><span class="line">labels = torch.tensor(df_test.values[:<span class="number">9900</span>,<span class="number">0</span>],dtype = torch.float32)</span><br><span class="line">data_iter_test = load_array((features, labels), batch_size)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义初始化函数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">init_weights</span>(<span class="params">m</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">type</span>(m) == nn.Linear:</span><br><span class="line">        nn.init.normal_(m.weight, std=<span class="number">0.01</span>)</span><br><span class="line">        nn.init.constant_(m.bias, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义模型类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyModel</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(MyModel, self).__init__()</span><br><span class="line">        <span class="comment"># 定义网络结构</span></span><br><span class="line">        self.linear1 = nn.Linear(<span class="number">784</span>, <span class="number">128</span>)</span><br><span class="line">        self.relu = nn.ReLU()</span><br><span class="line">        self.linear2 = nn.Linear(<span class="number">128</span>, <span class="number">10</span>)</span><br><span class="line">        self.softmax = nn.Softmax(dim=<span class="number">1</span>)</span><br><span class="line">        <span class="comment"># 初始化权重和偏置</span></span><br><span class="line">        self.apply(init_weights)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        x = self.linear1(x)</span><br><span class="line">        x = self.relu(x)</span><br><span class="line">        x = self.linear2(x)</span><br><span class="line">        x = self.softmax(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">train_accuracy</span>(<span class="params">self, data_iter</span>):</span><br><span class="line">        correct = <span class="number">0</span></span><br><span class="line">        total = <span class="number">0</span></span><br><span class="line">        <span class="comment"># 不计算梯度</span></span><br><span class="line">        <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">            <span class="keyword">for</span> inputs, labels <span class="keyword">in</span> data_iter:</span><br><span class="line">                outputs = self(inputs)</span><br><span class="line">                _, predicted = torch.<span class="built_in">max</span>(outputs.data, <span class="number">1</span>)</span><br><span class="line">                total += labels.size(<span class="number">0</span>)</span><br><span class="line">                correct += (predicted == labels).<span class="built_in">sum</span>().item()</span><br><span class="line">        <span class="keyword">return</span> (correct / total) * <span class="number">100</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_accuracy</span>(<span class="params">self, data_iter</span>):</span><br><span class="line">        correct = <span class="number">0</span></span><br><span class="line">        total = <span class="number">0</span></span><br><span class="line">        <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">            <span class="keyword">for</span> inputs, labels <span class="keyword">in</span> data_iter:</span><br><span class="line">                outputs = self(inputs)</span><br><span class="line">                _, predicted = torch.<span class="built_in">max</span>(outputs.data, <span class="number">1</span>)</span><br><span class="line">                total += labels.size(<span class="number">0</span>)</span><br><span class="line">                correct += (predicted == labels).<span class="built_in">sum</span>().item()</span><br><span class="line">        <span class="keyword">return</span> (correct / total) * <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义超参数</span></span><br><span class="line">learning_rate = <span class="number">0.01</span></span><br><span class="line">num_epochs = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 实例化模型</span></span><br><span class="line">model = MyModel()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义损失函数和优化器</span></span><br><span class="line">criterion = nn.CrossEntropyLoss()</span><br><span class="line">optimizer = torch.optim.SGD(model.parameters(), lr=learning_rate)</span><br><span class="line"></span><br><span class="line">train_acc_list = []</span><br><span class="line">test_acc_list = []</span><br><span class="line"></span><br><span class="line"><span class="comment"># 训练模型</span></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(num_epochs):</span><br><span class="line">    <span class="keyword">for</span> i, (inputs, labels) <span class="keyword">in</span> <span class="built_in">enumerate</span>(data_iter_train):</span><br><span class="line">        <span class="comment"># 前向传播</span></span><br><span class="line">        outputs = model(inputs)</span><br><span class="line">        <span class="comment"># 计算损失</span></span><br><span class="line">        <span class="comment"># 将标记数据的数据类型转换为整数类型</span></span><br><span class="line">        labels = labels.long()</span><br><span class="line">        loss = criterion(outputs, labels)</span><br><span class="line">        <span class="comment"># 反向传播</span></span><br><span class="line">        optimizer.zero_grad()</span><br><span class="line">        loss.backward()</span><br><span class="line">        optimizer.step()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 每训练100个batchs打印一次日志</span></span><br><span class="line">        <span class="keyword">if</span> (i+<span class="number">1</span>) % <span class="number">99</span> == <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&#x27;Epoch [<span class="subst">&#123;epoch+<span class="number">1</span>&#125;</span>/<span class="subst">&#123;num_epochs&#125;</span>], Step [<span class="subst">&#123;i+<span class="number">1</span>&#125;</span>/<span class="subst">&#123;<span class="built_in">len</span>(data_iter_train)&#125;</span>], Loss: <span class="subst">&#123;loss:<span class="number">.4</span>f&#125;</span>&#x27;</span>)</span><br><span class="line">    train_acc = model.train_accuracy(data_iter_train)</span><br><span class="line">    test_acc = model.test_accuracy(data_iter_test)</span><br><span class="line">    train_acc_list.append(train_acc)</span><br><span class="line">    test_acc_list.append(test_acc)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;Epoch [<span class="subst">&#123;epoch+<span class="number">1</span>&#125;</span>/<span class="subst">&#123;num_epochs&#125;</span>], Train Accuracy: <span class="subst">&#123;train_acc:<span class="number">.2</span>f&#125;</span>%, Test Accuracy: <span class="subst">&#123;test_acc:<span class="number">.2</span>f&#125;</span>%&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制准确率随epoch变化的折线图</span></span><br><span class="line">plt.plot(<span class="built_in">range</span>(num_epochs), train_acc_list, <span class="string">&#x27;r-&#x27;</span>, label=<span class="string">&#x27;Train Accuracy&#x27;</span>)</span><br><span class="line">plt.plot(<span class="built_in">range</span>(num_epochs), test_acc_list, <span class="string">&#x27;b-&#x27;</span>, label=<span class="string">&#x27;Test Accuracy&#x27;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.xlabel(<span class="string">&#x27;Epoch&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;Accuracy(%)&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;pytorch虽然实现了模块化，但是要想上手还真不容易；结合chatGPT辅助可以轻松很多（整个model都是chatGPT写的···）。整个结构包括数据读取、数据处理、模型构建和训练四个部分，模型的accuracy大致会稳定在98%/86%附近，毕竟整个结构过于简单，加上</summary>
      
    
    
    
    <category term="python" scheme="https://liubaichen.github.io/categories/python/"/>
    
    
    <category term="深度学习" scheme="https://liubaichen.github.io/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="pytorch" scheme="https://liubaichen.github.io/tags/pytorch/"/>
    
  </entry>
  
  <entry>
    <title>神经网络学习笔记</title>
    <link href="https://liubaichen.github.io/posts/d14bfa85/"/>
    <id>https://liubaichen.github.io/posts/d14bfa85/</id>
    <published>2023-04-16T02:30:32.000Z</published>
    <updated>2023-06-04T11:11:46.307Z</updated>
    
    <content type="html"><![CDATA[<p><strong>矩阵/向量相乘时数据种类必须相等</strong> ，在神经网络实现前务必将所有的输入信号、偏置、权重等转换为相同的dtype</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X.to(dtype = torch.float32)</span><br></pre></td></tr></table></figure><p>data.TensorDataset函数的作用是将输入数据和输出数据打包成数据集，方便紧接着使用data.DataLoader函数将数据集进一步划分为mini-batch。 <strong>data.TensorDataset的对象必须是tensor</strong> ，如果是numpy数据必须先转成tensor</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">load_array</span>(<span class="params">data_arrays, batch_size, is_train=<span class="literal">True</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;构造一个PyTorch数据迭代器&quot;&quot;&quot;</span></span><br><span class="line">    dataset = data.TensorDataset(*data_arrays)</span><br><span class="line">    <span class="keyword">return</span> data.DataLoader(dataset, batch_size, shuffle=is_train)</span><br><span class="line"></span><br><span class="line">train_features = torch.tensor(df_train.values[:<span class="number">19900</span>, <span class="number">1</span>:], dtype=torch.float32)</span><br><span class="line">train_labels = torch.tensor(df_train.values[:<span class="number">19900</span>,<span class="number">0</span>])</span><br><span class="line">train_iter = load_array((train_features, train_labels), batch_size)</span><br></pre></td></tr></table></figure><p>权重衰减是用来解决过拟合的，如果没有过拟合还要使用会发生准确率先升高然后迅速降低的惨剧；此外optimizer的选择也很重要，例如weight_decay=0.0001时，使用SGD完全无法拟合；使用Adam虽然最开始在90%左右，但随后会迅速下降到50%</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/limitation_weight_decay.webp" alt=""></p><p>def计算accuracy的函数时，记得关闭评估模式：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net.<span class="built_in">eval</span>()</span><br></pre></td></tr></table></figure><h1>神经网络构建、参数获取与层构建</h1><p>所有的神经网络结构都可以通过state_dict()获取dict类型的参数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">net = nn.Sequential(nn.Linear(<span class="number">2</span>,<span class="number">3</span>),nn.Linear(<span class="number">3</span>,<span class="number">2</span>))</span><br><span class="line"><span class="keyword">for</span> name,params <span class="keyword">in</span> net.state_dict().items():</span><br><span class="line">  <span class="built_in">print</span>(name,params)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">0.weight tensor([[ 0.2147, -0.6527],</span></span><br><span class="line"><span class="string">        [ 0.5213, -0.3930],</span></span><br><span class="line"><span class="string">        [ 0.5588, -0.4512]])</span></span><br><span class="line"><span class="string">0.bias tensor([-0.2639,  0.6153,  0.2351])</span></span><br><span class="line"><span class="string">1.weight tensor([[-0.0199,  0.1458,  0.3119],</span></span><br><span class="line"><span class="string">        [ 0.0921, -0.1958, -0.0245]])</span></span><br><span class="line"><span class="string">1.bias tensor([-0.4387, -0.0693])</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p>sequential构建的神经网络net，可以使用index调用net中的每一层；激活函数单列一层，因此index=1的层一般为激活函数，无法调出权重和偏置；</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net[<span class="number">0</span>].weight.grad</span><br></pre></td></tr></table></figure><p>如果使用class的属性定义层，则必须通过类名调用每一层</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">PolyNet</span>(torch.nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(PolyNet, self).__init__()</span><br><span class="line">        self.fc1 = torch.nn.Linear(<span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line">        self.fc2 = torch.nn.Linear(<span class="number">8</span>, <span class="number">4</span>)</span><br><span class="line">        self.fc3 = torch.nn.Linear(<span class="number">4</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">          x = self.fc1(x)</span><br><span class="line">          x = torch.relu(self.fc1(x))</span><br><span class="line">          x = torch.relu(self.fc2(x))</span><br><span class="line">          x = self.fc3(x)</span><br><span class="line">          <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">net = PolyNet()</span><br><span class="line"></span><br><span class="line">net[<span class="number">0</span>].weight.data    <span class="comment"># TypeError </span></span><br><span class="line">net.fc1.weight.data   <span class="comment"># tensor([[-0.2124,  0.3285,  0.0760]])</span></span><br></pre></td></tr></table></figure><p>如果既想用class定义，又想用index索引，可以使用modulelist，相当于一个list</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MultiLayerPerceptron</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, input_dim, hidden_dim, output_dim, num_hidden_layers</span>):</span><br><span class="line">        <span class="built_in">super</span>(MultiLayerPerceptron, self).__init__()</span><br><span class="line"></span><br><span class="line">        self.layers = nn.ModuleList()  </span><br><span class="line">        self.layers.append(nn.Linear(<span class="number">3</span>, <span class="number">1</span>))  </span><br><span class="line"></span><br><span class="line">        <span class="comment"># 添加多个相同类型的隐藏层</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num_hidden_layers-<span class="number">1</span>):</span><br><span class="line">            self.layers.append(nn.Linear(hidden_dim, hidden_dim))</span><br><span class="line">        </span><br><span class="line">        self.output_layer = nn.Linear(hidden_dim, output_dim) </span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="keyword">for</span> layer <span class="keyword">in</span> self.layers:</span><br><span class="line">            x = nn.functional.relu(layer(x))</span><br><span class="line">        </span><br><span class="line">        x = self.output_layer(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br></pre></td></tr></table></figure><p>通过nn.Module不仅可以自建神经网络，还可以自建层</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">oneslayer</span>(nn.Module):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,in_index,out_index</span>):</span><br><span class="line">    <span class="built_in">super</span>(oneslayer, self).__init__()</span><br><span class="line">    self.weight = nn.Parameter(torch.zeros(in_index,out_index))</span><br><span class="line">    self.bias = nn.Parameter(torch.ones(out_index,))</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x</span>):</span><br><span class="line">    <span class="keyword">return</span> torch.mm(x,self.weight.data)+self.bias.data</span><br><span class="line"></span><br><span class="line">layer = oneslayer(<span class="number">4</span>,<span class="number">3</span>)</span><br><span class="line">layer(torch.randn(<span class="number">2</span>,<span class="number">4</span>))</span><br></pre></td></tr></table></figure><h1>K-交叉验证</h1><p>深度学习使用的数据将分为训练数据、验证数据和测试数据。其中验证数据被用于检验和优化超参数，可以被调用多次。验证数据是用来测试模型的泛化误差，一般只使用一次。三者之间不能存在重复。一般获得的原始数据被划分为训练数据和验证数据，测试数据原则上需要另外寻找（甚至是一些并不知道答案的数据）。如果原始数据过少，训练数据和测试数据的数量并不好分配。常用的方法是K-交叉验证，将原始数据集分为K个子集，在K-1个子集上训练，然后用另一个子集验证，执行K次训练，最后取平均值估计误差。K一般取5或10.</p><h1>过拟合</h1><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/overfitting_and_underfitting.webp" style="zoom: 50%;" /><p>模型容量（模型复杂度）有两个主要影响因素：参数的个数和参数值的选择范围</p><p>数据复杂度的影响因素：样本个数、样本中的元素个数、时间/空间结构、多样性（如何分类）</p><h1>参数初始化</h1><p>梯度爆炸和梯度消失会产生许多问题。为了让梯度分布在合理的区间内，参数初始化是一个比较基础的方法，更高级的还有梯度归一化、resnet、LSTM等。梯度归一化的一个思想是假设所有的输出值和梯度为方差和均值保持一致的随机变量，这样输出和梯度都会分布在可控的区间内（没有激活函数）。基于这种假设可以推导出方差应该满足： $ \gamma_t = \frac{2}{n_{t-1}+n_t} $ ，n-1和n分别代表t层的输入维度数和输出维度数。</p><p>正态分布： $ \mathcal{N}\left(0, \sqrt{2 /\left(n_{t-1}+n_{t}\right)}\right) $<br>均匀分布： $ \mathcal{N}\left(0, \sqrt{2 /\left(n_{t-1}+n_{t}\right)}\right)\mathcal{U}\left(-\sqrt{6 /\left(n_{t-1}+n_{t}\right)}, \sqrt{6 /\left(n_{t-1}+n_{t}\right)}\right) $</p><blockquote><p>均匀分布 $ \mathcal{N} (-a,a)$ 的方差为 $ \frac{a^2}{3} $</p></blockquote><p>假设激活函数是线性函数（当然实际上不行），采用上述假设可以推导出激活函数必须为y=x。常见的激活函数中，sigmoid在0附近的泰勒展开为 $\frac{1}{2}+\frac{x}{4} $ ，因此效果不算好，可以使用4*sigmoid-2作为优化。tanh和relu函数在0附近都可以做y=x近似。</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/activation_function.webp" style="zoom:80%;" /><p>Xavier初始化使用正态分布，改进型Kaiming初始化对于ReLU函数使用均匀分布，对于其他激活函数使用正态分布。</p><h1>模型保存与参数读取</h1><p>pytorch实际上只有参数保存而没有模型框架保存，因此想要还原模型还必须知道NN框架，这里以<a href="https://kotobanoniwa.xyz/posts/b12fe7b5/">alex框架</a>为例。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 模型保存</span></span><br><span class="line">torch.save(net.state_dict(), <span class="string">&#x27;nn.params&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#这里需要创建一个与net完全相同的架构clone，然后从本地文件导入参数</span></span><br><span class="line">clone.load_state_dict(torch.load(<span class="string">&#x27;nn.params&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 然后就可以正常使用了</span></span><br><span class="line">clone.<span class="built_in">eval</span>()</span><br><span class="line"><span class="keyword">for</span> X, y <span class="keyword">in</span> train_iter:</span><br><span class="line">    <span class="built_in">print</span>(X.shape, y.shape)</span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">      output=clone(X[:<span class="number">5</span>])</span><br><span class="line">      <span class="built_in">print</span>(output)</span><br><span class="line">      <span class="built_in">print</span>(torch.argmax(output,dim=<span class="number">1</span>))</span><br><span class="line">      <span class="built_in">print</span>(y[:<span class="number">5</span>])</span><br><span class="line">    <span class="keyword">break</span> </span><br></pre></td></tr></table></figure><h1>batch normalization</h1><p>在《深度学习入门(1)·斋藤康毅》书中对批量归一化就已经有了了解，这里主要是学习了pytorch中的实现。nn.BatchNorm2d函数主要参数为输入tensor的通道数num_features，这个值必须手动输入；其次还有极小量eps，防止在normalize步骤中分母为0，默认为1e-5</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/batch_normalization.png" style="zoom: 50%;" /><p>另外还有一个关键参数momentum。在计算下一个batch的均值和方差时，Batch Normalization会使用当前batch的均值和方差以及上一个batch的均值和方差之间的加权平均数来更新均值和方差的估计，这个加权平均数就是momentum。通常，动量取值在0.1到0.99之间。较大的动量值可以使Batch Normalization更加平稳，但可能会导致模型收敛速度变慢；较小的动量值可以使模型学习得更快，但可能会导致模型变得不稳定。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi>μ</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>γ</mi><mo stretchy="false">)</mo><msub><mi>μ</mi><mi>t</mi></msub><mo>+</mo><mi>γ</mi><msub><mi>μ</mi><mi>B</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msubsup><mi>σ</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow><mn>2</mn></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>γ</mi><mo stretchy="false">)</mo><msubsup><mi>σ</mi><mi>t</mi><mn>2</mn></msubsup><mo>+</mo><mi>γ</mi><msubsup><mi>σ</mi><mi>B</mi><mn>2</mn></msubsup></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}\mu_{t+1} &amp; =(1-\gamma) \mu_{t}+\gamma \mu_{B} \\\sigma_{t+1}^{2} &amp; =(1-\gamma) \sigma_{t}^{2}+\gamma \sigma_{B}^{2}\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0241em;vertical-align:-1.2621em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7621em;"><span style="top:-3.9221em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3979em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3053em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2621em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7621em;"><span style="top:-3.9221em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3979em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2621em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>关于batch normalization的总结</p><ol><li>可以加快收敛速度，但一般不会影响精度</li><li>与dropout无需同时使用</li></ol><h1>CPU与GPU</h1><h1>数据增强</h1><ul><li><p>翻转：左右翻转和上下翻转，但是要考虑物体是否适合反转</p></li><li><p>切割：随即高宽比、大小、位置</p></li><li><p>颜色：色调、饱和度、亮度</p></li></ul><h1>评估参数</h1><ul><li>true positive：正解正样本</li><li>true negative：正解负样本</li><li>false positive：错解正样本</li><li>false negative：错解负样本</li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi></mrow><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>P</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">precision = \frac{TP}{TP+FP}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal">rec</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">TP</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">FP</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">TP</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>r</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>l</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi></mrow><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>N</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">recall = \frac{TP}{TP+FN}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">rec</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">TP</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">FN</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">TP</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>a</mi><mi>c</mi><mi>c</mi><mi>u</mi><mi>r</mi><mi>a</mi><mi>c</mi><mi>y</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>T</mi><mi>N</mi></mrow><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>T</mi><mi>N</mi><mo>+</mo><mi>F</mi><mi>N</mi><mo>+</mo><mi>F</mi><mi>P</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">accuracy = \frac{TP+TN}{TP+TN+FN+FP}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">cc</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">cy</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">TP</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">TN</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">FN</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">FP</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">TP</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">TN</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><msub><mn>1</mn><mi>n</mi></msub><mo>=</mo><mfrac><mrow><mn>2</mn><mo>×</mo><mi>p</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>×</mo><mi>r</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>l</mi></mrow><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>+</mo><mi>r</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>l</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">f1_n = \frac{2\times precision \times recall}{precision+recall}  </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2519em;vertical-align:-0.8804em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="mord mathnormal">rec</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">rec</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal">rec</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">rec</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mn>1</mn><mtext> </mtext><mi>s</mi><mi>c</mi><mi>o</mi><mi>r</mi><mi>e</mi><mo>=</mo><mo stretchy="false">(</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><mo>∑</mo><mi>f</mi><msub><mn>1</mn><mi>n</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">f1\:score = (\frac{1}{n} \sum f1_n)^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">score</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-symbol large-op" style="position:relative;top:0em;">∑</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">y_pred = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br><span class="line">target = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br></pre></td></tr></table></figure><p>对于0类，TP = 1, TN = , FP = 1, FN = 1, precision = 0.5, recall = 0.5, f1 = 0.5<br>对于1类，TP = 1, TN = , FP = 1, FN = 1, precision = 0.5, recall = 0.5, f1 = 0.5<br>对于2类，TP = 1, TN = , FP = 0, FN = 0, precision = 1, recall = 1, f1 = 1</p><p>accuracy = 0.6, f1 score = 0.666</p><p>展示代码实现</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> classification_report</span><br><span class="line"></span><br><span class="line"><span class="comment"># 真实标签和预测标签</span></span><br><span class="line">y_true = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line">y_pred = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算指标</span></span><br><span class="line">target_names = [<span class="string">&#x27;class 0&#x27;</span>, <span class="string">&#x27;class 1&#x27;</span>, <span class="string">&#x27;class 2&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(classification_report(y_true, y_pred, target_names=target_names))</span><br></pre></td></tr></table></figure><p>一般代码实现</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> f1_score, accuracy_score</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">accuracy</span>(<span class="params">output, target</span>):</span><br><span class="line">    y_pred = torch.softmax(output, dim=<span class="number">1</span>)</span><br><span class="line">    y_pred = torch.argmax(y_pred, dim=<span class="number">1</span>).cpu()</span><br><span class="line">    target = target.cpu()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> accuracy_score(target, y_pred)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">calculate_f1_macro</span>(<span class="params">output, target</span>):</span><br><span class="line">    y_pred = torch.softmax(output, dim=<span class="number">1</span>)</span><br><span class="line">    y_pred = torch.argmax(y_pred, dim=<span class="number">1</span>).cpu()</span><br><span class="line">    target = target.cpu()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> f1_score(target, y_pred, average=<span class="string">&#x27;macro&#x27;</span>)</span><br></pre></td></tr></table></figure><h1>tensor转为图片可读格式</h1><p>通过torchvision的transforms或albumentations进行preprocess后，想看一下处理的结果，需要将tensor数据转为PIL库中image函数可以open或read的格式，也可以使用plt进行imshow。有三个方法：</p><ul><li>tensor——numpy——PIL</li></ul><p>这个方法很容易想到，也是最通用的。将tensor转为numpy后不能直接转为PIL，因为tensor中的元素一般介于-1到1之间，这样的数据必须先转换为[0,255]的uint8整数。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># img为tensor型数据</span></span><br><span class="line">img = np.array(img)</span><br><span class="line"><span class="comment"># +1 以避免出现负数，uint8为8位无符号整数</span></span><br><span class="line">img = ((img+<span class="number">1</span>)/<span class="number">2</span>*<span class="number">255</span>).astype(np.uint8)</span><br><span class="line"><span class="comment"># tensor的第二、三维度为高宽，但是PIL中第一、二维度为高宽</span></span><br><span class="line">img = img.transpose(<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>)</span><br><span class="line"><span class="comment"># 三通道图像必须指定mode为RGB，单通道可以不指定或“L”</span></span><br><span class="line">img = Image.fromarray(img,<span class="string">&#x27;RGB&#x27;</span>)</span><br><span class="line">img.show()</span><br></pre></td></tr></table></figure><ul><li>transforms内置函数ToPILImage</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">to_pil = transforms.ToPILImage(mode = <span class="string">&#x27;RGB&#x27;</span>)</span><br><span class="line">img = to_pil(img)</span><br><span class="line">img.show()</span><br></pre></td></tr></table></figure><ul><li>plt</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.imshow(img.permute(<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>))</span><br><span class="line"><span class="comment"># 由于tensor和plt的维度定义不同，需要进行转置</span></span><br></pre></td></tr></table></figure><h1>数据的转置</h1><p>由于处理方式的不同，图片矩阵在运算和传播过程中可能会出现通道的维度位置发生改变的情况，这时必须统一位置（我习惯于将通道置于第0维度）。numpy和torch的方法略有不同：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># torch</span></span><br><span class="line">img = imageio.v2.imread(<span class="string">&quot;/content/drive/MyDrive/data/dog.jpg&quot;</span>)</span><br><span class="line">img = torch.from_numpy(img)</span><br><span class="line"><span class="built_in">print</span>(img.shape)</span><br><span class="line"><span class="comment"># torch.Size([664, 1000, 3])</span></span><br><span class="line">img = img.permute(<span class="number">2</span>,<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(img.shape)</span><br><span class="line"><span class="comment"># torch.Size([3, 664, 1000])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># numpy</span></span><br><span class="line">img = img.transpose(<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;矩阵/向量相乘时数据种类必须相等&lt;/strong&gt; ，在神经网络实现前务必将所有的输入信号、偏置、权重等转换为相同的dtype&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter</summary>
      
    
    
    
    <category term="python" scheme="https://liubaichen.github.io/categories/python/"/>
    
    
    <category term="深度学习" scheme="https://liubaichen.github.io/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="pytorch" scheme="https://liubaichen.github.io/tags/pytorch/"/>
    
  </entry>
  
  <entry>
    <title>苏联官册制度与影响——以住房分配为例</title>
    <link href="https://liubaichen.github.io/posts/9aada751/"/>
    <id>https://liubaichen.github.io/posts/9aada751/</id>
    <published>2023-04-10T13:22:56.000Z</published>
    <updated>2023-04-10T13:32:45.866Z</updated>
    
    <content type="html"><![CDATA[<h1>苏联官册制度和干部状况（1923-1929）</h1><h2 id="“等级官员名册”制度的诞生">“等级官员名册”制度的诞生</h2><p>新经济政策时期的两个变革——经济方面的市场机制恢复经济和政治方面的以任命制为核心的“等级官员名册”干部制度。<br>十月革命胜利到1923年11月官册制度实施前，苏俄对领导干部的任命经历了基层选举制（1917-1918）——动员+粗放任命制（1919-1921）——登记选择+相对任命制（1921-1923）的变化。</p><p>十月革命后，列宁依据马克思主义理论实行直接普选制，对一切公职人员毫无例外地实行全面选举制并可以随时替换 。国内战争开始后，迫于形势的需要，再加上由于俄国企图从未发达的封建国家跃迁到社会主义国家，群众政治意识远不足以实施普选制，基层选举制不久就夭折了。基于马克思主义，社会主义应当在资本主义发展到高水平时才能实现。这不仅意味着生产力达到足够高的水平，更代表着人民有充分的政治意识。正是基于以上两点，社会主义民主的关键手段——普选制度才能得以实现。</p><p>1918年列宁首次提出干部委派制，他认为“委派拥有独裁者无限权力的个别人员的这种办法”是同苏维埃政权的根本原则相一致的。1919年俄共布八大是苏联干部制度走向任命制的转折点。决议的主要内容为：党中央建立中央组织局，集中管理全部干部的分配与调动，反对地方主义。从1919年八大到1921年十大（即国内战争期间），实行军事动员——粗放任命制，即党员干部自愿前往热点地区。1921年十大以后，开始实行登记选择+相对任命制。其本意是中央通过档案登记，参与安排重要国家机关的干部，其余的交由下级党委负责。但是这种强硬的分配制完全忽视干部的实际能力和自身意愿，出现了无法胜任工作和不服从调动的状况。并且在实际操作中，甚至出现省委书记不通过中央任命的行为，即“相对任命制”，表明产生领导干部的方法相当混乱。</p><p>在官册制度确立的关键时期，许多党和国家的重要领导人都对干部制度中的某些原则进行了严厉批评，认为这是导致官僚主义产生的主要原因。尽管批评的声非常强烈，但大多针对的是挑选干部的标准以及干部决定权的归属问题，而最实质的问题——干部任命制本身并没有受到质疑。这从一个侧面说明，官册任命制的创立，的确为当时组织工作所需要。</p><p>到1925年11月底，中央组织局确定1、2、3号官册，分别对应联共布中央委员会直接提名和任命、部门提名与中央委员会确认、部门提名与任命。三者的比例大致为27.8%、29.4%、42.8%。由中央直接任命的官员占比为57.2%，在实际执行中中央又会操纵3号官册人员的任命，因此全国官员的任命完全集中于少数人手中。</p><h2 id="干部考察与任命标准">干部考察与任命标准</h2><p>考察标准可概括为三类：组织行政能力；文化和专业水平；政治素质。在大多数高层领导看来，政治成分显然是至关重要的。党的九大和十大都规定了提拔共产党员到重要岗位的阶级原则。干部任免事实上还成为斯大林夺取权力的杀手锏。自1922年担任中央书记处总书记以来，他不断扩大书记处的权力，在党的权力与地位迅速提升。另一方面，由于中央登记分配部（后改组为组织分配部）是书记处的下属机构，斯大林得以直接控制干部任免，将大量反对派干部调至边远地区或基层部门。从20年代初到20年代末，伴随着工人干部占比提高的是文化水平大幅度下降。1929年苏联全体最高管理者中，完成高等教育者仅有3.7%，初等教育和不识字者高达78.2%。</p><h2 id="领导干部的腐败">领导干部的腐败</h2><p>领导干部享有特权——党员将谋求个人私利作为入党目的。十月革命后，列宁即效仿巴黎公社，规定一切公职人员的工资不得高于熟练工人的平均工资，同时又非常模糊地表示会采取措施提高领导干部的物质生活。在工资之外，领导干部开始享受特殊待遇，与群众的生活差距开始加大。新经济政策实施后，经济管理权下放，再加上权力缺乏监督，出现了权力交易和贪污受贿的空间与条件。此外列宁认为：政治上有教养的人是不会贪污受贿的。在经济管理干部中的腐败现象主要有以下形式：</p><ol><li>浪费公款和赌博——大吃大喝，贪图享乐</li><li>贪污受贿和权钱交易——为自己和亲人谋取私利</li></ol><p>惩治腐败</p><ol><li>建立从中央到地方的反贪腐机关</li><li>党内惩治腐败</li><li>对触犯法律的腐化分子进行法律制裁</li></ol><p>短时间内看，以上惩治措施是卓有成效的。</p><h2 id="腐败回潮">腐败回潮</h2><p>苏维埃政权认为，社会主义社会不会产生犯罪和受贿，它们只存在旧社会和资本主义社会。可见其对腐败根源的认识有误区，因此缺乏同腐败作斗争的足够政治意志，更重要的是缺乏有效的政策。随着贪污现象得到一定的遏制，反腐中央委员会停办，1924起减弱了惩戒力度。另一方面，惩戒和法律本身带有严重的阶级倾向。很多受贿者、骗子和其他罪犯，仅仅因为他们是无产阶级出身，就在审判中免于处罚。1926年后，贪污案件数量再次剧增。</p><h1>住房分配中的干部特权(1920—1930)</h1><h2 id="国内战争期间">国内战争期间</h2><p>国内战争的破坏致使本就落后的俄国住房条件雪上加霜。布尔什维克的解决方案是推广住房公社，其原因在：1、共享厨房、食堂等空间，集中供暖，大大节约资源；2、符合意识形态要求，完成对人的意识与社会的改造。</p><p>十月革命后，领导干部也住进由大宾馆改造成的“住房公社”，包括苏维埃宾馆、苏维埃楼和斯莫尔尼贵族女子中学（条件最好）。后者除行政机关外，还有图书馆、阅览室、音乐学校、幼儿园等，约600名住户，占有725套住宅和594个房间。还有1000余人提供日常生活服务。可见这里的条件要远高于普通人的。苏维埃楼的条件同样远高于一般的住房公社，而一般能否居住在苏维埃楼则由官位等级决定。主要为各中央委员会委员、省委员会委员等。苏维埃旅馆较苏维埃楼和贵族女子中学低级，主要提供给一些党龄不长、职位不高的苏维埃和党的工作人员以及部分知识分子。</p><h2 id="新经济政策时期">新经济政策时期</h2><p>新经济政策使得国民经济开始恢复。1922年末到1923年初，领导干部纷纷搬出“住房公社”，享受独户。与之形成鲜明对比的是，普通居民直到1931年才结束集体宿舍生活。但令人疑惑的是，本文中列举的住房公社人数占总人口的占比并不多。以1923年的莫斯科为例，公社人数10万左右，而总人口接近150万，仅占6.6%。一种可能是住房公社本身依赖宿舍等公共空间，再加上资金匮乏，根本不可能短时间建成大量公社。30年代随着政治和经济的转折，住房政策发生改变，独户住宅时代开始。</p><p>综上所述：住房公社对领导干部和普通群众是两个完全不同的概念。对前者来说，公社只是一个临时避难所，一旦难关度过，他们就公然违背官方的宣传口径，迫不及待地享受独户。即便如此，他们的“相对禁欲主义”对普通群众的“绝对禁欲主义”来说都已经是一种奢望。1922年，十二大通过决议，要求切实提高各级干部的物质生活水平，这标志着其与普通群众居住条件的进一步拉大。即使在20年代初期一部分领导干部与普通群众住在同一栋楼，后来也采取一些手段构建独立化的居住空间，包括迁出普通居民和划定为某机关所属。</p><h2 id="别墅">别墅</h2><p>同领导干部的独户住宅一样，贵族别墅也有着严格的等级界限。高级官员可能拥有多套别墅，而低级官员或许只能去疗养院。这些别墅和疗养院都属于国家，由国家负责维修、保养，只需缴纳很少的房租。布尔什维克的领导人继承了沙俄时期贵族和资本家的住宅，以合法的名义。他们的挥霍能力比起资本家是有过之而无不及，毕竟是国家财产，不是自己的钱。电影院、马厩、花园、奇珍异物、温室、动物园、游泳池、运动场···</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;苏联官册制度和干部状况（1923-1929）&lt;/h1&gt;
&lt;h2 id=&quot;“等级官员名册”制度的诞生&quot;&gt;“等级官员名册”制度的诞生&lt;/h2&gt;
&lt;p&gt;新经济政策时期的两个变革——经济方面的市场机制恢复经济和政治方面的以任命制为核心的“等级官员名册”干部制度。&lt;br&gt;
十月革命</summary>
      
    
    
    
    <category term="历史" scheme="https://liubaichen.github.io/categories/%E5%8E%86%E5%8F%B2/"/>
    
    
    <category term="苏联史" scheme="https://liubaichen.github.io/tags/%E8%8B%8F%E8%81%94%E5%8F%B2/"/>
    
  </entry>
  
  <entry>
    <title>线性代数基础</title>
    <link href="https://liubaichen.github.io/posts/74e95c64/"/>
    <id>https://liubaichen.github.io/posts/74e95c64/</id>
    <published>2023-04-08T17:17:00.000Z</published>
    <updated>2023-04-15T03:25:57.676Z</updated>
    
    <content type="html"><![CDATA[<h2 id="矩阵性质">矩阵性质</h2><h3 id="正交矩阵">正交矩阵</h3><p>两个向量满足 $ x^Ty=0 $，则称为相互正交。对于n为空间，最多有n个范数非零向量相互正交。当这些向量的范数全部为1时称为标准正交。正交矩阵指行向量和列向量分别标准正交的方阵</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>A</mi><mi>T</mi></msup><mi>A</mi><mo>=</mo><mi>A</mi><msup><mi>A</mi><mi>T</mi></msup><mo>=</mo><mi>I</mi></mrow><annotation encoding="application/x-tex">A^TA=AA^T=I </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8913em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8913em;"></span><span class="mord mathnormal">A</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span></span></span></span></span></p><h3 id="逆矩阵">逆矩阵</h3><h2 id="范数">范数</h2><p>范数(norm)是指将<strong>向量</strong>映射到非负值的函数，用来衡量向量大小，满足以下性质：</p><ol><li><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mo>→</mo><mi>x</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">f(x)=0 \rightarrow x=0 </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span></p></li><li><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mi>y</mi><mo stretchy="false">)</mo><mo>≤</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>+</mo><mi>f</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x+y)\le f(x)+f(y) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span></span></p></li><li><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>a</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="normal">∣</mi><mi>a</mi><mi mathvariant="normal">∣</mi><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(ax)=|a|f(x) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span></p></li></ol><p>常用的 $ L^p $ 范数定义如下：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi mathvariant="normal">∣</mi><mi>p</mi></msub><mo>=</mo><mo stretchy="false">(</mo><munder><mo>∑</mo><mi>i</mi></munder><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mi>i</mi></msub><msup><mi mathvariant="normal">∣</mi><mi>p</mi></msup><msup><mo stretchy="false">)</mo><mfrac><mn>1</mn><mi>p</mi></mfrac></msup></mrow><annotation encoding="application/x-tex">||x||_p=(\sum_{i}|x_i|^p)^{\frac{1}{p}} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord">∣∣</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3277em;vertical-align:-1.2777em;"></span><span class="mopen">(</span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0368em;"><span style="top:-3.4458em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4829em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>其中 $ p\ge 1 $，p=2时称为欧几里得范数，表征向量原点出发到向量确定点的距离。平方 $ L^2 $ 范数是 $ L^2 $ 范数的平方，可以通过 $ x^Tx $ 计算。平方 $ L^2 $ 范数的优势是对一个元素的导数只与该元素本身有关。但是其在原点非常平缓，<strong>导致零和非常小的元素难以区分</strong>，这种情况下使用 $ L^1 $ 范数。$ L^{\infty} $ 范数(最大范数)也经常使用，其返回值为</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∞</mi></msub><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">||x||_{\infty} =max|x_i| </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣∣</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span></span></p><p>范数也可以拓展到矩阵领域，如frobenius范数类似于$ L^2$ 范数：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mi>A</mi><mi mathvariant="normal">∣</mi><msub><mi mathvariant="normal">∣</mi><mi>F</mi></msub><mo>=</mo><msqrt><mrow><munder><mo>∑</mo><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow></munder><msubsup><mi>A</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow><mn>2</mn></msubsup></mrow></msqrt></mrow><annotation encoding="application/x-tex">||A||_F=\sqrt{\sum_{i,j}A_{i,j}^2} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣∣</span><span class="mord mathnormal">A</span><span class="mord">∣</span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.04em;vertical-align:-1.588em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.452em;"><span class="svg-align" style="top:-5em;"><span class="pstrut" style="height:5em;"></span><span class="mord" style="padding-left:1em;"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.412em;"><span class="pstrut" style="height:5em;"></span><span class="hide-tail" style="min-width:1.02em;height:3.08em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='3.08em' viewBox='0 0 400000 3240' preserveAspectRatio='xMinYMin slice'><path d='M473,2793c339.3,-1799.3,509.3,-2700,510,-2702 l0 -0c3.3,-7.3,9.3,-11,18,-11 H400000v40H1017.7s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,606zM1001 80h400000v40H1017.7z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.588em;"><span></span></span></span></span></span></span></span></span></span></p><h2 id="矩阵求导">矩阵求导</h2><p>深度学习/机器学习一般只用标量对向量/矩阵的求导（好耶！）</p><h3 id="矩阵求导的核心思想">矩阵求导的核心思想</h3><ol><li>矩阵中任一因变量对任一自变量的求导，结果中元素个数由因变量和自变量数目的乘积确定，如对于下列矩阵，求导结果的元素个数为12( $ 2\times 6=12 $ )</li><li>矩阵求导的关键在行数与列数的确定：分母布局和分子布局是两种确定人为规定的确定方法，选择一种就好</li></ol><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>Y</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">∣</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>+</mo><msub><mi>x</mi><mn>2</mn></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>−</mo><msub><mi>x</mi><mn>2</mn></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>∗</mo><msub><mi>x</mi><mn>2</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msubsup><mi>x</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>x</mi><mn>2</mn><mn>2</mn></msubsup></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msubsup><mi>x</mi><mn>1</mn><mn>3</mn></msubsup><mo>+</mo><msubsup><mi>x</mi><mn>2</mn><mn>2</mn></msubsup></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msubsup><mi>x</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>x</mi><mn>2</mn><mn>3</mn></msubsup></mrow></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow></mrow><annotation encoding="application/x-tex"> Y(X) = \begin{vmatrix} x_1+x_2 &amp; x_1-x_2 &amp; x_1*x_2\\ x_1^2+x_2^2 &amp; x_1^3+x_2^2 &amp; x_1^2+x_2^3\end{vmatrix}  </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.45em;"><span class="pstrut" style="height:4.4em;"></span><span style="width:0.333em;height:2.400em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.333em' height='2.400em' viewBox='0 0 333 2400'><path d='M145 15 v585 v1200 v585 c2.667,10,9.667,15,21,15c10,0,16.667,-5,20,-15 v-585 v-1200 v-585 c-2.667,-10,-9.667,-15,-21,-15c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v1200 v585 h43z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.45em;"><span class="pstrut" style="height:4.4em;"></span><span style="width:0.333em;height:2.400em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.333em' height='2.400em' viewBox='0 0 333 2400'><path d='M145 15 v585 v1200 v585 c2.667,10,9.667,15,21,15c10,0,16.667,-5,20,-15 v-585 v-1200 v-585 c-2.667,-10,-9.667,-15,-21,-15c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v1200 v585 h43z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><h3 id="分母布局">分母布局</h3><ol><li>求导结果的行数由分母（自变量）的行数确定</li><li>求导结果的列数由分子（因变量）的行数确定</li></ol><p>例如，对于m维列向量y和n维列向量x，基于分母布局，y对x的求导结果为(n,m):</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi mathvariant="normal">y</mi></mrow><mrow><mi mathvariant="normal">∂</mi><mi mathvariant="normal">x</mi></mrow></mfrac><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>y</mi><mn>1</mn></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mn>1</mn></msub></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>y</mi><mn>2</mn></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mn>1</mn></msub></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">…</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>y</mi><mi>m</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mn>1</mn></msub></mrow></mfrac></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>y</mi><mn>1</mn></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mn>2</mn></msub></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>y</mi><mn>2</mn></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mn>2</mn></msub></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">…</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>y</mi><mi>m</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mn>2</mn></msub></mrow></mfrac></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋱</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>y</mi><mn>1</mn></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>n</mi></msub></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>y</mi><mn>2</mn></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>n</mi></msub></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">…</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>y</mi><mi>m</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>n</mi></msub></mrow></mfrac></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\frac{\partial  \mathrm{y}}{\partial \mathrm{x}} = \left( \begin{array}{ccc} \frac{\partial y_1}{\partial x_1}&amp; \frac{\partial y_2}{\partial x_1}&amp; \ldots &amp; \frac{\partial y_m}{\partial x_1}\\  \frac{\partial y_1}{\partial x_2}&amp; \frac{\partial y_2}{\partial x_2} &amp; \ldots &amp; \frac{\partial y_m}{\partial x_2}\\   \vdots&amp;  \vdots &amp;  \ddots &amp; \vdots \\ \frac{\partial y_1}{\partial x_n}&amp; \frac{\partial y_2}{\partial x_n} &amp; \ldots &amp; \frac{\partial y_m}{\partial x_n}  \end{array} \right) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.0574em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathrm">x</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathrm" style="margin-right:0.01389em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:6em;vertical-align:-2.75em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.25em;"><span class="pstrut" style="height:8em;"></span><span style="width:0.875em;height:6.000em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='6.000em' viewBox='0 0 875 6000'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,2484c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-2492c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.246em;"><span style="top:-6.0013em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-4.6239em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.6788em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:-1.3866em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.746em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.246em;"><span style="top:-6.0013em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-4.6239em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.6788em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:-1.3866em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.746em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.246em;"><span style="top:-5.8138em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="minner">…</span></span></span><span style="top:-4.4364em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="minner">…</span></span></span><span style="top:-2.4913em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="minner">⋱</span></span></span><span style="top:-1.1991em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="minner">…</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.746em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.246em;"><span style="top:-6.0013em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-4.6239em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.6788em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:-1.3866em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.746em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.25em;"><span class="pstrut" style="height:8em;"></span><span style="width:0.875em;height:6.000em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='6.000em' viewBox='0 0 875 6000'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,2409c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-2544c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>基于分母布局的向量对向量求导结果称为梯度矩阵。如果将它转置可以得到非常熟悉的jacobian矩阵，它是基于分子布局的求导结果，<strong>分母布局和分子布局的结果互为转置</strong></p><p>机器学习中的布局选择一般遵循以下原则：</p><ul><li>分母为标量：使用分子布局</li><li>分子为标量：使用分母布局</li><li>全部为矩阵/向量：自行决定</li></ul><h3 id="微分法">微分法</h3><p>公式有点难······过段时间再看······</p><h2 id="reference">reference</h2><ul><li>深度学习·伊恩古德费洛</li><li>youtube–计量经济学入门专题2——矩阵求导（分母布局）</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;矩阵性质&quot;&gt;矩阵性质&lt;/h2&gt;
&lt;h3 id=&quot;正交矩阵&quot;&gt;正交矩阵&lt;/h3&gt;
&lt;p&gt;两个向量满足 $ x^Ty=0 $，则称为相互正交。对于n为空间，最多有n个范数非零向量相互正交。当这些向量的范数全部为1时称为标准正交。正交矩阵指行向量和列向量分别标准正交的方</summary>
      
    
    
    
    <category term="python" scheme="https://liubaichen.github.io/categories/python/"/>
    
    
    <category term="深度学习" scheme="https://liubaichen.github.io/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>自然语言处理——推理方法</title>
    <link href="https://liubaichen.github.io/posts/8acc63f2/"/>
    <id>https://liubaichen.github.io/posts/8acc63f2/</id>
    <published>2023-04-08T01:39:34.000Z</published>
    <updated>2023-05-01T11:27:57.209Z</updated>
    
    <content type="html"><![CDATA[<h1>基于推理的方法————神经网络</h1><p>基于计数的方法需要对维度数为单词种类数的共现矩阵做SVD计算，这对于大量文字来说显然是难以实现的。基于推理的方法使用神经网络，每次只处理mini-batch，并且可以并行运算。基于推理的方法也是基于分布式假设，即单词的含义由上下文的单词构成，通过上下文推理出该位置应该出现哪个单词。</p><blockquote><p>尽管有一些加速SVD方法，如truncated SVD可以删去奇异值较小的部分</p></blockquote><p>神经网络无法直接处理字符串，需要将其转换为向量。可以选择one-hot(如下图)，将所有单词表示为输入向量。</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/deduction_neural_network.png" alt="deduction_neural_network"></p><h2 id="CBOW">CBOW</h2><h3 id="结构">结构</h3><p>CBOW是word2vec的一个神经网络模型，输入值为上下文的单词，类似于计数法中的window size。如果考虑上下文共n个单词，则输入向量有n个，中间层是各个输入层经过affine层转化后的平均，输入向量共享同一个权重 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mrow><mi>i</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">W_{in}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 。输出层与输入层的维度数相同，为全部单词种类数，经过softmax函数转化为概率</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/CBOW_neural_network.webp" alt="CBOW_neural_network"></p><blockquote><p>这里没有考虑偏置</p></blockquote><p>由上面的矩阵运算可知，输入权重和输出权重都可以作为单词的分布式表示。例如单词you的输入向量为(1,7)，与输入权重(7,3)相乘后得到矩阵(1,3)，中间层的向量存有you的信息(还有goodbye的信息)。然后与输出权重(3,7)相乘后得到输出向量(1,7)。这里蕴含的信息是，输入权重的每一行为单词的分布式表示，输出权重的每一列为单词的分布式表示。分布式表示方法中，最受欢迎的是输入权重，输出权重和二者的叠加也可以</p><h2 id="输入向量处理">输入向量处理</h2><p>首先要将通过preprocess获得的单词ID转化为上下文单词contexts和目标单词target。如对于say这个target，you和goodbye就是它的contexts</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">create_contexts_target</span>(<span class="params">corpus,window_size=<span class="number">1</span></span>):</span><br><span class="line">    contexts = []</span><br><span class="line">    target = corpus[window_size:-window_size]</span><br><span class="line">    <span class="keyword">for</span> index <span class="keyword">in</span> <span class="built_in">range</span>(window_size,<span class="built_in">len</span>(corpus)-window_size):</span><br><span class="line">        context = []</span><br><span class="line">        context.extend([corpus[index-<span class="number">1</span>],corpus[index+<span class="number">1</span>]])</span><br><span class="line">        contexts.append(context)</span><br><span class="line">    <span class="keyword">return</span> np.array(contexts),np.array(target)</span><br></pre></td></tr></table></figure><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/contexts_target.webp" alt="contexts_target"></p><p>然后需要将上述获得的矩阵转化为one-hot格式。对于一维向量target，转化结果为二维矩阵，而对于二维矩阵contexts，转化结果为三维矩阵。其中contexts[:,0]对应输入矩阵的上文，contexts[:,1]对应输入矩阵的下文。</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/convert_one_hot.webp" alt="convert_one_hot"></p><p>在上述内容的基础上，通过建立神经网络就可以开始学习了</p><h2 id="概率相关">概率相关</h2><p>联合概率 $ P(A,B) $，表示A和B同时发生的概率；后验概率 $ P(A|B) $ 表示B发生的前提下A发生的概率。基于以上两种定义可以给出CBOW模型的概率表示　$ P(W_t|W_{t-1},W_{t+1}) $ 。对mini-batch中的每一个数据计算交叉熵误差并求和可以得到误差表达式为下式；也可以换一种思路，将每一个元素的概率相乘，再计算交叉熵误差</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>L</mi><mo>=</mo><mo>−</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></munderover><mi>l</mi><mi>o</mi><mi>g</mi><mi>P</mi><mo stretchy="false">(</mo><msub><mi>W</mi><mi>t</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>W</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>W</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L=-\frac{1}{N} \sum_{t=1}^{T} logP(W_t|W_{t-1},W_{t+1}) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.0954em;vertical-align:-1.2671em;"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8829em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2671em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p>这个函数也称为negative log likelihood(负对数似然)，用来评估分类模型的性能</p><h2 id="skip-gram模型">skip-gram模型</h2><p>skip-gram模型的结构与CBOW模型刚好相反。CBOW是根据上下文推测目标词汇，而skip-gram是根据一个词汇推测上下文。CBOW的运算速度更快，但skip-gram在低频词和类推问题上更加出色。</p><h1>word2vec改进</h1><p>embedding层：优化输入层到中间层<br>负采样层：优化中间层到输出层</p><h2 id="embedding层">embedding层</h2><p>CBOW模型的输入信号是one-hot类型的，唯一的非零元素代表单词的index。当one-hot数据与输入权重求乘积时，本质上是把index对应的权重的行提取出来，因此无需做任何矩阵运算。使用embedding层替代原有的affine层，加快运算。正向传播时，跟根据index将对应行提取出来；反向传播时，根据保存的self.index将dh保存到对应行。需要注意的是，如果一个index出现多次，即一个单词在段落中出现多次，需要将dh累加。最简单的方法是将dh使用enumerate编号，遍历dh。但是矩阵的for循环很浪费时间，使用numpy内部函数更加方便</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/embedding_layer.webp" alt="embedding"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i, word_id <span class="keyword">in</span> <span class="built_in">enumerate</span>(self.idx):</span><br><span class="line">    dW[word_id] += dout[i]</span><br><span class="line"> </span><br><span class="line">np.add.at(dW, self.idx, dout)</span><br></pre></td></tr></table></figure><p>at函数的第一参数是目标矩阵，第二参数是目标矩阵索引，第三参数是要处理的矩阵，即将dout按照idx对应的dw中的行累加，如</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">6</span>).reshape(<span class="number">2</span>,-<span class="number">1</span>)</span><br><span class="line">b = np.array([<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>])</span><br><span class="line">np.add.at(a,<span class="number">0</span>,b)</span><br><span class="line"><span class="comment">#array([[3, 4, 5],</span></span><br><span class="line"><span class="comment">#       [3, 4, 5]])</span></span><br></pre></td></tr></table></figure><h2 id="负采样层">负采样层</h2><h3 id="正确解">正确解</h3><p>由输入信号经输入权重处理后获得的矩阵，行数为1，列数为中间层神经元数。输出权重为(中间层神经元数，单词种类数)，其与输入权重同样庞大，并且无法采用embedding那样的处理。这里的对策是将多分类问题转化为二分类问题，即从回答是哪一个单词到回答某指定单词是否正确。这样就可以将输出权重分散为列数为1的小矩阵（目标单词对应的index），其与中间层矩阵相乘的结果为一个数，表示是否为该单词的概率。采用二分法处理后，affine层的激活函数由softmax函数调整为sigmoid函数，则交叉熵误差可以表示为 $ L=-(t\ lny+(1-t)\ ln(1-y)) $ ，t取0或1。</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/embedding_output.webp" alt="output"></p><blockquote><p>为什么使用sigmoid函数？</p></blockquote><ol><li>计算成本比softmax低</li><li>值分布为(0,1)，正好为概率分布</li></ol><p>具体的实现方法如下：假设单词种类数为7，mini-batch为4，则输入信号为(4,7)；中间层神经元数为3，则输入权重为(7,3)，二者的点积h为(4,3)；输出权重为(3,7)，在经过转置后使用embedding层提取指定index行的元素（因为输出权重的每一列为分布式表示，所以需要转置），结果target_W为(4,3)；这里将target_W直接与h进行对应元素相乘，然后按列求和，还原了mini-batch为1（即输入矩阵行数为1）时的向量点积过程。</p><blockquote><p>target_W的每一行表示一个词汇，h的每一行代表输入样本，二者的乘积代表词汇和样本的相似度，求和可以获得总相似度</p></blockquote><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/embedding_binary.webp" alt="输出层优化"></p><h3 id="错误解">错误解</h3><p>除正确解的概率接近1外，还需要错误解的概率接近0。关于为什么不能只学习正确解，chatgpt给出的答案是，模型会偏向于输出高频单词而非预测单词。错误解既不能选择全部，也不能像mini-batch那样随机选择，而是要根据出现频率进行删选。具体方式是通过random.choice函数，给出单词ID列表corpus、负采样size和概率分布的次方值power（后面会说）；根据corpus计算每个单词的出现次数，然后计算出现频率。这里引入power(&lt;1)是为了调整概率分布，适当缩小小概率元素和大概率元素出现的频率。power的用法是将所有的出现次数进行power次方化，然后计算变换后的概率。choice函数的用法如下：p中0、3、4号元素的值比较大，所以出现概率也会高一点</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">p = np.random.randint(<span class="number">1</span>,<span class="number">10</span>,[<span class="number">20</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p</span><br><span class="line">array([<span class="number">7</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">6</span>])</span><br><span class="line"></span><br><span class="line">power = <span class="number">0.75</span></span><br><span class="line">p = np.power(p,power)</span><br><span class="line">p /= np.<span class="built_in">sum</span>(p)</span><br><span class="line"><span class="comment"># choice选择</span></span><br><span class="line">a = np.arange(<span class="number">20</span>)</span><br><span class="line">np.random.choice(a,p=p,size=<span class="number">3</span>,replace=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;基于推理的方法————神经网络&lt;/h1&gt;
&lt;p&gt;基于计数的方法需要对维度数为单词种类数的共现矩阵做SVD计算，这对于大量文字来说显然是难以实现的。基于推理的方法使用神经网络，每次只处理mini-batch，并且可以并行运算。基于推理的方法也是基于分布式假设，即单词的含义由</summary>
      
    
    
    
    <category term="python" scheme="https://liubaichen.github.io/categories/python/"/>
    
    
    <category term="深度学习" scheme="https://liubaichen.github.io/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>自然语言处理——计数方法</title>
    <link href="https://liubaichen.github.io/posts/6edc6e28/"/>
    <id>https://liubaichen.github.io/posts/6edc6e28/</id>
    <published>2023-04-06T03:14:26.000Z</published>
    <updated>2023-04-09T06:05:52.852Z</updated>
    
    <content type="html"><![CDATA[<h1>绪论</h1><h2 id="计算高速化">计算高速化</h2><p>python和numpy中float的存储方式包括64、32和16，默认使用float64。但是float32占用更小的内存，且能够保证大致的准确度，因此在深度学习中经常使用。16位也可以保证较高的准确度，但由于GPU仅支持32位，所以不采用。google-colab上有提供TPU，可以支持至8位。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.random.random([<span class="number">3</span>,<span class="number">4</span>]).astype(np.float32)</span><br><span class="line">a.dtype     <span class="comment">#dtype(&#x27;float32&#x27;)</span></span><br></pre></td></tr></table></figure><h2 id="自然语言">自然语言</h2><p>人类语言称为自然语音，而自然语言处理的目的是让计算机理解人类语言。同义词词典是一种人工定义的单词网络。随着深度学习的出现，这种耗费巨大人力的方法已经不再是最佳选择。</p><h1>基于计数的方法</h1><h2 id="预处理">预处理</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="comment"># method1</span></span><br><span class="line">text = <span class="string">&quot;I like python.&quot;</span></span><br><span class="line">text.lower()</span><br><span class="line">text=text.replace(<span class="string">&#x27;.&#x27;</span>,<span class="string">&#x27; .&#x27;</span>)</span><br><span class="line">text.split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># method2(recommended)</span></span><br><span class="line">text = <span class="string">&quot;I like python.&quot;</span></span><br><span class="line">text.lower()</span><br><span class="line">regex = re.<span class="built_in">compile</span>(<span class="string">r&quot;\W+&quot;</span>)</span><br><span class="line">b = re.split(regex,text)</span><br><span class="line"></span><br><span class="line"><span class="comment"># preprocess function</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">preprocess</span>(<span class="params">text</span>):</span><br><span class="line">    text = text.lower()</span><br><span class="line">    regex = re.<span class="built_in">compile</span>(<span class="string">r&quot;\W+&quot;</span>)</span><br><span class="line">    words = re.split(regex,text)</span><br><span class="line">    </span><br><span class="line">    word2id = &#123;&#125;</span><br><span class="line">    id2word = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> word <span class="keyword">in</span> words:</span><br><span class="line">        <span class="keyword">if</span> word <span class="keyword">not</span> <span class="keyword">in</span> word2id:</span><br><span class="line">            new_id = <span class="built_in">len</span>(word2id)</span><br><span class="line">            word2id[word] = new_id</span><br><span class="line">            id2word[new_id] = word</span><br><span class="line">    corpus = np.array([word2id[w] <span class="keyword">for</span> w <span class="keyword">in</span> words])</span><br><span class="line">    <span class="keyword">return</span> corpus,word2id,id2word</span><br></pre></td></tr></table></figure><h2 id="分布式表示">分布式表示</h2><p>分布式假设(distributional hypothesis)：单词含义由上下文（周围的单词）决定<br>分布式表示：向量表示单词,就像用三维RGB矩阵表示颜色一样<br>窗口大小(window size)：要考虑的上下文的单词数</p><p>对’you say goodbye and i say hello’这句话使用分布式表示，window size为1：</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/co-occurence_matrix.png" alt="co-occurence_matrix"></p><p>由频数向量组成的矩阵称为共现矩阵(co-occurence matrix)，下面的代码实现了从corpus获得共现矩阵</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">create_co_matrix</span>(<span class="params">corpus,vocabulary_size,window_size=<span class="number">1</span></span>):</span><br><span class="line">    corpus_size = <span class="built_in">len</span>(corpus)</span><br><span class="line">    co_matrix = np.zeros([vocabulary_size,vocabulary_size],dtype=np.int32)</span><br><span class="line">    <span class="keyword">for</span> index,word_id <span class="keyword">in</span> <span class="built_in">enumerate</span>(corpus):</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,window_size+<span class="number">1</span>):</span><br><span class="line">            left_index = index - i</span><br><span class="line">            right_index = index + i</span><br><span class="line">            <span class="keyword">if</span> left_index&gt;=<span class="number">0</span>:</span><br><span class="line">                left_word_id = corpus[left_index]</span><br><span class="line">                co_matrix[word_id][left_word_id] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> right_index&lt;corpus_size:</span><br><span class="line">                right_word_id = corpus[right_index]</span><br><span class="line">                co_matrix[word_id][right_word_id] += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> co_matrix</span><br></pre></td></tr></table></figure><h2 id="向量相似性">向量相似性</h2><p>共现矩阵的向量表示每一个单词的特征，通过余弦相似度可以得到向量间的相似性。其计算方法为对x和y归一化后点积。为避免0作为分母，引入极小量eps</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>s</mi><mi>i</mi><mi>m</mi><mi>i</mi><mi>l</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>t</mi><mi>y</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><msub><mi>x</mi><mn>1</mn></msub><msub><mi>y</mi><mn>1</mn></msub><mo>+</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo>+</mo><msub><mi>x</mi><mi>n</mi></msub><msub><mi>y</mi><mi>n</mi></msub></mrow><mrow><msqrt><mrow><msubsup><mi>x</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo>+</mo><msubsup><mi>x</mi><mi>n</mi><mn>2</mn></msubsup></mrow></msqrt><mo>+</mo><msqrt><mrow><msubsup><mi>y</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo>+</mo><msubsup><mi>y</mi><mi>n</mi><mn>2</mn></msubsup></mrow></msqrt></mrow></mfrac></mrow><annotation encoding="application/x-tex">similarity(x,y)=\frac{x_1y_1+···+x_ny_n}{\sqrt{x_1^2+···+x_n^2}+\sqrt{y_1^2+···+y_n^2}}  </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">imi</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3903em;vertical-align:-1.13em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2603em;"><span style="top:-2.1602em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9498em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mord">+</span><span class="mpunct">⋅⋅⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">+</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.9098em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2902em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9498em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mord">+</span><span class="mpunct">⋅⋅⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">+</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.9098em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2902em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">+</span><span class="mpunct">⋅⋅⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">+</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.13em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">cos_similarity</span>(<span class="params">x,y,eps=<span class="number">1e-8</span></span>):</span><br><span class="line">    nx = x / (np.sqrt(np.<span class="built_in">sum</span>(x ** <span class="number">2</span>)) + eps)</span><br><span class="line">    ny = y / (np.sqrt(np.<span class="built_in">sum</span>(y ** <span class="number">2</span>)) + eps)</span><br><span class="line">    <span class="keyword">return</span> np.dot(nx, ny)</span><br></pre></td></tr></table></figure><p>可以通过比较两向量间的余弦相似度比较单词的相似性</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">most_similar</span>(<span class="params">query, word_to_id, id_to_word, word_matrix, top=<span class="number">5</span></span>):</span><br><span class="line">    <span class="keyword">if</span> query <span class="keyword">not</span> <span class="keyword">in</span> word_to_id:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;%s is not found&#x27;</span> % query)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;\n[query] &#x27;</span> + query)</span><br><span class="line">    query_id = word_to_id[query]</span><br><span class="line">    query_vec = word_matrix[query_id]</span><br><span class="line"></span><br><span class="line">    vocab_size = <span class="built_in">len</span>(id_to_word)</span><br><span class="line"></span><br><span class="line">    similarity = np.zeros(vocab_size)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(vocab_size):</span><br><span class="line">        similarity[i] = cos_similarity(word_matrix[i], query_vec)</span><br><span class="line"></span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> (-<span class="number">1</span> * similarity).argsort():</span><br><span class="line">        <span class="keyword">if</span> id_to_word[i] == query:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27; %s: %s&#x27;</span> % (id_to_word[i], similarity[i]))</span><br><span class="line"></span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> count &gt;= top:</span><br><span class="line">            <span class="keyword">return</span></span><br></pre></td></tr></table></figure><p>argsort函数可以按照升序返回index，因此前面加上负号后就是降序</p><h2 id="点互信息">点互信息</h2><p>点互信息(pointwise mutual information)，是另一种用于描述单词间关联性的指标。设想在一段文字中，诸如定冠词the或不定冠词a/an之类的词汇很多，这些词语与后面跟的名词的向量相似性非常强，但是the/a/an并不是我们真正关心的对象，实际上与car关联的drive等才是目标对象！为了抛开这种影响需要引入点互信息：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mi>M</mi><mi>I</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mfrac><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">PMI(x,y)=log_2 \frac {P(x,y)}{P(x)P(y)} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">PM</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>上式的右半部分曾经在概率中接触过，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(x,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span> 表示x和y事件同时发生的概率，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span> 可以类比得到。使用共现矩阵可以表示为</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mi>M</mi><mi>I</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mfrac><mrow><mi>C</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>×</mo><mi>N</mi></mrow><mrow><mi>C</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi>C</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">PMI(x,y)=log_2 \frac{C(x,y)\times N}{C(x)C(y)} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">PM</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>其中C为共现矩阵，C(x,y)表示x和y的共现矩阵元素，N表示语料库的单词数量（共现矩阵sum）。为了避免共现次数为0导致的-inf问题，可以引入正点互信息PPMI</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mi>P</mi><mi>M</mi><mi>I</mi><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>P</mi><mi>M</mi><mi>I</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">PPMI=max(PMI,0) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">PPM</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">PM</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span></span></p><h2 id="奇异值分解">奇异值分解</h2><p>酉矩阵（实数）的定义是一个方阵和其转置的点积为单位矩阵</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>U</mi><mi>T</mi></msup><mi>U</mi><mo>=</mo><mi>I</mi></mrow><annotation encoding="application/x-tex">U^TU=I </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8913em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>U</mi><msup><mi>U</mi><mi>T</mi></msup><mo>=</mo><mi>I</mi></mrow><annotation encoding="application/x-tex">UU^T=I </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8913em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span></span></span></span></span></p><p>奇异值分解(SVD)是一种矩阵的降维方法，其可以将任意的(m,n)矩阵分解为三个矩阵的乘积</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>X</mi><mo>=</mo><mi>U</mi><mi>S</mi><msup><mi>V</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">X=USV^T </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8913em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span></p><p>其中X为待分解矩阵(m,n)，U为(m,m)方阵，S为(m,n)的单位矩阵，T为(n,n)方阵。S的对角线元素称为奇异值(singular value)数学求解方法还没有看，毕竟python能直接计算···大致流程是通过计算 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><msup><mi>X</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">XX^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>X</mi><mi>T</mi></msup><mi>X</mi></mrow><annotation encoding="application/x-tex">X^TX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> 的特征值可以得到奇异值。SVD处理过程如下图所示：U矩阵被视为“单词空间”，构成了空间基轴；S矩阵中奇异值按降序排列，且下降得特别快，前几个值就可以近似描述原始矩阵；因此可以去除U矩阵中的部分列实现降维。如我们认为S矩阵中的前k个值可以表示X矩阵，则U矩阵可以只保留前k列（即图中的 $ U^{'} $）。若k为2，则可以将多维共现矩阵转化为2为矩阵</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/SVD-PPMI.png" alt="SVD-PPMI"></p><h2 id="summary">summary</h2><p>本节的内容主要是将一段文字转化为单词的特征向量组成的矩阵。首先通过preprocess获得单词与id的索引以及语料库corpus；通过分布式表示处理corpus获得共现矩阵，这里就获得了最原始的特征向量矩阵(维度数为单词种类数)；通过点互信息和奇异值分解对共现矩阵做进一步处理，最后通过余弦相似度比较单词的相似性</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">corpus,word2id,id2word = preprocess(<span class="string">&#x27;You say goodbye and I say hello.&#x27;</span>)</span><br><span class="line">co_matrix = create_co_matrix(corpus,<span class="built_in">len</span>(corpus),window_size=<span class="number">1</span>)</span><br><span class="line">PPMI = ppmi(co_matrix)</span><br><span class="line"><span class="comment">#np.set_printoptions(precision=3)</span></span><br><span class="line">U,S,V  = np.linalg.svd(PPMI)</span><br><span class="line">word_vec = U[:,:<span class="number">2</span>]</span><br><span class="line">querys = [<span class="string">&#x27;you&#x27;</span>,<span class="string">&#x27;goodbye&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> query <span class="keyword">in</span> querys:</span><br><span class="line">    most_similar(query,word2id,id2word,word_vec,top=<span class="number">3</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;绪论&lt;/h1&gt;
&lt;h2 id=&quot;计算高速化&quot;&gt;计算高速化&lt;/h2&gt;
&lt;p&gt;python和numpy中float的存储方式包括64、32和16，默认使用float64。但是float32占用更小的内存，且能够保证大致的准确度，因此在深度学习中经常使用。16位也可以保证较高的</summary>
      
    
    
    
    <category term="python" scheme="https://liubaichen.github.io/categories/python/"/>
    
    
    <category term="深度学习" scheme="https://liubaichen.github.io/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>共产国际的解散</title>
    <link href="https://liubaichen.github.io/posts/23474/"/>
    <id>https://liubaichen.github.io/posts/23474/</id>
    <published>2023-03-31T12:42:52.000Z</published>
    <updated>2023-04-10T13:17:42.822Z</updated>
    
    <content type="html"><![CDATA[<p>本篇来自《一个大国的崛起与崩溃——苏联历史专题研究（1917-1991）》，作者为沈志华。</p><h1>共产国际（第三国际）</h1><p>根据马克思主义理论，社会主义革命是世界性的，至少会在西欧等文明国家同时发生，共产国际正是在这样一种理论下于1919年建立的。1920年，国内战争的胜利使无数共产主义者看到了社会主义革命的希望，共产国际通过了发动世界革命的决议。1923年革命风暴的平息和西欧资本主义的稳步发展，使得苏共·共产国际对世界革命的看法有了分歧。托洛茨基和季诺维耶夫·加米涅夫代表的两大反对派坚持世界革命，对斯大林的“一国社会主义论”进行了猛烈批判。然而他们既没有斯大林那么强硬的政治手腕，在理论上也过于脱离实际，最终败给了斯大林。随后共产国际在斯大林领导下逐渐由一个世界革命组织转变为控制各国共产党的工具。</p><p>1929年资本主义经济危机，共产国际抓住机会宣传“法西斯主义是一种革命和民主的组织”（指相对于资产阶级政府和社会民主主义），希望借此发动世界革命推翻资产阶级政府。1933年德国法西斯成为苏联的头号威胁时，共产国际又开始批判法西斯主义剥夺了民主，要求各国共产党与政府合作，建立反法西斯主义阵线。1938年苏联与英法的谈判迟迟无果，转而与德国签订秘密协定后，共产国际又开始命令各国共产党反政府、反战争、淡化反法西斯宣传。这种180度的大转弯搞得各国共产党内部的意见无法统一，共产国际的权威性大受影响，俨然成了一个笑柄。</p><h1>二战中的共产国际</h1><p>1941年苏共内部就出现质疑共产国际存在意义的质疑声。并且日丹诺夫和共产国际高层还商讨了解散共产国际的充分理由：<strong>不给资本主义阵营留以把柄，即共产党是服从于国外组织的叛徒</strong>；使各国共产党真正成为本国人民的党。但是在斯大林看来，解散共产国际最重要的原因是国际形势扑朔迷离，世界革命看不到希望，无论选择英法还是德国，都必须与借助资本主义的力量保证自身的安全。此外，共产国际在各国的权威性大幅度受损，无助于团结各国共产党。</p><p>6月苏德战争爆发后，共产国际的倾向完全转变由世界革命转向民族国家利益，并且愈发成为斯大林与英美合作的绊脚石。另一方面，共产国际也制约了各国共产党的发展。例如中国共产党和南斯拉夫共产党希望将反法西斯战争同社会主义革命相结合，遭到共产国际的断然否认。因此在1941-1942年法西斯占据优势的时期，共产国际陷入低谷，处于半死不活的状态。另一个相关事件是，1942年苏联和英国划分战后势力范围，苏联为了促使英国在欧洲大陆登陆不惜牺牲自己的领土要求。但彼时英国深陷北非战役，无力帮助苏联。</p><p>1943年起，二战形势开始变化。斯大林格勒战役结束后，苏军开始反攻，共产国际又忙活了起来。5月北非战役结束，英美计划开辟第二战争，但是4月曝光的卡廷事件又给盟军关系造成阴影。在这种形势下，斯大林必须做出让步以回应英国的不满。5月14日，丘吉尔到达华盛顿会见罗斯福，斯大林急于让西方盟友知道共产国际将要解散，但又担心会引起各国共产党的涣散。在此之前的5月8日，莫洛托夫受斯大林执意向共产国际的两个领导人季米特洛夫和马努伊尔斯基传达了解散共产国际的计划。12日，共产国际内部召开会议通报解散事宜，大多数人表示支持。19日，苏共高层会议，斯大林将解散的缘由推给某些支部（推卸责任），并确定在10天后正式公开。结果第二天斯大林就打电话给季米特洛夫，希望他当天就告知给各党的领导人，斯大林已经等不及了。22日，《真理报》率先公布了这一消息，斯大林迫不及待地向记者解释解散共产国际的原因（本节第一段加粗文字）。季米特洛夫打算在得到绝大多数支部的认可后宣布正式解散，但斯大林又双叒叕不耐烦了，追问必须要等到所有党表明态度吗？最终季米特洛夫只得同意在6月8日前召开会议。最终，《真理报》在6月10日刊登了31个支持解散的支部名单和共产国际的决议，共产国际正式解散。</p><h1>放弃世界革命</h1><p>共产国际解散后，原有附属组织和工作人员并没有被撤销/解雇，而是整体迁移到了新的组织——联共(布)中央国际情报部和中央国际部，季米特洛夫继续担任国际情报部的副部长和国际部的部长。但是据此得出斯大林是演戏给西方看的说法是不符合事实的。首先，从种种言行中可以看出斯大林已经放弃了世界革命的相法，如1944年取消将《国际歌》作为国歌、抹去共产国际的痕迹（甚至连路名都不放过）、1944年与丘吉尔会谈时明确表明不再发动欧洲革命。斯大林希望苏联能够融入国际社会，与资本主义大国共同建立和平体制。既然放弃世界革命，共产国际作为一个组织就完全失去了存在意义。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;本篇来自《一个大国的崛起与崩溃——苏联历史专题研究（1917-1991）》，作者为沈志华。&lt;/p&gt;
&lt;h1&gt;共产国际（第三国际）&lt;/h1&gt;
&lt;p&gt;根据马克思主义理论，社会主义革命是世界性的，至少会在西欧等文明国家同时发生，共产国际正是在这样一种理论下于1919年建立的。19</summary>
      
    
    
    
    <category term="历史" scheme="https://liubaichen.github.io/categories/%E5%8E%86%E5%8F%B2/"/>
    
    
    <category term="苏联史" scheme="https://liubaichen.github.io/tags/%E8%8B%8F%E8%81%94%E5%8F%B2/"/>
    
  </entry>
  
  <entry>
    <title>音乐收藏</title>
    <link href="https://liubaichen.github.io/posts/52394/"/>
    <id>https://liubaichen.github.io/posts/52394/</id>
    <published>2023-03-31T10:04:45.000Z</published>
    <updated>2023-05-22T14:22:14.843Z</updated>
    
    <content type="html"><![CDATA[<p>自己倾向于在一段时间反复的听一首或几首歌（比如今天就突然想听大概一两年前特别喜欢的歌），呈现出明显的周期性，所以就想着记录一下（实际上也是音乐取向）</p><h2 id="魔法少女小圆">魔法少女小圆</h2><p>今天就是魔圆回顾专场，最近一个月每天都在听！整理了一下魔圆六个作品集中特别喜欢的歌曲，并且放到了自己的网站充当背景音乐。每一首都是百听不厌的经典！最喜欢的有we’re here for you, her new wings, <strong>her wings</strong>, happy ending, i miss you, rebirth, prelude to act 2, Nux Walpurgis, Terror adhaerens, Credens justitiam, Numquam vincar,fateful #4</p><h2 id="乃木坂46">乃木坂46</h2><p>时间：2017-2021，主推堀未央奈、北野日奈子（两人毕业后就退坑了），最仰慕的成员是橋本奈々未（入坑契机），即使已经隐退，乃团仍然充满着她的个人魅力。最喜欢サヨナラの意味（毫无疑问的最神曲且没有之一！），之后是冷たい水の中（最喜欢的solo曲）、きっかけ、命は美しい、いつかできるから今日できる、シンクロニシティ、別れ際はもっと好きになる、もう少しの夢。每次听到乃团的歌都会想起回不去的高中生活，回想起有乃团音乐陪伴下的每一天，好怀念啊！乃木坂46真真切切地改变了我的人生轨迹印象：首次接触日本的三次元文化；开始学日语；2018年6月膝盖因为运动受伤而做手术后，是命は美しい伴我度过一个个难熬的夜晚；竞赛结束回归高考的艰难时期，是いつかできるから今日できる和シンクロニシティ一次次让我从低谷中站起来；2018年底上海演唱会，沉醉于帰り道は遠回りしたくなる之中，甚至还为此和自己非常喜欢的老师吵了一架；2019年上半年，是キャラバンは眠らない和僕だけの光让我坦然面对。</p><h2 id="魔法使いの夜">魔法使いの夜</h2><p>魔夜的纯音乐真的是艺术品（在我心目中比肩魔圆的存在），在2021、2022年经常听，最喜欢的有蒼崎青子、five、久遠寺有珠、10th symphony type/MOON</p><h2 id="ClariS">ClariS</h2><p>除乃木坂46外最喜欢的女性团体，因为魔圆而了解。最喜欢的有コネクト（the first take ver. 完美还原魔圆永恒的物语结尾的交响乐！）、ひらひらひらら（一番大好き！）、忘れてもないよ、ルミナス、明日春が来たら、オルゴール</p><h2 id="雨宫天">雨宫天</h2><p>非常喜欢的一位女性声优，因为魔圆而了解，在2022年暑假期间每天都听。最喜欢的有paradox（the first take ver. 最佳好评！）、羽根輪舞（优雅）、フリイジア（一番大好き！）、ぽつり愛（新歌，最近单曲循环中）</p><h2 id="魔圆外传">魔圆外传</h2><p>与魔圆本篇一脉相承，音乐也是相当地出色，2022年暑期和下半学期经常听。最喜欢的有inception、intermediate（一番大好き！）、anxiety、wings of magius、叶えちゃお、山茶花の跡、revive</p><h2 id="无归属纯音乐篇">无归属纯音乐篇</h2><p>由于没有太多共同特征，因此只是准备列举一下：</p><ul><li>古典风格     miyako(from the album ancient city 2)、verdurous mountains（充满东方韵味的古典风格音乐）、brookside、love(S.E.N.E)、風のように、夜明、</li><li>火影忍者     五月雨</li><li>刀剑神域     swordland、a tender feeling、luminous sword</li><li>你的名字     theme of mitsuha（一首把我带入二次元世界的音乐）</li><li>缘之空       遠い空へ</li><li>怪物猎人     无名猎人的矜持</li></ul><h2 id="少女歌剧">少女歌剧</h2><p>由于我只看过TV和剧场版，所以对手游中的歌曲不太了解。2021和2020年经常听，最喜欢的有rondorondorondo（一番大好き！）、華恋とひかり、舞台少女心得 幕间（超级好听！）、星のダイアローグ、命尽きても尽き果てず、世界を灰にするまで、スタアライト、star parade、re：create（一番大好き！）、情熱の目覚めるとき</p><h2 id="當山みれい">當山みれい</h2><p>非常喜欢的女性歌手，2022年下半年经常听。最喜欢的有missing you、願いあの頃のキミへ、またねがあれば，其中前两首是我认为能够称之为传世经典的歌曲。</p><h2 id="MACO">MACO</h2><p>最喜欢的歌手（没有之一！），从2017年开始每年都会有一段时间疯狂单曲循环，人美声更美，无论是人声还是乐曲风格都是绝对的一流。最喜欢的有恋の道（一番大好き）、dear my friend、happy tears、運命、桜の木の下、however、story、hero(studio live version)、三月九日、夏風邪、再恋愛</p><h2 id="kalafina">kalafina</h2><p>因为魔圆而了解，非常有特色的女性乐队，非常可惜的是已经解散了（魔圆新剧场版的ed和插曲怎么办啊！！！）。最喜欢的有百火燎乱、君が光に変えていく、seventh heaven(一番大好き)、光の旋律、満天、ひかりふる、to the beginning()、magia[quattro]、君の銀の庭、believe</p><h2 id="miwa">miwa</h2><p>超级喜欢的女性歌手，嗓音很有特色。喜欢的有ヒカリへ、delight、don’t cry anymore、片想い、春になったら、ホイッスル君と過ごした日々</p><h2 id="平井坚">平井坚</h2><p>索尼一姐（×）的音色是真的逆天！最喜欢的有告白和gaining through losing</p><h2 id="back-number">back number</h2><p>因为堀未央奈而了解，日式乐团风格。最喜欢的有happy end、christmas song、花束、雨を濡らす雨のように</p><h2 id="LoveLive-虹咲学园学园偶像同好会">LoveLive!虹咲学园学园偶像同好会</h2><p>2020年接触，也是lovelive系列中唯一在推的团。雪菜的几首歌给我留下了深刻的印象，像是chase、melody，哀温之诗和决意之光也非常棒！</p><h2 id="Coldplay">Coldplay</h2><p>喜欢的为数不多的英语乐队，仅凭一首yellow就足以铭记。依然清晰地记得高中时读《沉睡的人鱼之家》（也是东野圭吾的作品中最喜欢的一部），单曲循环的歌就是yellow。此外还有paradise、viva la vida（太经典了）。</p><h2 id="bang-dream">bang dream</h2><p>2023年5月初新入坑邦邦，自然是最近听歌的主力。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;自己倾向于在一段时间反复的听一首或几首歌（比如今天就突然想听大概一两年前特别喜欢的歌），呈现出明显的周期性，所以就想着记录一下（实际上也是音乐取向）&lt;/p&gt;
&lt;h2 id=&quot;魔法少女小圆&quot;&gt;魔法少女小圆&lt;/h2&gt;
&lt;p&gt;今天就是魔圆回顾专场，最近一个月每天都在听！整理了一下</summary>
      
    
    
    
    <category term="diary" scheme="https://liubaichen.github.io/categories/diary/"/>
    
    
    <category term="杂谈" scheme="https://liubaichen.github.io/tags/%E6%9D%82%E8%B0%88/"/>
    
  </entry>
  
</feed>
