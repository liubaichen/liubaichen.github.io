<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>english_sentence</title>
      <link href="/posts/381339ea/"/>
      <url>/posts/381339ea/</url>
      
        <content type="html"><![CDATA[<h1>East Asia’s new family portrait</h1><p>then she felt social pressure to settle down and start a family, she did not want to <strong>put</strong> her career <strong>on hold</strong></p><blockquote><p>on hold:推迟、中断</p></blockquote><p>as young people eschew marriage or having children, nuclear families are in decline: in japan, where this process began earliest, couples with at least one child <strong>accounted for</strong> 42% of households in 1980, when single-person households <strong>made up</strong> 20%; by 2020, couples with children has fallen to 25% of households, and single people accounted for 38%.</p><p>more new pets (230,000) were registered in the self-governing territory last year than children were born (140,000); some Taiwanese have <strong>taken to calling</strong> their critters “fur children”</p><blockquote><p>take to doing sth: 开始养成习惯做某事</p></blockquote><p>But money is <strong>at best</strong> only part of the story</p><blockquote><p>at best: 充其量</p></blockquote><p>then many municipalities have <strong>pushed ahead</strong> and offered symbolic “partnership” certificates for same-sex couples, the national government has balked at legalizing gay marriage.</p>]]></content>
      
      
      <categories>
          
          <category> 语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 英语阅读 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>暑假看番体验</title>
      <link href="/posts/a074be8f/"/>
      <url>/posts/a074be8f/</url>
      
        <content type="html"><![CDATA[<h1>刀剑神域</h1><p>最开始知道刀剑是梶浦老师的作品<strong>a tender feeling</strong>，终于抽出空来看了！目前暂时看完了第一季、第二季、序列战争还有最近两年的新剧场版，整体评价大概7-8分？剧情上，在老套的冒险类题材上加入了VR、AR元素，还挺新颖的。估计是小说内容过于冗杂，第一季SAO篇的节奏很奇怪，跳跃性很大（虽然有一部分内容在新剧场版呈现出来了），看得有点一头雾水。ALO篇的节奏好了很多，但是最后真人pk那一段很突兀，结衣逐渐显示出外挂的属性，感觉在某种程度上毁了剧情。第二季GGO篇的剧情神展开，但是竟然发展成柯南式的凶杀案，真的离谱！唯一能让我坚持看下去的是诗乃是真的香啊！圣母圣咏篇是我觉得最好的一个篇章，用VR实现梦想什么的，真的感动了。题外话，有纪哭的那段真的完完全全和小圆第10集那段一模一样，毕竟一个声优。序列战争有点像柯南近十年的剧场版，主打大场面，各路人马都要出来露一面。AR中真人pk把克莱因打成轻伤的剧情是真离谱，100层boss战一堆人出场真的让人看得目瞪口呆。两个新剧场版质量还可以，但是剧情上与第一季中的设定出现部分bug，硬伤。SAO的音乐质量还是不错的，但是在动画中的编排有点问题，画面和BGM不匹配现象严重，有点浪费了优质的音乐素材。</p><h1>核爆默示录</h1><p>7月11-12日看完了超冷门作品《核爆默示录》（去年偶然间发现的，然后一直在收藏夹吃灰）。整体质量真的我完全超乎我想象，评分可以达到9分左右！妥妥的冷门神作！和魔圆、EVA一样，故事的背景都设置得比较宏大。但不同的是，EVA对大背景的叙述真的很多，看的让人云里雾里，难以理解。魔圆和核爆在这一方面处理得很好，故事的核心都是以具体的人进行展开，淡化了大背景的严肃性（而且不会动不动就跟宗教等玄学因素联系在一起）。另外op angel的副歌部分真的好听！比较可惜的是，由于太过冷门，动画只制作了小说的前两个部分，剩下两个估计是没有希望了，可惜。</p><h1>命运石之门</h1><h2 id="7月13日">7月13日</h2><p>老早之前就想看的番。第一季第一集有些看不太懂，不过很快就回到正线上了，剧情的进展真是让人欲罢不能。对op具有强烈的熟悉感，之前肯定在哪里听过，副歌部分真的好听！ed的前奏很契合主题，每次都被沉浸其中。</p><h2 id="7月14日">7月14日</h2><p>今天一口气看到14集，12集剧情的快速反转真的让我想到魔圆10集，当之无愧的名作！而且作为一个时间线不断跳跃的影片，命运石之门的条理真的很清晰，相对于诺兰的许多电影强了许多。已经迫不及待想看β线的剧情了。</p><h2 id="7月15日">7月15日</h2><blockquote><p>不论mayuri死多少次我都已经感觉不到吃惊了，不知何时内心就已经麻痹了，甚至为了看她什么时候死反而故意等着不进行时间跳跃</p></blockquote><p>22集，太痛了！</p><h2 id="7月16-17日">7月16-17日</h2><p>这两天追到第二季14集，质量依然对标第一季。7-8集的剧情反转仿佛又回到了第一季，短暂的α线回归真的太感动了。</p><h2 id="7月18日">7月18日</h2><p>第二季完结，剧情的反转太对味了，教授是幕后黑手真的完全没想到啊！okabe从2036回溯到2011，特别是第一季op响起的时候，感动！0线最后没有给出是否跳到steins gate线，但是应该也是和第一季一样成功了吧。这可能就是世界线收束。</p><p>已经很久没有这么沉浸地看一部番了，感觉上次还是魔圆。确实，命运石之门在我心目中就是仅次于魔圆的存在（魔圆，永远的神！），特别是第一季真的是几乎完美了，剧情线非常清晰，而且也没有让大背景干扰人物刻画（第二季的大背景有点离谱了），op神的不行，ed也足够优秀，具备了神番的一切条件。</p><h1>夏日重现</h1><p>看名字和宣传图还以为是恋爱喜剧（迫真），所以没有一直没看。第一季结尾男主GG真的给我惊到了，原来是re0那样的穿越剧啊！</p><p>看完三天后才来写，结局索然无味，或者可以说是很烂。上半部分不能说是很好，但至少也能做到让人很想看下去。到下半部分就开始疯狂洗白，反正我是看的满头问号。还有四手到底是什么啊，这个剧真的有说明吗！各种各样的设定也让人很抓狂，比如フカン这个设定真的莫名其妙，而且明明是俯瞰非得写成片假名，令人头大。还有影子复制的闪光灯、影子复制的东西在原东西存在时不能使用等等，完全意义不明。最离谱的当属，四手毁灭世界的理由也太清奇了吧，这真的是一个活了300多年的人干出来的事？所以这剧的结尾确实烂。</p><h1>钢之炼金术师</h1><p>老桥最喜欢的作品（貌似是？），这下终于开始看了，8月4日进度第8集，完全能看得下去，搞笑情节插入地也比较合理，不会有无厘头喜剧的感觉。</p><p>8月17日，61集。说实话，越往后剧情反而越无聊。感觉人物刻画越来越不细致，前期强无敌的人到决战都变成了渣，scar之前那么强，到最后连没有贤者之石的大总统都只能五五开；最离谱的是爱德感觉一直没有变强，基本谁都打不过！至少阿尔还能拿着贤者之石和pride打得有来有回（好吧，61集节尾爱德终于勇了一把，把pride彻底解决了）。剧情推进方面槽点也是相当多，特别是大决战给主要人物的时间也太少了吧，大把的时间花在中央军和北方军的作战上，没有看出有任何意义。主要人物也一直在耽误时间，和未完成的军队兵器打了半天，结果被马斯坦一招秒了，无法理解！</p>]]></content>
      
      
      <categories>
          
          <category> diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 杂谈 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>中华人民共和国史 目录</title>
      <link href="/posts/72ac3c01/"/>
      <url>/posts/72ac3c01/</url>
      
        <content type="html"><![CDATA[<blockquote><p>因为某种原因，中国史部分无法放出全文</p></blockquote><ul><li><p>1953-1955</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230630102038.webp" alt=""></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 历史 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 中国史 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>《苏共二十大：赫鲁晓夫时代的里程碑》摘录</title>
      <link href="/posts/cc17b615/"/>
      <url>/posts/cc17b615/</url>
      
        <content type="html"><![CDATA[<p>由于决议的作者既要把对斯大林的个人崇拜及其严重后果同苏联共产党、同苏联社会主义制度分割开来，既要批评斯大林的个人崇拜，又不能损害党、国家和社会主义制度的形象，既要指出斯大林的个人崇拜产生了极其严重的后果，又不能否定苏联在他领导下所取得的伟大成就，既说个人崇拜限制了苏联的民主，破坏了法制，又要为苏联的民主与法制制度进行辩护，因而便导致了逻辑上的一系列混乱，矛盾百出，往往不能自圆其说。</p><p>苏联著名持不同政见者瓦吉姆“弗拉基米罗维奇别洛策尔科夫斯基在《自由、权力和所有权》一书中，形象地描述了其父辈那一代人对苏联社会主义的向往。“在我父亲保存的材料中我常常看到一张小传单，是当时美国的社会主义者交给所有回俄国的人的传单。在那上面写到：‘如果你们回俄国是为了在那里促进建立美国式的民主制，那么我们祝愿你们的船只在海洋里沉没！’”而1972年作者本人不得不离开祖国时，心里想着如果朋友要写什么嘱托的话，那一定是：如果你们到国外是为了在那里促进建立苏联式的社会主义民主，那么我们祝愿你们的飞机掉到海洋<br>里去！</p><p>“我们为自己提出的历史目标越高，向未来跃进的计划定得越紧，要求进人无限幸福和无限进步的社会的心情越是迫不及待，那么·对法制的要求就越低，那么牵引着社会主义进步的驳船前进的人们的权利和生活福利就越少&quot;。为了满足追求那个整齐划一的神秘目标，许许多多人的幸福甚至生命都被用作无谓的牺牲，到头来，共产主义的幸福目标对大多数人仍是那样难以企及······</p><p>勃列日涅夫执政中后期，苏联党和政府领导体制日趋僵化，官僚主义盛行，权力高度集中，党政不分，以党代政的风气愈演愈烈。1977年勃列日涅夫打破党政职位不得一人担任的规定，以总书记的身份兼任最高苏维埃主席团主席，同时，根据新宪法增加的条款，他又成为当然的国防委员会主席，一人兼任三个职务，独揽了党、政、军大权。同时，勃列日涅夫稳定干部队伍的政策逐渐导致千部事实上的终身制，尤其是高级干部表现最为明显。</p><p>苏联模式社会主义体制的弊端在勃列日涅夫时期日渐凸显，到了70年代后期甚至可以说已经达到了危机的边缘。一方面政权不得不反复强调人民是国家主人的原则，这是政权性质的自我认定，但另一方面，一党专制、高度中央集权、群众组织国家化、严格的书报检查制度、反对任何批评党和政府行为的体制严重遏制了党内外民主，难以为人民不断高涨的民主意识提供足够的表达渠道和途径。</p><p>被抛弃的人民可以成为一个国家的未来。被建筑师丢掉的石头可以成为新世界的奠基石。而一个没有持异见和不满分子的民族，通常都是有纪律、有礼貌、安宁与和谐的，但却没有一粒可以产生出伟大的未来的种子。</p><p>如果不深人研究事实，不顾错误所造成的后果，仅仅以“功大于过&quot;、“成绩是第一位的，缺点和错误是第二位的&quot;、“九个指头与一个指头”等概念进行评论，难免曲解问题的本质。</p>]]></content>
      
      
      <categories>
          
          <category> 历史 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 苏联史 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>记忆无价——读《被掩埋的巨人》</title>
      <link href="/posts/1576d4f8/"/>
      <url>/posts/1576d4f8/</url>
      
        <content type="html"><![CDATA[<p>《被掩埋的巨人》（The Buried Giant）是我在大一（或者大二？）时和《远山淡影》一起买的，作者是石黑一雄，2017年诺贝尔文学奖获得者。看完《远山淡影》后感觉并没有很深的印象，《被掩埋的巨人》也就没有读完（本书的前半部分确实略显拖沓）。最近突然想读些历史以外的书，便选中了这本。</p><h1>句子摘抄</h1><ul><li>P158</li></ul><p>“可迷雾笼罩着所有的回忆啊，好的坏的都包括。不是吗，夫人？”<br>“我们也愿意让坏的记忆回来，哪怕会让我们哭泣，或者气得发抖。因为，那不就是我们共同度过的一生吗？”<br>“这么说，夫人，你不怕坏的回忆？”<br>“有什么可怕的呢，神父？我和埃克索现在对对方的感情，说明我们走过的路虽然被迷雾遮挡，但是一路上不会有危险。这就像一个结局幸福的故事，连孩子都知道，过去经历的曲折不必害怕。无论我们这一生是什么样子，我和埃克索会一起回忆，因为这是我们两人都很珍视的。”</p><ul><li>P164</li></ul><p>僧侣们（指修道院院长和布莱恩神父）如果不想你们碰到野兽，是不会让你们下来的。这就是他们用的方法。他们是信基督教的人，不能用剑，甚至也不能下毒。他们希望谁死，就让谁下来，过一两天，他们就会忘记做过这件事。这就是他们的做法，尤其是院长。到星期天，他甚至还会相信，是他救了你们，否则你们就被士兵抓走了。这隧道里潜伏的野兽干了什么，他就算想起来，也不会承认，甚至还会说这是上帝的意愿。</p><ul><li>P293</li></ul><blockquote><p>高文与维斯坦的对话</p></blockquote><p>“···想想吧，先生，一旦这呼吸（指魁瑞格）停止，这片土地上沉睡多年的东西将被唤醒！是啊，我们屠杀了很多人，这我承认，也不去管什么强者弱者。上帝也许不会冲我们微笑，但我们让这片土地免于战争。离开这儿吧，先生，我求你了。我们信奉的神也许不一样，但你的神肯定也和我的一样，会保佑这条龙吧”<br>“希望过错被人遗忘，犯错者逍遥法外，这是什么样的神呢，先生？”<br>“你问得好，维斯坦阁下，我知道我的神为我们那天的行为感到不安。但事情过去很久了，死者安息于地下，地上早已覆盖着怡人的绿草。年轻一代对他们一无所知。我求你离开这个地方，让魁瑞格的作用再发挥一段时间。她还能活一两个季节吧，最多了。可是，那么长时间也许就足以让旧伤口永远愈合，让永久的和平降临在我们中间。你看她多么希望活下去，生！发发慈悲，离开这个地方吧。让这个国家在遗忘中平复。”<br>“愚蠢啊，先生。蛆虫越活越肥，旧伤口怎么可能愈合？和平建立在屠杀与魔法师的骗术之上，怎么能够持久？我明白这是你虔诚的渴望，渴望你那些恐怖的往事像尘土一样消于无形。但是，它们却在泥土中蛰伏，像死者的白骨一样，等着人们发掘。高文爵士，我的答复没有更改。我必须到下面的坑里去。”</p><ul><li>P304</li></ul><blockquote><p>维斯坦杀掉魁瑞格后的迷惘，以及埃克索的醒悟</p></blockquote><p>“等着我的是公平与复仇，夫人。两者都耽误很久了，所以很快就会到来。可是，现在时候快到了，我发现自己心里却颤抖起来，象个姑娘一样。这只能是因为我在你们当中待得太久了。”<br>“我和你（指比特丽丝）希望魁瑞格死掉，我们只想着自己宝贵的记忆。可是，多少古老的仇恨将在这块土地上复活，谁又知道呢？我们只好希望上帝能找到办法，维系两族之间的纽带，可习俗与猜忌一只让我们难以团结。如果对土地和征服的新欲望，被巧舌之辈嫁接到古老的怨恨之上，谁知道会带来什么灾祸呢？”</p><ul><li>P327</li></ul><blockquote><p>最后埃克索对妻子比特丽丝说的话</p></blockquote><p>如果迷雾没有夺走我们的记忆，这么多年来，我们的爱是不是不会如此牢固？也许有了迷雾，旧伤才得以愈合。</p><h1>感悟</h1><p>《被掩埋的巨人》这部作品整体剧情的顺序性强，叙事直白，不会像某些书一样需要经常回顾前面的内容（当然本书也存在部分倒叙描述）。而且高文和维斯坦的任务、埃克索和比特丽丝的过去等虽然是最后才揭晓，但是在前面的叙述中已经能够推测出来，结局不会很仓促。不过，本书最大的亮点还是借助后亚瑟王时代的背景思考我们该如何对待不幸的过去。我是一个真求真相的人，我希望能够真实地了解过去在这片土地上发生了什么，就像是本书第一部分埃克索和比特丽丝做的那样，他们对“甜蜜的”回忆是如此地渴望，以至于即使是悲伤的事也可以全部接受。但是，当魁瑞格被杀死，二人回忆起来的却全部是争吵与悲伤，“无知”的快乐就已经无法挽回了。智慧的痛苦，大概就是如此？</p><p>本书在描述埃克索和比特丽丝个人感情的同时，还从国家和社会的角度向每一位读者提出了难以抉择的问题：忘记过去，还是铭记历史。一个理智的分析可能是，铭记历史，遗忘仇恨。但是，在对于集体而言，仇恨与友善，真的可以选择性地保留吗。我们从历史可以看到，苏联企图用阶级感情粉饰民族矛盾，但仇恨的种子依然存在，并吞噬了所有曾经兄弟相待的民族。我强烈谴责为了保住自身权力而“善意”掩盖事实的政治阶级，但是当这种行为已经成为既定事实，将真相全盘托出真的是件好事情吗？即使我可以尽量客观地看待过去，但其他人呢？无止境的仇恨又会开始蔓延。</p><p>本书并未给出答案，也很难找到令所有人都满意的答案。故事中，主角5人的想法各有不同，比特丽丝始终追求过去的回忆；埃克索在逐渐意识到不和的回忆可能会造成无法挽回的后果时开始与比特丽丝的相法相背离，而故事刚开始他们是多么的亲热与一致！高文是坚定的历史保卫者，希望以往可以抚慰仇恨；维斯坦曾经是坚定的复仇主义者，但是杀死巨龙后却开始对自己的行为衍生出怀疑的态度，他可能和埃克索一样认识到，拼命地抓住过去的结果可能并不会带来自己想要的结果；少年埃德温的态度并不像其他四人那么清楚，反而更像是无知群众的代表，容易被蛊惑，被维斯坦反复灌输复仇的思想。但也有表现出人性善良的一面，例如杀死巨龙后埃德温又一次回忆起了杀死所有不列颠人的复仇任务，但是当看到埃克索夫妻二人时，他又理所当然地认为维斯坦肯定不会要他杀死这两位善良的不列颠人。在历史悲剧中，他们是残忍的施暴者，但同时也是邪恶阴谋下的受害者。</p><h1>题外话</h1><p>最近开始重温刀剑神域，第一季13集kirito第一次表示不愿回到现实，而asuna仍然坚持，我猛然间想到了埃克索和比特丽丝两人的感情也是如此。</p>]]></content>
      
      
      <categories>
          
          <category> diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 阅读 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>listening</title>
      <link href="/posts/3b4c629f/"/>
      <url>/posts/3b4c629f/</url>
      
        <content type="html"><![CDATA[<p>don’t sweat it = stop worry about sth</p><p>pray for sth/sb</p><p>take advantage of 占便宜</p><p>pass out = become unconscious晕倒</p><p>prescribe (sb) sth for sth</p><p>bored with/of sb/sth</p><p>be furious at sth / with sb</p><p>stop nagging 别唠叨了</p><p>god bless you 感激或者祝福（bless在这里和类似语境下使用原形）</p><p>hang on (a second)  等一下（口语，中性或略带贬义）</p><p>it’s none of your business不关你的事</p><p>enough is enough够了，适可而止吧</p><p>on purpose = deliberately = intentionally 故意</p><p>pride yourself on sth引以为豪</p><p>throw up = vomit</p><p>a piece of cake   轻而易举的事</p><blockquote><p>it will be a piece a cake for me</p></blockquote><p>butter sb up ~ flatter sb   拍马屁，以甜言蜜语巴结某人(也可以中性的说法)</p><p>beat around the bush说话拐弯抹角</p><blockquote><p>stop beating around the bush and tell me what you what</p></blockquote><p>take your time不着急，慢慢来</p><p>I need to use the washroom</p><p>Don’t take me wrong   不要误解我（我不是这个意思）</p><p>pick up ~ answer the phone</p><p>on cloud nine ~ extremely happy ~ over the moon</p><p>hit the sack ~ go to bed</p><p>give sb  a sack ~ sack sb ~ fire sb</p><p>I am all ears我洗耳恭听（全神贯注地听）</p><p>brush sb off ~ rudely ignore sb无视某人</p><p>hold your horses且慢，不要着急</p><h2 id="at-the-airport">at the airport</h2><p>aisle seat</p><p>window seat</p><p>passengers for shanghai should <strong>proceed to</strong> gate 23 for boarding</p><p>a carry-on bag一个随身携带的包</p><h2 id="describe-a-person">describe a person</h2><h3 id="appearance">appearance</h3><p>going bald谢顶</p><p>curly, dark blonde hair</p><p>very beautiful, with striking features长相出众</p><h3 id="personality">personality</h3><table><thead><tr><th style="text-align:center">positive</th><th style="text-align:center">negative</th></tr></thead><tbody><tr><td style="text-align:center">honest</td><td style="text-align:center">dishonest, insincere</td></tr><tr><td style="text-align:center">kind, considerate</td><td style="text-align:center">inconsiderate, unkind</td></tr><tr><td style="text-align:center">cheerful</td><td style="text-align:center">moody, grumpy, irritable</td></tr><tr><td style="text-align:center">selfless</td><td style="text-align:center">selfish</td></tr><tr><td style="text-align:center">reliable</td><td style="text-align:center">unreliable</td></tr><tr><td style="text-align:center">funny, hilarious</td><td style="text-align:center">humorless, dull</td></tr></tbody></table><h3 id="relationship">relationship</h3><p><strong>get on (with sb)</strong>: have a friendly relationship with sb</p><blockquote><p>we get on well most of the time, although we argue sometimes too.</p></blockquote><p><strong>make (it) up with sb</strong>与某人言归于好、和好</p><p>cosmetic化妆品；整容的</p><p>fall asleep入睡</p><p>large bills大额纸币</p><p>check-out time 退房时间</p><p>light meal轻食便餐</p><p>my essay is due next Friday我的论文下周五必须交</p><p>please wait to be seated请等待就做</p><blockquote><p>seat sb（使）就座</p></blockquote><p>how do i get downtown我怎么去市区</p><blockquote><p>downtownadj/adv（去）市中心</p></blockquote><p>check out of room 退房</p><h3 id="cooking">cooking</h3><table><thead><tr><th style="text-align:center">English</th><th style="text-align:center">中文</th></tr></thead><tbody><tr><td style="text-align:center">steam</td><td style="text-align:center">蒸</td></tr><tr><td style="text-align:center">poach</td><td style="text-align:center">水煮</td></tr><tr><td style="text-align:center">fry</td><td style="text-align:center">炒</td></tr><tr><td style="text-align:center">roast</td><td style="text-align:center">烤</td></tr><tr><td style="text-align:center">simmer</td><td style="text-align:center">炖</td></tr></tbody></table><p><strong>words can’t express my gratitude</strong></p><p>pick up the phone接电话</p><p><strong>throw a party</strong>=give a party举办party</p><p>change planes转机</p><p>turn off the flash关掉闪光灯</p><p>retain moisture保持水分</p><p>i’ll be charging it to my credit card我要刷卡</p><p>blush with same羞愧的脸红</p><p>come up 发生</p><p>take off shoes</p><p>take a selfie自拍</p><p>get in / get out a car</p><p>get on / get off train / plain / ship</p><p>pick up sb开车接某人</p><p>run errands跑腿</p><p>have a takeaway点外卖（英式）takeout（美式）</p><h1>money</h1><p><strong>a ten-dollar bill</strong>十元的钞票</p><p><strong>currency</strong>货币（国家）<em>这是美式说法，英国可能用notes</em></p><p>$16.35sixteen dollars and thirty five cents</p><p>debit card借记卡</p><p>punch in将（密码）输入电子设备</p><p>mortgage ~ house loan</p><p>take out / get a mortgage得到按揭贷款</p><p>apply for a mortgage申请按揭贷款</p><h1>travel and road</h1><p>go on a trip</p><p>itinerary行程</p><p>pick sb up接···乘坐交通工具（私家车或者是公共汽车都可以）</p><blockquote><p>The bus picks up passengers outside the airport</p></blockquote><p>baggage claim机场里拿行李的地方</p><blockquote><p>口语的话，只有在这个短语中才会使用baggage，其他都用bag、luggage或者suitcase</p></blockquote><p>go sightseeing观光浏览</p><p>land and take off飞机的起飞与降落</p><p>departures area &amp; arrivals area出发层/到达层</p><p>first class / business class / economy class</p><p>aisle seat / window seat</p><p>overhead compartment头顶的行李架</p><p>inflight meal / airplane food飞行餐</p><p>off ramp and on ramp分离匝道和汇入匝道</p><p>bike lane自行车道</p><p>curb马路牙子</p><h1>driving</h1><p>stuck in traffic 夹塞、堵在路上</p><p>bumper保险杠</p><blockquote><p>the cars were <strong>bumper to bumper</strong> on the road to the coast车辆一辆紧接一辆把通往海岸的马路挤得水泄不通</p></blockquote><p>road rage路怒症</p><p>run over开车压过去什么东西</p><p>pop can / can易拉罐</p><p>speedvi超速行驶</p><p>crosswalk (BrE)  =pedestrian crossing (NAmE)斑马线人行横道</p><h1>Canada</h1><p>national anthem国歌</p><p>Don’t quote me on this / it不要说这是我说的（spoken English）</p><p>but i think canada is one of the biggest producers of maple syrup if not the biggest producer of maple syrup</p><p>highly recommend 强烈推荐</p><h1>math</h1><p>arithmeticnoun算术</p><ol><li><p>plus / add</p><blockquote><p>1 <strong>plus</strong> 2 equals 3  &amp;  add 1 and 2 and get 3</p><p>3 is <strong>sum</strong></p></blockquote></li><li><p>subtract / minus</p><blockquote><p>2 <strong>minus</strong> 1 equals 1  &amp;  1 <strong>subtracted from</strong> 2 is 1</p><p>the second 1 is <strong>difference</strong></p></blockquote></li><li><p>multiply / times</p><blockquote><p>2 times 3 equals 6  &amp; multiply 2 by 3 and get 6</p><p>6 is product</p></blockquote></li><li><p>divide / division</p><blockquote><p>6 divides 2 equals 3</p><p>3 is quotient</p></blockquote></li></ol><p>decimal</p><p>fraction</p><p>ratio of A to B A对B的比率</p><p>exponent指数</p><blockquote><p><strong>4 to the power of 2</strong>4的平方</p><p>square of 44的平方</p></blockquote><h1>shopping</h1><p>cart手推车</p><p>at the grocery store在超市</p><p><strong>go grocery shopping</strong> 去买菜</p><p><strong>go shopping</strong>买衣服（购物）</p><p><strong>frozen food</strong>冷冻食品</p><p>aisle / area / section分区</p><p>put the groceries away将买的东西放起来</p><blockquote><p><strong>put away</strong>将…收起；把…放回原处</p></blockquote><p>open 24 hours a day24小时开放</p><p>convenience store便利店</p><p>second-hand store二手店</p><p>hair salon理发店（沙龙）</p><h2 id="grocery-store里的一些分区">grocery store里的一些分区</h2><p><em><strong>produce section</strong></em>水果蔬菜区（produce作为noun有农产品的意思）</p><p><em><strong>deli section</strong></em> 熟食区（肉之类的）</p><p>bakery section</p><p>dairy section</p><p>frozen food section</p><p>关于去买菜的几种日常说法</p><blockquote><p>run to the grocery store</p><p>get groceries</p><p>do some grocery shopping</p></blockquote><h1>restaurant</h1><p>快餐店柜台的几种说法</p><blockquote><ol><li><strong>till</strong>收银台，特指点餐 (place your order or simply order) 的地方<ul><li>please pay <strong>at the till</strong></li></ul></li><li>counter     柜台，包括收银台和取餐的位置</li></ol></blockquote><p>menu board快餐店柜台后面的菜单栏</p><p><strong>combo</strong>套餐</p><blockquote><p>would you like the combo?</p></blockquote><p>how would you like to pay现金还是刷卡？</p><p>is there a good place to eat around here?这有什么好的餐厅吗？</p><p>booth卡座</p><p>cutlery餐具</p><p>napkin餐巾纸</p><p>food leftover剩菜剩饭</p><h1>food and kitchen</h1><p>overcooked</p><p>undercooked</p><p>burnt toast烤焦的面包片</p><p>crunchy ~ crispy脆的</p><blockquote><p>这两个词之间亦有区别，crunchy指巧克力的那种硬脆，crispy指薯片的那种薄脆，毕竟薯片在英国称为crisps，在加拿大/美国才叫做potato chips</p></blockquote><p>i have a sweet tooth我喜欢吃甜食</p><p>a <strong>bland</strong> diet of fish, bread and soup清淡饮食</p><p>shelf life食品保质期</p><p>best before (BB)最佳鉴赏期</p><p>expiry date有效期（食品、物品、资质等到期的那一天）</p><p>过期的几种说法：</p><blockquote><ol><li>the jar of mustard is <strong>expired</strong>这罐芥末酱过期了</li><li>it’s <strong>old</strong></li><li>it’s <strong>gone bad</strong></li><li>it’s <strong>past its expiry date</strong></li></ol></blockquote><p>fancy restaurant豪华餐厅</p><p>greasy food油腻的食物</p><p>frozen food冷藏的食物</p><p>sugar-free无糖的</p><p>oatmeal燕麦片~ cereal</p><p>spaghetti意大利面/spə’getɪ/</p><p><strong>make</strong> food 通用的做饭动词</p><p>thaw sth (out)解冻（使用microwave等）</p><p>mug马克杯</p><p><strong>serving spoon</strong>公勺</p><p><strong>hamburger patty</strong>汉堡肉</p><p>chopvt切碎</p><blockquote><p>chopped unions碎洋葱</p></blockquote><p>tap英式水龙头</p><p>faucet美式水龙头</p><p>knead the dough和面</p><blockquote><p>wash用清水或者soup等冲洗</p><p>rinse只用清水冲洗</p></blockquote><blockquote><p>fat 是带有贬义的词语，不经常使用，第三方形容人胖时，用overweight或者obese</p></blockquote><blockquote><p>gain weight=put on weight</p><p>lose weight~ go on a diet~ diet</p></blockquote><ol><li>cut sth down (to sth)&amp;cut down on sth</li></ol><blockquote><p>cut down on sugar</p></blockquote><ol start="2"><li>cut sth out (of sth)</li></ol><blockquote><p>i’ve been advised to cut sugar of my life</p></blockquote><h2 id="snacks">snacks</h2><p>have a <strong>weakness</strong> for chocolate bars</p><p>have <strong>trouble resisting eating</strong> chocolate bars</p><p>snack 也可以作为不及物动词</p><blockquote><p>It’s healthier to <strong>snack on</strong> fruit rather than chocolate*.*</p></blockquote><p>topping蛋糕、冰淇淋上的点缀物</p><p><strong>vending machine</strong>自动售货机</p><p><strong>tangerine</strong>橘子</p><p><strong>celery</strong>芹菜（美国人还是那么喜欢芹菜！）</p><h1>preposition of place</h1><blockquote><p><strong>leaves and flowers</strong> on a tree</p><p><strong>a monkey and a person</strong> in a tree</p><p><strong>a person</strong> under a tree</p></blockquote><blockquote><p>i bought those shoes in the store</p><p>i bought those shoes on the store</p><p>i bought those shoes from the store</p><ul><li>以上三句意思接近</li></ul></blockquote><blockquote><p>on the hand紧贴在手上的</p><p>above the clouds（飞机）飞在云端以上</p></blockquote><blockquote><p>on the left / right一种通用的表达形式</p><p>to the left / right一种更加精准的描述方式</p></blockquote><blockquote><p>at a party</p><p>at home</p><p>at work</p><p><strong>work from home</strong></p><p>in / at school（概括来说，比如我在上学）</p><p>in school（物理上的）</p><p>at the light在红绿灯处</p></blockquote><h1>mood</h1><p>angry</p><blockquote><p>livid</p><p>outraged</p><p>offended</p><p>fuming</p></blockquote><p>shocked / surprised</p><blockquote><p>be taken aback</p><p>stunned</p><p>astonished</p><p>astounded</p></blockquote><p>happy</p><blockquote><p>delighted</p><p>pleased</p><p>elated at/by</p><p>excited</p></blockquote><p>confused</p><blockquote><p>baffled</p></blockquote><p>bored</p><blockquote><p>exhausted</p><p>fatigued</p><p>drained</p></blockquote><p>sad</p><blockquote><p>upset</p><p>dismyed</p></blockquote><p>positive</p><blockquote><p>optimistic</p></blockquote><p>negative</p><blockquote><p>pessimistic</p></blockquote><h1>work</h1><p>get paid extra money获得额外报酬</p><p>in charge of sb管理···</p><p>shift worker轮班工人</p><p>get hired</p><p>get fired</p><p><strong>lay sb off</strong>（因工作不多而）解雇</p><p><strong>redundant</strong>被裁减的</p><blockquote><p>to be made redundant from your job成为冗员而被裁减</p></blockquote><p>what do you do for living?礼貌地询问工作</p><h1>city</h1><p>live <strong>on the outskirts</strong> of a city住在城市的边缘</p><p>live <strong>in the suburbs</strong>住在郊外</p><p>residential area</p><p>commercial area</p><p>industrial area / dark</p><p>financial district</p><p>uptown市郊住宅区的 &amp; 富人区的</p><p>midtown市中心的</p><p>mass transit公共交通</p><p>one-way street</p><h1>geology</h1><p>be drawn to sth被···吸引到···</p><p>wind</p><blockquote><p>vi2蜿蜒；曲折而行The path winds down to the beach</p></blockquote><blockquote><p>iceberg浮在海面上的冰块</p><ul><li>iceberg floats in the ocean</li><li>there is more iceberg underneath the water than there is above the water</li></ul><p>glacier陆地上的冰川</p></blockquote><p>volcano erupt</p><p>crater</p><p>lava</p><blockquote><p>dormant volcano</p><p>extinct / inactive volcano</p><p>active volcano</p></blockquote><p>i live <strong>on</strong> the river我住在河边</p><blockquote><p>creek / stream小溪</p></blockquote><p>fresh water淡水</p><h1>natural resources</h1><p>oil rig石油钻机</p><p>iron ore铁矿石</p><p>impurity杂质</p><p><strong>drill</strong></p><p><strong>extract</strong></p><p><strong>refine</strong></p><p>The world’s resources are rapidly <strong>diminishing</strong></p><p>crude oil</p><p>lumber (A) = timber (B)木材</p><p>inert gas = noble gas惰性气体</p><p>quarry采石场</p><h1>electricity</h1><p>power plant发电厂</p><p>power of the atom原子能</p><p>coal / gas - fired power plant火电厂/石油发电厂</p><p>wind turbine / windmill风力发电机</p><p>solar panel太阳能电池板</p><p>hydroelectric power水电</p><h2 id="停电">停电</h2><blockquote><ol><li>突然停电</li></ol><p>have a <strong>power outage</strong> / <strong>power failure</strong>停电</p><p>power <strong>go off</strong> / power <strong>is off</strong>停电了</p><ol start="2"><li>有计划停电</li></ol><p>the power is <strong>cut</strong> / cut power</p></blockquote><p>charger = adpater充电器/适配器</p><p>my phone is almost dead我手机快没电了</p><p>cord/ power cord电线</p><p>outlet / socket插座</p><p>flip sth (on/off)按下开关；打开···</p><blockquote><p><strong>flip / turn the light on</strong></p></blockquote><p>power bank充电宝</p><p>power bar插线板</p><p>power station / substation变电站</p><h1>college &amp; university</h1><p>apply (to sb/sth) for sth</p><blockquote><p>apply to a university<br>apply for a passport</p></blockquote><p>acceptance letter录取通知书</p><p>placement test分班考试</p><p>full ride scholarship全额奖学金</p><blockquote><p>major主修<br>minor辅修</p></blockquote><blockquote><p>freshman<br>sophomore<br>junior<br>senior</p></blockquote><p>expel开除</p><p>a <strong>degree in chemistry</strong> from university</p><h1>computer</h1><p>take to sth/sb开始喜欢</p><p>desktop computer台式机</p><p>graphics card显卡</p><p>ram内存</p><p>hard drive = hard disk硬盘</p><p>central processing unit</p><p>graphics processing unit</p><p>usb portusb接口</p><blockquote><p><strong>plug sth into/in to a usb port</strong></p></blockquote><p>earbuds</p><blockquote><p>headphone头戴式耳机</p><p>headset带麦克风的头戴式耳机</p></blockquote><p>headphone jack耳机插口</p><blockquote><p>注意这里用的jack而不是port</p></blockquote><p>usb drive / flash driveu盘</p><p>trash can / recycle bin回收站</p><p>taskbar / dock任务栏</p><p>router路由器</p><p>spam垃圾邮件</p><h2 id="verb">verb</h2><p>crash崩溃</p><p>click on / click sth点击</p><p>paste粘贴</p><p>cut剪切</p><p>scroll down (to the bottom of page)向下滚动</p><p>scroll up下上滚动</p><p>surf 和 browse 作为动词已经完全过时了！</p><p>用 <strong>be / go on the internet</strong> 就可以了</p><p>drag拖动（鼠标、图标等）</p><p>restore恢复（将垃圾桶复原）</p><p>undo redo</p><p>upgradeupdate</p><p>install</p><p>back up    v / noun备份</p><p>wipe恢复出厂设置（抹除所有信息）</p>]]></content>
      
      
      <categories>
          
          <category> 语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 英语听力 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>英语阅读</title>
      <link href="/posts/c20ae70/"/>
      <url>/posts/c20ae70/</url>
      
        <content type="html"><![CDATA[<p>at the invitation of</p><p>along with sb.</p><p>commercial-scale &amp; industrial-scale</p><p>tonne &amp; ton?</p><blockquote><p>one tonne is equivalent to 1000 kilograms, and one ton is equivalent to 2000 pounds in the US</p></blockquote><p>power plants : 发电厂</p><blockquote><p>plant there means a factory such as chemical plant or car plant</p></blockquote><p>rake in sth = make a fortune in sth</p><p>get off the ground ~ take off ~ start sth successfully</p><p>approve ~ sanction ~ authorize 批准</p><p>increase / ramp up capacity seven-fold in the next 12 years</p><p>The oilmen’s critics allege that their enthusiasm for carbon removal is mainly about improving their reputations <strong>in the eyes of increasingly climate-conscious consumers</strong>, while pumping more crude for longer. <strong>There is surely some truth to this</strong>. But <strong>given the urgent need to both capture carbon at source and achieve voluminous negative emissions</strong>, the willing involvement of giant oil firms, <strong>with their vast capital budgets and useful expertise in engineering and geology</strong>, is to be welcomed.</p><p>blow up = explode  爆炸</p><p>blow sth up炸毁</p><p>at a healthy clip 以一个健康的速度（idiom）</p><p>in principle  原则上</p><p>fix = solution</p><p>rosy ~ promising ~ hopeful   光明的、有希望的、乐观的</p><p>at heart  ~ in essence ~ essentially  本质上</p><p>live up to ~ achieve  达到、不辜负（expectation\hope）</p><p>not least ~ especially</p><p>in one piece  安然无恙</p><p>The good news is that SpaceX says it is building Super Heavies and Starships at a healthy clip; it should in principle be possible to rerun the test reasonably soon once the nature of the problem becomes clear and a fix is found.</p><p>And if that is a slightly rosy view, it is at heart a fair one.</p><p>be down to ~ be caused by  归因于</p><p>seminal   划时代的</p><p>The striking progress in artificial intelligence over the past decade is mostly down to advances in machine learning, whereby computers teach themselves complicated tasks by crunching large quantities of data, rather than having to be programmed directly by humans.</p><p><strong>be stuffed with</strong>充满</p><blockquote><p>stuff A with B把B塞入A种</p><p>eg: the vision is stuffed with innovations that eclipse every other headset on the market</p><p>sprinkle/splash A with B撒、泼</p></blockquote><p><strong>coincide</strong> <strong>&amp; coincidence</strong></p><blockquote><p>eg: my interest happily coincides with my job</p><p>eg: the population increase coincides with the rapid industrial growth</p><p>eg: coincidence of inflation and unemployment</p></blockquote><p><strong>expand one’s understanding of sth</strong>加深理解</p><p><strong>add more dimensions to sth</strong>扩宽…的广度；为…打开新的思路</p><blockquote><p>dimension: aspect 方面层面</p></blockquote><blockquote></blockquote><h1>Can India educate its vast workforce?</h1><blockquote><p>from: The Economist</p></blockquote><p>**hoover sth↔ˈup**获得大量的（某物）</p><p>make some strides in sth有了较大的进展</p><blockquote><p>India has made some strides in improving the provision of services to poor people.</p></blockquote><p>jam-packed with = crowded = full of</p><p>revolutionize完全变革</p><p>worldwideadj/advall over the world</p><h3 id="cram">cram</h3><p>cram for sth（为应考）临时死记硬背</p><blockquote><p>He’s been cramming for his exams all week</p></blockquote><p>cram sth/sb into/in sth =stuff 把…塞进；挤满</p><p><strong>be held accountable for</strong>=be responsible for</p><p>flunk (sth)不及格</p><h1>Turkish property prices are soaring</h1><p>villa别墅</p><p>strait海峡</p><p>the price of a square metre of real estate每平米价格</p><p>shoot up=soar急剧增长</p><p>year-on-year同比</p><p>month-on-month环比</p><p>displace sb迫使（某人）离开家园</p><p>on top of sth=in addition to sth除…之外</p><blockquote><p>One might be forgiven for thinking that this has the makings of a bubble waiting to burst. But even a policy U-turn, which kicked off on June 22nd, when Turkey’s central bank increased the benchmark interest rate by 6.5 percentage points, might not be enough to bring the property market down to earth.</p><p>人们可能会原谅那些认为这种情况具备泡沫破裂的迹象。但即使在政策出现逆转的情况下，例如土耳其央行在6月22日将基准利率提高了6.5个百分点，这可能仍然不足以使房地产市场回归现实。</p></blockquote><h1>AI is not yet killing jobs</h1><p>end up adj以…结束</p><p>on the scrapheap废弃的；丢弃的</p><blockquote><p>After astonishing breakthroughs in artificial intelligence, many people worry that they will end up on the economic scrapheap.</p></blockquote><p><strong>attempt at sth</strong></p><p><strong>single sb/sth out</strong>单独挑出</p><p>back office 后勤部门</p><p>as yet 直到目前为止</p><p>point to sth指向、指明</p><p>every few months每隔几个月</p><h1>A gigantic landslide shows the limit to how high mountains can grow</h1><p>hint at sth暗示</p><p>spot sth注意到</p><p>radioactive isotope放射性同位素</p><p>throw / shed / cast light on sth详细/进一步阐明</p><p>plug插头</p><p>socket插座</p><p><strong>plug the gap</strong>填补缺口</p><p>two scoops of mashed potato两勺土豆泥</p><p>trigger for / to sth / to do sth</p><p>monsoon season季风气候</p><h1>Japan offers Ukraine a lesson in reconstruction</h1><p>feast on sth尽情享用（美食）</p><p>tuck into sth狼吞虎咽</p><p>weather the storm经理困难的考验</p><p>remark on谈起、评论道</p><p>trace back to = date back to 追溯到</p><p>devastating = destructive毁灭性的</p><p>make the miracle</p><p><strong>stand out</strong></p><blockquote><p>adj突出的</p><p>n突出的人或物</p><p>vi显眼，突出</p></blockquote><p><em>she is the sort of person who stands out in a crowd</em></p><p><strong>in parallel</strong>同时</p><blockquote><p>everything have to be done in parallel</p></blockquote><p>marvel</p><blockquote><p>n奇迹wonder = miracle</p><p>vimarvel at sth ~ be surprised by sth对···赞叹不已</p></blockquote><p>mute = ponder = contemplate 沉思</p><p>deputy mayor副市长</p><p>fend sth off避开（攻击）</p><p>crisis —— crises (plural)</p><h1>is Google’s 20-year dominance of search in peril</h1><p>in peril</p><p>preferred首选的</p><p>team (sb) up with sb(与某人)合作</p><p>covetous = greedy = grasping = capacious贪婪的</p><p>show off(vt/vi) = flaunt(vt)炫耀</p><h1>Will Japan fight?</h1><p><strong>let me suggest a possible scenario</strong></p><p>accede to sth = agree to sth同意某事</p><p><strong>take on sb</strong> = <strong>fight against sb</strong> or <strong>play against sb</strong></p><p><strong>venture into sth</strong> = <strong>risk sth / doing sth</strong>冒险做某事</p><p>muck sth up搞得一团糟</p><p>pan out=develop in a particular way</p><p>their success is due <strong>in large part</strong> to determination</p><p>the heightened fees is <strong>in large part</strong> to <strong>make up for</strong> the inflation-fueled costs and declines in membership and attendance</p><h1>East Asia’s new family portrait</h1><p>break up with then-boyfriend</p><p>get married = tie the knot结婚</p><p>fertility rate生育率</p><p>set a world record for …创下世界纪录</p><p>hit / break a record</p><p>in some respects在某种程度上</p><p>predecessor前任</p><p>successor继任</p><p>push ahead / forward (with sth)毅然推行（计划）</p><p>balk (at sth)回避、畏惧（某事）</p><p>get around / round=overcome克服</p><h1>the world’s most livable cities in 2023</h1><p><strong>top the ranking</strong>位居榜首</p><blockquote><p>这里top是及物动词</p></blockquote><p><strong>fare well / badly</strong>表现得很好很成功 / 不成功</p><blockquote><p>此处fare为特定动词</p></blockquote><h1>Singapore is the world leader in selling cultivated meat</h1><p><strong>rent sth (out) (to sb)</strong>将···租给···</p><p><strong>cutting-edge technology</strong>尖端技术</p><blockquote><p>cutting edge</p><ol><li>adj.</li><li>noun     working at the cutting edge of computer technology      在计算机技术的最前沿工作</li></ol></blockquote><p><strong>maritime trading hub</strong>海上贸易中心</p><p><strong>culinary culture</strong>饮食文化</p><p>approve:</p><blockquote><p>作为批准通过（一般是政府部门），应该视为及物动词，如 The committee unanimously approved the plan</p><p>作为同意赞成，视为不及物动词，使用 approve of (sb) sth/doing sth</p></blockquote><h2 id="sentence">sentence</h2><p>it got even more diverse in December 2020 when the country became the first to grant regulatory approval for the commercial sale of the meat produced in a lab from cultivated animal cells.</p><p>America’s vast consumer market and cutting edge technology could <strong>be about to</strong> threaten Singapore’s early lead.</p><h1>Confronting the dangers of ultra-processed food</h1><p>from scratch从零开始</p><p>butcher</p><blockquote><ul><li>noun屠夫</li><li>vt      宰杀（动物）</li></ul></blockquote><p>he has <strong>a particular weakness for</strong> salty potato crisps他对薯条完全没有抵抗力</p><p><strong>select = pick out = seek out精心地挑选</strong></p><p>additive and preservative添加剂和防腐剂</p><blockquote><p><strong>artificial preservative</strong> 人工添加剂</p><p><strong>additive-free</strong> orange juice不含添加剂的橙汁</p></blockquote><h2 id="sentence-2">sentence</h2><p>people who live in what the author calls “food swamp”, ultra-processed food is everywhere but real food is harder to reach. could spend large amounts of time and money seeking out fresh food, but that is not how most people live.</p><p>additives that may be safe in isolation or small quantities may be harmful in combination with other chemicals or when consumed regularly.</p><h1>University rankings: Columbia opts out</h1><p><strong>ivy league</strong>常春藤联盟</p><p>turning-point转折点</p><p><strong>college ranking</strong>大学排名</p><p>top-notch顶级的</p><p>mass exodus大规模的退出（迁移）</p><p>fabricate data伪造数据</p><p><strong>go to great lengths to do sth</strong>竭尽全力</p><p>be convicted of fraud被判犯有诈骗罪</p><p>tie with sb与···打成平手</p><p><strong>graduate school</strong>研究生院</p><p>opt out (of sth)决定退出；选择不参与no longer take part in = drop out of</p><p><strong>pillar</strong> of undergraduate education本科教育的中流砥柱</p><p>standardized test标准化考试</p><p>alumni校友</p><p>alumni association校友会</p><h2 id="sentence-3">sentence</h2><p>it is the first <strong>top-notch institution</strong> to no longer cooperate with undergraduate rankings.</p><p>a professor of sociology at the university of ···</p><p><strong>the ranking system used to seem unstoppable. universities have tried to ditch it before, only to find that doing so can backfire badly.</strong></p><h1>How well does your country provide for its citizens?</h1><p>well off = affluent = rich = wealthy富裕的</p><p>imperative</p><blockquote><p>noun重要且紧急的事~ priority</p><p>adj重要紧急的~ vital</p></blockquote><p>metrics指标</p><p>let sb down badly让某人大失所望</p><p>over the same period 在相同的一段时期</p><h2 id="sentence-4">sentence</h2><p>more important is how prosperity translates into well-being</p><p>it ranks 170 countries on how well they have provided for their citizens, using metrics other than wealth.</p><blockquote><p>apart from, besides, other than的区别</p><p>apart from, other than都是表达将因素排除之外的全部</p><ul><li>I’ve finished apart from / other than the last question*.*除了最后一题之外都完成了</li></ul><p>besides是除了···之外还有，因此包括后面的那个因素</p></blockquote><h1>How China became a car-exporting juggernaut</h1><p><strong>fall into</strong> = can be divided into ···可以分为</p><p>fawn over 讨好、谄媚</p><p><strong>value for money</strong>(noun phrase)划算</p><p>catch up (with sb)追赶某人（物理的追赶或者在抽象层面上追赶）</p><p>emerging market新兴市场</p><p>chalk up = achieve取得</p><p>prop sth up（政府）扶持···</p><p><strong>in the first six months of the year</strong>=<strong>in the first half of the year</strong>上半年</p><h2 id="sentence-5">sentence</h2><p>Car enthusiasts tend to <strong>fall into</strong> one of two <strong>camps</strong>: those who <strong>fawn over</strong> the power and speed of German automotive engineering; and those who think Japanese cars are superior, admiring their reliability and <strong>value for money</strong>.</p><p>The industry is <strong>propped up</strong> by state subsidies</p><p>For decades German and Japan have <strong>jostled for</strong> position as the world’s <strong>leading car exporter</strong>. But the pair’s dominance is coming to an end.</p><p>Today battery-powered vehicles <strong>account for</strong> a fifth of car sales in China and a third of exports. In Japan and Germany only 4% and 20% of exports, <strong>respectively</strong>, are electric.</p><h1>Can China escape deflation?</h1><p>wrestle (with) sth / to do sth奋力解决···</p><p>struggle with sth与···斗争</p><p>经济学小知识</p><blockquote><p>stagnation（停滞）与deflation（通货紧缩）相关联，停滞导致企业利润下降和需求不足，可能引发通货紧缩。而通货紧缩则可能进一步加剧经济停滞，因为人们预期物价会继续下降，就可能推迟消费和投资。解决这种情况的方法可能包括政府采取刺激经济增长的措施，如<strong>增加公共支出和投资</strong>，<strong>引导消费</strong>，<strong>提供贷款支持</strong>等。此外，货币政策也可以通过<strong>减少利率</strong>，增加货币供应等来刺激经济活动，以避免通货紧缩的发生。</p><p>stagflation（滞涨）和inflation（通货膨胀）相关联，<strong>滞涨通常指高通货膨胀</strong>。当经济中的货币供应过多，而商品和服务的供应量无法跟上时，通货膨胀就会加剧，物价上涨速度加快，导致滞涨。这种情况下，人们需要花费更多的钱购买同样的商品和服务，生活成本会增加，购买力下降。高通货膨胀会对经济和人们的生活带来不利影响。政府可以通过调控货币供应量，<strong>加强监管措施，控制物价上涨</strong>。此外，政府还可以鼓励生产技术进步，提高生产效率，增加供应量，以稳定物价。</p></blockquote><p><strong>property developer</strong>房地产开发商</p><p><strong>slump = tumble</strong> 暴跌（vi）</p><p><strong>strip sth out</strong>将···剔除掉</p><p><strong>saddle sb/yourself with sth</strong> [<em>often passive</em>]=burden sb/yourself with sth使某人（或自己）肩负重担</p><p><strong>be at odds with sb on/over sth</strong>=disagree with sb about sth就某事与某人有分歧</p><p><strong>fall for sth</strong>对···信以为真</p><p><strong>loath (loth) to do</strong> = unwilling to do</p><p><strong>trade sth in (for sth)</strong>以旧换新</p><h2 id="sentence-6">sentence</h2><p>some economists argue that firms and households will not borrow because they are already <strong>saddled with</strong> debt and fear for china’s economic future.</p><p>some of china’s officials also seem to have fallen for the fallacy that you have to reflate a type through the puncture hole</p><p>consumers have <strong>zeroed in on</strong> such things as extending amusement parks’ hours and making it easier to trade in old appliances.</p><h1>Business(<a href="https://www.economist.com/the-world-this-week/">The world this week</a>)</h1><p>flagging日益减少的；日益衰退的</p><p>fall short of sth未达到；不符合<em>to fail to reach the standard that you expected or need</em></p><h2 id="sentence-7">sentence</h2><p>industry production and retail sales during July both <strong>fell short of</strong> predictions. nationwide unemployment increased to 5.3% and authorities suspended reporting of <strong>figures on youth unemployment</strong> which <strong>stood at</strong> 21.3% in June.</p><p>The firm expects to <strong>post a loss</strong> of <strong>up to</strong> 55bn yuan ($7.5bn) for the first half of 2023</p><h1>lessons from the blaze that leveled Lahaina</h1><p>blaze大火</p><p>levelvt将···夷为平地</p><p><strong>flock to</strong> somewhere (do sth)蜂拥至···</p><p>tourist destination旅游胜地</p><p>line sth (with sth)沿…形成行（或列、排）</p><blockquote><p>Crowds of people lined the streets to watch the race.人群站在街道两旁观看比赛。</p><p>The walls were lined with books*.*靠墙是一排排的图书。</p></blockquote><p>as of截止到···</p><p>ignitevt/vi点燃/燃烧</p><p>testimony / testament to sth是···的证明</p><p>utility pole电线杆</p><p>file a lawsuit发起诉讼</p><p>be negligent in sth / doing sth疏于···</p><h1>Japan’s porn industry comes out of the shadows</h1><p><strong>beset</strong> vt困扰</p><blockquote><p>besetbesetbeset</p></blockquote><p><strong>churn sth out</strong>大量且快速地生产（粗制滥造）</p><h2 id="强迫">强迫</h2><blockquote><p>forceforce sb into sth/into doing sth / to do sth</p><p><strong>coerce</strong><em>force by using threats</em>coerce sb into sth/into doing sth / to do sth</p><p><strong>oblige</strong><em>force by law or duty</em>oblige sb to do sth</p></blockquote><p><strong>accost sb</strong>搭讪</p><p>on the streets在街上</p><p>supposed所谓的；误以为是真的</p><p>spark a fierce backlash引发强烈的抗议</p><p>on the grounds that以···为依据（因为）</p><h1>This narrow, rocky path is the last open route between Russia and Ukraine</h1><p>a trickle of三三两两的···</p><p><strong>pull back from</strong>从···撤军</p><p><strong>band together (to do sth)</strong>携手···</p><p>or so=about</p><blockquote><p>30 or so=about 30</p></blockquote><p>parade sb / sth展示···（游街示众）</p><p>learn of sth获悉，了解···</p><p>raid突然袭击</p><p>treknoun/vi长途跋涉</p><p><strong>receive a wound to stomach</strong>胃部受伤（特指武器造成的伤害）</p><p>pent-up积在内心的（感情）</p><blockquote><p>pent-up emotion</p><p>pent-up frustration内心的忧郁</p></blockquote><h1>China’s shadow-banking industry threatens its financial system</h1><p>at a 30% discount</p><p>snap sth up将···抢购一空</p><p>be ensnared陷入困境</p><p>pay out 230bn偿还巨款</p><p>ring off挂断电话</p><p>ring off the hook电话接连不断</p><p>ramp sth up使···增加</p><p>in the short / long term在长期内/在短期内</p><p>reck with sb/sth重视/认真处理</p><p>task force特别工作组</p><h1>Japan is preparing for a massive earthquake</h1><p><strong>If this were not hell, where would hell be?</strong></p><p>survival is a matter not of luck but of preparation.</p><h1>Meet Ernie, China’s answer to ChatGPT</h1><p>The Biden administration’s restrictions on the sale of advanced chips to China are causing a world of pain.</p><p>Core socialist values    社会主义核心价值观</p><p>Be released to the public    向公众开放</p><p>Delivery platform      外卖平台</p>]]></content>
      
      
      <categories>
          
          <category> 语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 英语阅读 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>B-V方程</title>
      <link href="/posts/61481/"/>
      <url>/posts/61481/</url>
      
        <content type="html"><![CDATA[<blockquote><p>鸽了两个月，终于准备开始写了······</p></blockquote><h1>Butler-Volmer方程</h1><p><em>基本公式见1-1</em></p><p>电化学反应速率、电流和电极表面浓度的关系可以通过1-1构建。尽管我们有恒电流仪可以通过电流控制反应，但在大多数情况下都是使用电势控制反应的。那么反应速率与电势有什么关系？或者说，电势与电流有什么关系？这就是Butler-Volmer方程能够解决的问题。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi mathvariant="normal">v</mi><mo>=</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mfrac><mi>i</mi><mrow><mi>n</mi><mi>F</mi><mi>A</mi></mrow></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi mathvariant="normal">v</mi><mi mathvariant="normal">c</mi></msub><mo>=</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>k</mi><mi>f</mi></msub><mo>×</mo><msub><mi>C</mi><mi>O</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi mathvariant="normal">v</mi><mi mathvariant="normal">a</mi></msub><mo>=</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>k</mi><mi>b</mi></msub><mo>×</mo><msub><mi>C</mi><mi>R</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi mathvariant="normal">i</mi><mo>=</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msub><mi>v</mi><mi>c</mi></msub><mo>−</mo><msub><mi>v</mi><mi>a</mi></msub></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align}\rm v =&amp; \frac{i}{nFA}\notag  \newline\rm v_c =&amp; k_f \times C_O(0,t) \notag \newline\tag{1-1}\rm v_a =&amp; k_b \times C_R(0,t)  \newline\rm i =&amp; v_c - v_a \notag\end{align}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6.8225em;vertical-align:-3.1613em;"></span><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6613em;"><span style="top:-5.6613em;"><span class="pstrut" style="height:3.3365em;"></span><span class="mord"><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">v</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span></span></span></span><span style="top:-3.8353em;"><span class="pstrut" style="height:3.3365em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0139em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span></span></span></span><span style="top:-2.3353em;"><span class="pstrut" style="height:3.3365em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0139em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span></span></span></span><span style="top:-0.8353em;"><span class="pstrut" style="height:3.3365em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1613em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6613em;"><span style="top:-5.6613em;"><span class="pstrut" style="height:3.3365em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3365em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord mathnormal">A</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.8353em;"><span class="pstrut" style="height:3.3365em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">O</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span><span style="top:-2.3353em;"><span class="pstrut" style="height:3.3365em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span><span style="top:-0.8353em;"><span class="pstrut" style="height:3.3365em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1613em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.6613em;"><span style="top:-5.6613em;"><span class="pstrut" style="height:3.3365em;"></span><span></span></span><span style="top:-3.8353em;"><span class="pstrut" style="height:3.3365em;"></span><span></span></span><span style="top:-2.3353em;"><span class="pstrut" style="height:3.3365em;"></span><span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1-1</span></span><span class="mord">)</span></span></span></span><span style="top:-0.8353em;"><span class="pstrut" style="height:3.3365em;"></span><span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.1613em;"><span></span></span></span></span></span></span></span></span></p><blockquote><p>c和a分别代表cathode和anode，f和b分别为forward和backward；0和t分别代表电极表面和时间</p></blockquote><p>B-V方程基于动力学中的过渡态理论，首先假设有一个单电子反应1-2，反应坐标在过渡态附近的自由能曲线如下图。初始时刻在平衡状态，反应物（左上）和产物（右）的标准自由能相等。反应物包括O和电子，因此当电极电势改变时，反应物的标准自由能将发生变化。而产物中只有中性物质R，因此标准自由能不受影响。假设电极电势变正，导致电极内部电子能量降低，反应物标准自由能随之降低（如下图中红色箭头所示）。定性来看，反应会朝向1-2中的逆反应方向发生。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi mathvariant="normal">O</mi><mo>+</mo><mi>e</mi><mi><munder><mo><mo><mover><mo><mo>⇌</mo></mo><msub><mi>k</mi><mi mathvariant="normal">f</mi></msub></mover></mo></mo><msub><mi>k</mi><mi mathvariant="normal">b</mi></msub></munder></mi><mi mathvariant="normal">R</mi></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1-2)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\mathrm{O}+ e \underset{k_{\mathrm{b}}}{\stackrel{k_{\mathrm{f}}}{\rightleftharpoons}} \mathrm{R} \tag{1-2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathrm">O</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.3429em;vertical-align:-0.949em;"></span><span class="mord mathnormal">e</span><span class="mord"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.394em;"><span style="top:-2.6509em;margin-left:0em;"><span class="pstrut" style="height:3.394em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:-0.0315em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight">b</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3.394em;"></span><span><span class="mop"><span class="mrel"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.394em;"><span style="top:-2.92em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">⇌</span></span></span><span style="top:-3.8079em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3488em;margin-left:-0.0315em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight" style="margin-right:0.07778em;">f</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1512em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.091em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.949em;"><span></span></span></span></span></span></span><span class="mord mathrm">R</span></span><span class="tag"><span class="strut" style="height:2.3429em;vertical-align:-0.949em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1-2</span></span><span class="mord">)</span></span></span></span></span></span></p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230521152457.webp" style="zoom:67%;" /><center>图1-1  反应物和产物的标准自由能曲线随电势的变化关系</center><p>定量来看，假设初始平衡时刻电势为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup></mrow><annotation encoding="application/x-tex">\rm E^{0&#x27;}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9425em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9425em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> ，正逆反应的活化自由能为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi mathvariant="normal">G</mi><mrow><mn>0</mn><mi mathvariant="normal">c</mi></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">≠</mo></msubsup><mo>=</mo><mi mathvariant="normal">Δ</mi><msubsup><mi mathvariant="normal">G</mi><mrow><mn>0</mn><mi mathvariant="normal">a</mi></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">≠</mo></msubsup></mrow><annotation encoding="application/x-tex">\rm \Delta G_{0c}^{\ne}=\Delta G_{0a}^{\ne}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2333em;vertical-align:-0.2663em;"></span><span class="mord"><span class="mord mathrm">Δ</span><span class="mord"><span class="mord mathrm">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">0c</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight"><span class="mrel mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord mtight"><span class="mrel mtight"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel mtight">=</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">Δ</span><span class="mord"><span class="mord mathrm">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">0a</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight"><span class="mrel mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord mtight"><span class="mrel mtight"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel mtight">=</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span></span></span></span></span> 。电势向正方向变化到E时，反应物的标准自由能增大 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">F</mi><mo stretchy="false">(</mo><mi mathvariant="normal">E</mi><mo>−</mo><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\rm F(E-E^{0&#x27;})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1925em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathrm">F</span><span class="mopen">(</span><span class="mord mathrm">E</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathrm">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9425em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span> ，现在的重点是如何获得此时的正逆反应的活化能 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi mathvariant="normal">G</mi><mi mathvariant="normal">c</mi><mo mathvariant="normal" lspace="0em" rspace="0em">≠</mo></msubsup></mrow><annotation encoding="application/x-tex">\rm \Delta G_{c}^{\ne}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0961em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathrm">Δ</span><span class="mord"><span class="mord mathrm">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight"><span class="mrel mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord mtight"><span class="mrel mtight"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel mtight">=</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi mathvariant="normal">G</mi><mi mathvariant="normal">a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">≠</mo></msubsup></mrow><annotation encoding="application/x-tex">\rm \Delta G_{a}^{\ne}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0961em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathrm">Δ</span><span class="mord"><span class="mord mathrm">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">a</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight"><span class="mrel mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord mtight"><span class="mrel mtight"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel mtight">=</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span>。将上图中的过渡态附近局部放大后，得到下图。仔细对比活化能的前后变化可以得到1-3和1-4。其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span> 是B-V方程的重要参数，名称为（电荷）转移系数transfer coefficient。从推导过程不难看出 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span> 的取值范围为0~1，直观上来看反映了体系在过渡态附近的自由能对称程度，因此又被称为对称因子。一般而言 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span> 位于0.3~0.7之间，默认取0.5。B-V方程并未给出<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span> 的计算方法，而只能将其认为是一个反应特有的常数。然而后续实验和理论已经证明，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span> 是电势的函数，但是在大多数情况下，大电势下会导致反应受到物质传递的限制，因此实验可用的电势范围很窄，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span> 可以认为近似不变。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi mathvariant="normal">G</mi><mi mathvariant="normal">c</mi><mo mathvariant="normal" lspace="0em" rspace="0em">≠</mo></msubsup><mo>=</mo><mi mathvariant="normal">Δ</mi><msubsup><mi mathvariant="normal">G</mi><mrow><mn>0</mn><mi mathvariant="normal">c</mi></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">≠</mo></msubsup><mo>+</mo><mi>α</mi><mi mathvariant="normal">F</mi><mo stretchy="false">(</mo><mi mathvariant="normal">E</mi><mo>−</mo><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1-3)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm \Delta G_{c}^{\ne} =  \Delta G_{0c}^{\ne}+\alpha F(E-E^{0&#x27;}) \tag{1-3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2588em;vertical-align:-0.2663em;"></span><span class="mord"><span class="mord mathrm">Δ</span><span class="mord"><span class="mord mathrm">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">c</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight"><span class="mrel mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord mtight"><span class="mrel mtight"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel mtight">=</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">Δ</span><span class="mord"><span class="mord mathrm">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">0c</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight"><span class="mrel mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord mtight"><span class="mrel mtight"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel mtight">=</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord mathrm">F</span><span class="mopen">(</span><span class="mord mathrm">E</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathrm">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9925em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span class="tag"><span class="strut" style="height:1.2588em;vertical-align:-0.2663em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1-3</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi mathvariant="normal">G</mi><mi mathvariant="normal">a</mi><mo mathvariant="normal" lspace="0em" rspace="0em">≠</mo></msubsup><mo>=</mo><mi mathvariant="normal">Δ</mi><msubsup><mi mathvariant="normal">G</mi><mrow><mn>0</mn><mi mathvariant="normal">a</mi></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">≠</mo></msubsup><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><mi mathvariant="normal">F</mi><mo stretchy="false">(</mo><mi mathvariant="normal">E</mi><mo>−</mo><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1-4)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm \Delta G_{a}^{\ne} =  \Delta G_{0a}^{\ne}-(1-\alpha) F(E-E^{0&#x27;}) \tag{1-4}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2588em;vertical-align:-0.2663em;"></span><span class="mord"><span class="mord mathrm">Δ</span><span class="mord"><span class="mord mathrm">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">a</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight"><span class="mrel mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord mtight"><span class="mrel mtight"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel mtight">=</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">Δ</span><span class="mord"><span class="mord mathrm">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">0a</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight"><span class="mrel mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord mtight"><span class="mrel mtight"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel mtight">=</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord mathrm">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord mathrm">F</span><span class="mopen">(</span><span class="mord mathrm">E</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathrm">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9925em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span class="tag"><span class="strut" style="height:1.2588em;vertical-align:-0.2663em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1-4</span></span><span class="mord">)</span></span></span></span></span></span></p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230521154154.webp" style="zoom:60%;" /><center>图1-2  过渡态附近的局部放大图</center><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230521161308.webp" style="zoom:40%;" /><center>图1-3  传递系数a的取值与自由能曲线的关系 </center><p>如果 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>&lt;</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\alpha&lt;\frac{1}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> ，想象反应物的自由能曲线接近于一条直线，则在电势变化前后正反应的活化能趋近于不变，而自由能的变化几乎全部体现在逆反应的活化能变化上，如果 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi><mo>&gt;</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\alpha&gt;\frac{1}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> ，则自由能变化全部体现在正反应上</p><blockquote><p>我这里对过渡态附近自由能的变化<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false">(</mo><mi>E</mi><mo>−</mo><msup><mi>E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">F(E-E^{0&#x27;})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1925em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9425em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 有疑惑：越靠近过渡态，电子应该处于电极和反应物中的某一位置，势必会跨过界面处。那这里的自由能变化值不会发生变化吗？</p></blockquote><p>将1-3和1-4应用于过渡态理论，得到1-5和1-6。其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">f</mi><mo>=</mo><mfrac><mi mathvariant="normal">F</mi><mrow><mi mathvariant="normal">R</mi><mi mathvariant="normal">T</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\rm f = \frac{F}{RT}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord mathrm" style="margin-right:0.07778em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">RT</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">F</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mi mathvariant="normal">k</mi><mi mathvariant="normal">f</mi></msub><mo>=</mo><msub><mi mathvariant="normal">A</mi><mi mathvariant="normal">f</mi></msub><mtext> </mtext><mi mathvariant="normal">e</mi><mi mathvariant="normal">x</mi><mi mathvariant="normal">p</mi><mo stretchy="false">(</mo><mo>−</mo><mfrac><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi mathvariant="normal">G</mi><mrow><mn>0</mn><mi mathvariant="normal">c</mi></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">≠</mo></msubsup></mrow><mrow><mi mathvariant="normal">R</mi><mi mathvariant="normal">T</mi></mrow></mfrac><mo stretchy="false">)</mo><mtext> </mtext><mi mathvariant="normal">e</mi><mi mathvariant="normal">x</mi><mi mathvariant="normal">p</mi><mo stretchy="false">[</mo><mo>−</mo><mi>α</mi><mi mathvariant="normal">f</mi><mo stretchy="false">(</mo><mi mathvariant="normal">E</mi><mo>−</mo><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1-5)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm k_f = A_f\,exp(-\frac{\Delta G_{0c}^{\ne}}{RT})\,exp[-\alpha f(E-E^{0&#x27;})]\tag{1-5}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.33em;vertical-align:-0.686em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight" style="margin-right:0.07778em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight" style="margin-right:0.07778em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathrm">exp</span><span class="mopen">(</span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.644em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">RT</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">Δ</span><span class="mord"><span class="mord mathrm">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">0c</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight"><span class="mrel mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord mtight"><span class="mrel mtight"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel mtight">=</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathrm">exp</span><span class="mopen">[</span><span class="mord">−</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord mathrm" style="margin-right:0.07778em;">f</span><span class="mopen">(</span><span class="mord mathrm">E</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathrm">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9925em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose">)]</span></span></span><span class="tag"><span class="strut" style="height:2.33em;vertical-align:-0.686em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1-5</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mi mathvariant="normal">k</mi><mi mathvariant="normal">b</mi></msub><mo>=</mo><msub><mi mathvariant="normal">A</mi><mi mathvariant="normal">b</mi></msub><mtext> </mtext><mi mathvariant="normal">e</mi><mi mathvariant="normal">x</mi><mi mathvariant="normal">p</mi><mo stretchy="false">(</mo><mo>−</mo><mfrac><mrow><mi mathvariant="normal">Δ</mi><msubsup><mi mathvariant="normal">G</mi><mrow><mn>0</mn><mi mathvariant="normal">a</mi></mrow><mo mathvariant="normal" lspace="0em" rspace="0em">≠</mo></msubsup></mrow><mrow><mi mathvariant="normal">R</mi><mi mathvariant="normal">T</mi></mrow></mfrac><mo stretchy="false">)</mo><mtext> </mtext><mi mathvariant="normal">e</mi><mi mathvariant="normal">x</mi><mi mathvariant="normal">p</mi><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><mi mathvariant="normal">f</mi><mo stretchy="false">(</mo><mi mathvariant="normal">E</mi><mo>−</mo><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1-6)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm k_b = A_b\,exp(-\frac{\Delta G_{0a}^{\ne}}{RT})\,exp[(1-\alpha) f(E-E^{0&#x27;})]\tag{1-6}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.33em;vertical-align:-0.686em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathrm">exp</span><span class="mopen">(</span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.644em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">RT</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">Δ</span><span class="mord"><span class="mord mathrm">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.967em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">0a</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mrel mtight"><span class="mrel mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord mtight"><span class="mrel mtight"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel mtight">=</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathrm">exp</span><span class="mopen">[(</span><span class="mord mathrm">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord mathrm" style="margin-right:0.07778em;">f</span><span class="mopen">(</span><span class="mord mathrm">E</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathrm">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9925em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose">)]</span></span></span><span class="tag"><span class="strut" style="height:2.33em;vertical-align:-0.686em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1-6</span></span><span class="mord">)</span></span></span></span></span></span></p><p>在进行下一步之前有必要说明一下 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup></mrow><annotation encoding="application/x-tex">\rm E^{0&#x27;}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9425em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9425em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> 究竟代表什么含义。在B-V方程的推导中需要设定反应物和产物处于浓度标准态，即 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi><mo>∗</mo></msubsup><mo>=</mo><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">R</mi><mo>∗</mo></msubsup></mrow><annotation encoding="application/x-tex">\rm C^*_O = C^*_R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.964em;vertical-align:-0.2753em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4247em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4247em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">R</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span></span></span></span></span> 。此外由于初始条件为平衡状态，因此电势 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup></mrow><annotation encoding="application/x-tex">\rm E^{0&#x27;}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9425em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9425em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span> 为标准平衡电势。</p><p>1-5和1-6中只有第二个指数项中存在我们关心的电势项，因此看看是不是能将前两个杂项处理一下。将反应速率定义为阴极反应速率减去阳极反应速率，相当于正反应速率减去逆反应速率。在平衡条件下，净反应速率为0，同时表面浓度与本体浓度相等，即 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi mathvariant="normal">t</mi><mo stretchy="false">)</mo><mo>=</mo><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi><mo>∗</mo></msubsup><mo>=</mo><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">R</mi><mo>∗</mo></msubsup><mo>=</mo><msub><mi mathvariant="normal">C</mi><mi mathvariant="normal">R</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi mathvariant="normal">t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\rm C_O(0,t) = C^*_O = C^*_R = C_R(0,t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0253em;vertical-align:-0.2753em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathrm">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathrm">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4247em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4247em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">R</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathrm">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathrm">t</span><span class="mclose">)</span></span></span></span></span> ，推导见公式1-7、1-8。由此引出一个新的物理量<strong>标准速率常数</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>k</mi><mn>0</mn></msup></mrow><annotation encoding="application/x-tex">k^0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span> （standard rate constant） ，用来表征平衡时反应速率的快慢。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi mathvariant="normal">v</mi><mrow><mi mathvariant="normal">n</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">t</mi></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>v</mi><mi>c</mi></msub><mo>−</mo><msub><mi>v</mi><mi>a</mi></msub><mo>=</mo><msub><mi>k</mi><mi>f</mi></msub><mo>×</mo><msubsup><mi>C</mi><mi>O</mi><mo>∗</mo></msubsup><mo>−</mo><msub><mi>k</mi><mi>b</mi></msub><mo>×</mo><msubsup><mi>C</mi><mi>R</mi><mo>∗</mo></msubsup><mo>=</mo><mn>0</mn></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align}\rm v_{net} &amp;= v_c - v_a = k_f \times C_O^* - k_b \times C_R^* = 0 \tag{1-7} \\\end{align}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.5em;vertical-align:-0.5em;"></span><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1em;"><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0139em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">net</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1em;"><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-2.453em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">O</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-2.453em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1em;"><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1-7</span></span><span class="mord">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msup><mi mathvariant="normal">k</mi><mn>0</mn></msup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msub><mi>k</mi><mi>f</mi></msub><mo>=</mo><msub><mi>k</mi><mi>b</mi></msub><mspace width="1em"/><mo stretchy="false">(</mo><mtext>平衡</mtext><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi mathvariant="normal">k</mi><mi mathvariant="normal">f</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msup><mi>k</mi><mn>0</mn></msup><mo>×</mo><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">[</mo><mo>−</mo><mi>α</mi><mi>f</mi><mo stretchy="false">(</mo><mi>E</mi><mo>−</mo><msup><mi>E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi mathvariant="normal">k</mi><mi mathvariant="normal">b</mi></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msup><mi>k</mi><mn>0</mn></msup><mo>×</mo><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><mi>f</mi><mo stretchy="false">(</mo><mi>E</mi><mo>−</mo><msup><mi>E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align}\rm k^0 &amp;= k_f = k_b \quad(平衡) \notag \\\rm k_f &amp;= k^0 \times exp[-\alpha f(E-E^{0&#x27;})] \tag{1-8}  \\\rm k_b &amp;= k^0 \times exp[(1-\alpha) f(E-E^{0&#x27;})]  \notag\end{align}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.8291em;vertical-align:-2.1645em;"></span><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6645em;"><span style="top:-4.8004em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.1479em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight" style="margin-right:0.07778em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-1.4955em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1645em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6645em;"><span style="top:-4.8004em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">(</span><span class="mord cjk_fallback">平衡</span><span class="mclose">)</span></span></span><span style="top:-3.1479em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">−</span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9925em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose">)]</span></span></span><span style="top:-1.4955em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal">p</span><span class="mopen">[(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9925em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose">)]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1645em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6645em;"><span style="top:-4.8004em;"><span class="pstrut" style="height:3em;"></span><span></span></span><span style="top:-3.1479em;"><span class="pstrut" style="height:3em;"></span><span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1-8</span></span><span class="mord">)</span></span></span></span><span style="top:-1.4955em;"><span class="pstrut" style="height:3em;"></span><span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1645em;"><span></span></span></span></span></span></span></span></span></p><p>所以1-5和1-6可以简化表示，并最终得到B-V方程1-9：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi mathvariant="normal">i</mi><mo>=</mo><mi mathvariant="normal">F</mi><mi mathvariant="normal">A</mi><msup><mi mathvariant="normal">k</mi><mn>0</mn></msup><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi mathvariant="normal">C</mi><mi mathvariant="script">O</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi mathvariant="normal">t</mi><mo stretchy="false">)</mo><msup><mi mathvariant="normal">e</mi><mrow><mo>−</mo><mi>α</mi><mi mathvariant="normal">f</mi><mo stretchy="false">(</mo><mi mathvariant="normal">E</mi><mo>−</mo><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo></mrow></msup><mo>−</mo><msub><mi mathvariant="normal">C</mi><mi mathvariant="script">R</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi mathvariant="normal">t</mi><mo stretchy="false">)</mo><msup><mi mathvariant="normal">e</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><mi mathvariant="normal">f</mi><mo stretchy="false">(</mo><mi mathvariant="normal">E</mi><mo>−</mo><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo></mrow></msup></mrow></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1-9)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm i=FAk^0\begin{bmatrix}C_{\mathcal{O}}(0,t)e^{-\alpha f(E-E^{0&#x27;})}-C_{\mathcal{R}}(0,t)e^{(1-\alpha)f(E-E^{0&#x27;})}\\ \end{bmatrix}\tag{1-9}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.8em;vertical-align:-0.65em;"></span><span class="mord"><span class="mord mathrm">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">FA</span><span class="mord"><span class="mord mathrm">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0022em;"><span style="top:-3.0022em;"><span class="pstrut" style="height:3.1445em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathcal mtight" style="margin-right:0.02778em;">O</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1445em;"><span style="top:-3.1445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7815em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1164em;"><span style="top:-3.1164em;margin-right:0.0714em;"><span class="pstrut" style="height:2.6854em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9596em;"><span style="top:-2.9596em;margin-right:0.1em;"><span class="pstrut" style="height:2.5556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathcal mtight">R</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1445em;"><span style="top:-3.1445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7815em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mclose mtight">)</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1164em;"><span style="top:-3.1164em;margin-right:0.0714em;"><span class="pstrut" style="height:2.6854em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9596em;"><span style="top:-2.9596em;margin-right:0.1em;"><span class="pstrut" style="height:2.5556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5022em;"><span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">]</span></span></span></span></span><span class="tag"><span class="strut" style="height:1.8em;vertical-align:-0.65em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1-9</span></span><span class="mord">)</span></span></span></span></span></span></p><h1>单电子过程</h1><h2 id="平衡条件下的B-V方程">平衡条件下的B-V方程</h2><p>平衡条件下：净电流为0，表面浓度与本体浓度相等。更重要的是，B-V方程1-9必须能够得出nernst公式。这里的区别在，平衡电势E是任意浓度下都成立，并非标准态下。将 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo>=</mo><msub><mi>E</mi><mrow><mi>e</mi><mi>q</mi></mrow></msub></mrow><annotation encoding="application/x-tex">E=E_{eq}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> 带入1-9中，得到2-1,与nernet方程完全一致：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msup><mi>e</mi><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>E</mi><mrow><mi mathvariant="normal">e</mi><mi mathvariant="normal">q</mi></mrow></msub><mo>−</mo><msup><mi>E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo></mrow></msup><mo>=</mo><mfrac><msubsup><mi>C</mi><mi mathvariant="normal">O</mi><mo lspace="0em" rspace="0em">∗</mo></msubsup><msubsup><mi>C</mi><mi mathvariant="normal">R</mi><mo lspace="0em" rspace="0em">∗</mo></msubsup></mfrac></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-1)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">e^{f(E_{\mathrm{eq}}-E^{0^{\prime}})}=\frac{C_{\mathrm{O}}^{*}}{C_{\mathrm{R}}^{*}} \tag{2-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1945em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1945em;"><span style="top:-3.1945em;margin-right:0.05em;"><span class="pstrut" style="height:2.7815em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0576em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">eq</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1164em;"><span style="top:-3.1164em;margin-right:0.0714em;"><span class="pstrut" style="height:2.6854em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9596em;"><span style="top:-2.9596em;margin-right:0.1em;"><span class="pstrut" style="height:2.5556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3452em;vertical-align:-0.9795em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3657em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6705em;"><span style="top:-2.4065em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">R</span></span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2935em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4247em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">O</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9795em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:2.3452em;vertical-align:-0.9795em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-1</span></span><span class="mord">)</span></span></span></span></span></span></p><p>反应的平衡实际上是动态平衡，因此存在平衡时数值相等的阴极电流和阳极电流，记为exchange current $ i_0 $ （交换电流），如2-2。经过简单的处理后可以得到两个更常用的公式2-3和2-4：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mi mathvariant="normal">i</mi><mn>0</mn></msub><mo>=</mo><msub><mi mathvariant="normal">i</mi><mi mathvariant="normal">a</mi></msub><mo>=</mo><msub><mi mathvariant="normal">i</mi><mi mathvariant="normal">c</mi></msub><mo>=</mo><mi mathvariant="normal">F</mi><mi mathvariant="normal">A</mi><msup><mi mathvariant="normal">k</mi><mn>0</mn></msup><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi><mo lspace="0em" rspace="0em">∗</mo></msubsup><msup><mi mathvariant="normal">e</mi><mrow><mo>−</mo><mi>α</mi><mi mathvariant="normal">f</mi><mo stretchy="false">(</mo><msub><mi mathvariant="normal">E</mi><mrow><mi mathvariant="normal">e</mi><mi mathvariant="normal">q</mi></mrow></msub><mo>−</mo><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo></mrow></msup><mspace width="2em"/><mo stretchy="false">(</mo><mi mathvariant="normal">E</mi><mo>=</mo><msub><mi mathvariant="normal">E</mi><mrow><mi mathvariant="normal">e</mi><mi mathvariant="normal">q</mi></mrow></msub><mo stretchy="false">)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-2)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm i_0 = i_a = i_c = F A k^{0}C_{\mathrm{O}}^{*}e^{-\alpha f(E_{\mathrm{eq}}-E^{0^{\prime}})} \qquad (E = E_{eq})   \tag{2-2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.4806em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">FA</span><span class="mord"><span class="mord mathrm">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">0</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">O</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathrm">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1945em;"><span style="top:-3.1945em;margin-right:0.05em;"><span class="pstrut" style="height:2.7815em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mord mathrm mtight" style="margin-right:0.07778em;">f</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathrm mtight">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">eq</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2819em;"><span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathrm mtight">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1164em;"><span style="top:-3.1164em;margin-right:0.0714em;"><span class="pstrut" style="height:2.6854em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9596em;"><span style="top:-2.9596em;margin-right:0.1em;"><span class="pstrut" style="height:2.5556em;"></span><span class="mord mtight"><span class="mord mathrm mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:2em;"></span><span class="mopen">(</span><span class="mord mathrm">E</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">eq</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span class="tag"><span class="strut" style="height:1.4806em;vertical-align:-0.2861em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-2</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mi mathvariant="normal">i</mi><mn>0</mn></msub><mo>=</mo><mi mathvariant="normal">F</mi><mi mathvariant="normal">A</mi><msup><mi mathvariant="normal">k</mi><mn>0</mn></msup><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi><mrow><mo>∗</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo></mrow></msubsup><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">R</mi><mrow><mo>∗</mo><mi>α</mi></mrow></msubsup></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-3)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm i_0 = FAk^0C_O^{*(1-\alpha)}C_R^{*\alpha}\tag{2-3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3383em;vertical-align:-0.2935em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">FA</span><span class="mord"><span class="mord mathrm">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4065em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span><span class="mopen mtight">(</span><span class="mord mathrm mtight">1</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2935em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">R</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∗</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1.3383em;vertical-align:-0.2935em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-3</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mi mathvariant="normal">i</mi><mn>0</mn></msub><mo>=</mo><mi mathvariant="normal">F</mi><mi mathvariant="normal">A</mi><msub><mi mathvariant="normal">k</mi><mn>0</mn></msub><mi mathvariant="normal">C</mi><mspace width="2em"/><mo stretchy="false">(</mo><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi><mo>∗</mo></msubsup><mo>=</mo><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">R</mi><mo>∗</mo></msubsup><mo>=</mo><mi mathvariant="normal">C</mi><mo stretchy="false">)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-4)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm i_0 = FAk_0C \qquad (C_O^* = C_R^*=C)  \tag{2-4}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">FA</span><span class="mord"><span class="mord mathrm">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathrm">C</span><span class="mspace" style="margin-right:2em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">R</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">C</span><span class="mclose">)</span></span></span><span class="tag"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-4</span></span><span class="mord">)</span></span></span></span></span></span></p><p>交换电流密度 $ i_0 $ 与标准速率常数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>k</mi><mn>0</mn></msup></mrow><annotation encoding="application/x-tex">k^0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span> 成正比，因此一般使用交换电流密度比较电化学反应进行的难易程度。</p><h2 id="电流-过电势公式">电流-过电势公式</h2><p>用形式电势表示的nernst公式虽然形式简单，但是并不那么好用，关键在形式电势与很多量相关，不容易确定。实验中更常使用的是过电势 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>η</mi><mo>=</mo><mi mathvariant="normal">E</mi><mo>−</mo><msub><mi mathvariant="normal">E</mi><mrow><mi mathvariant="normal">e</mi><mi mathvariant="normal">q</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\rm \eta = E - E_{eq}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">η</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">E</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathrm">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">eq</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span></span> ，因此有必要把公式1-9中的形式电势全部更换为过电势。首先将1-9与2-1对应相除，得到2-5；再将2-1做部分处理和替换，得到电流-过电势公式 current-overpotential equation 2-6：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mfrac><mi>i</mi><msub><mi>i</mi><mn>0</mn></msub></mfrac><mo>=</mo><mfrac><mrow><msub><mi>C</mi><mn>0</mn></msub><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><msubsup><mi>C</mi><mn>0</mn><mo>∗</mo></msubsup></mfrac><msup><mi>e</mi><mrow><mo>−</mo><mi>α</mi><mi>f</mi><mo stretchy="false">(</mo><mi>E</mi><mo>−</mo><msup><mi>E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo></mrow></msup><msup><mrow><mo fence="true">(</mo><mfrac><msubsup><mi>C</mi><mn>0</mn><mo>∗</mo></msubsup><msubsup><mi>C</mi><mi>R</mi><mo>∗</mo></msubsup></mfrac><mo fence="true">)</mo></mrow><mi>α</mi></msup><mo>−</mo><mfrac><mrow><msub><mi>C</mi><mi>R</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><msubsup><mi>C</mi><mi>R</mi><mo>∗</mo></msubsup></mfrac><msup><mi>e</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><mi>f</mi><mo stretchy="false">(</mo><mi>E</mi><mo>−</mo><msup><mi>E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo stretchy="false">)</mo></mrow></msup><msup><mrow><mo fence="true">(</mo><mfrac><msubsup><mi>C</mi><mn>0</mn><mo>∗</mo></msubsup><msubsup><mi>C</mi><mi>R</mi><mo>∗</mo></msubsup></mfrac><mo fence="true">)</mo></mrow><mrow><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo></mrow></msup></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-5)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\frac{i}{i_0}=\frac{C_0(0,t)}{C_0^*}e^{-\alpha f(E-E^{0&#x27;})}\left(\frac{C_0^*}{C_R^*}\right)^\alpha-\frac{C_R(0,t)}{C_R^*}e^{(1-\alpha)f(E-E^{0&#x27;})}\left(\frac{C_0^*}{C_R^*}\right)^{-(1-\alpha)}\tag{2-5}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.1725em;vertical-align:-0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3365em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4838em;vertical-align:-0.9795em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6705em;"><span style="top:-2.4337em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9523em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1945em;"><span style="top:-3.1945em;margin-right:0.05em;"><span class="pstrut" style="height:2.7815em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1164em;"><span style="top:-3.1164em;margin-right:0.0714em;"><span class="pstrut" style="height:2.6854em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9596em;"><span style="top:-2.9596em;margin-right:0.1em;"><span class="pstrut" style="height:2.5556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3657em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6705em;"><span style="top:-2.4065em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2935em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4519em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9795em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.5043em;"><span style="top:-3.9029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.7074em;vertical-align:-0.9795em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6705em;"><span style="top:-2.4065em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2935em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9795em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1945em;"><span style="top:-3.1945em;margin-right:0.05em;"><span class="pstrut" style="height:2.7815em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mclose mtight">)</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1164em;"><span style="top:-3.1164em;margin-right:0.0714em;"><span class="pstrut" style="height:2.6854em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9596em;"><span style="top:-2.9596em;margin-right:0.1em;"><span class="pstrut" style="height:2.5556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3657em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6705em;"><span style="top:-2.4065em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2935em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4519em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9795em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.7279em;"><span style="top:-3.9029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:2.7074em;vertical-align:-0.9795em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-5</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>i</mi><mo>=</mo><msub><mi>i</mi><mn>0</mn></msub><mo fence="false" stretchy="true" minsize="2.4em" maxsize="2.4em">[</mo><mfrac><mrow><msub><mi>C</mi><mn>0</mn></msub><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><msubsup><mi>C</mi><mn>0</mn><mo>∗</mo></msubsup></mfrac><msup><mi>e</mi><mrow><mo>−</mo><mi>α</mi><mi>f</mi><mi>η</mi></mrow></msup><mo>−</mo><mfrac><mrow><msub><mi>C</mi><mi>R</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><msubsup><mi>C</mi><mi>R</mi><mo>∗</mo></msubsup></mfrac><msup><mi>e</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><mi>f</mi><mi>η</mi></mrow></msup><mo fence="false" stretchy="true" minsize="2.4em" maxsize="2.4em">]</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-6)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">i=i_0\bigg[\frac{C_0(0,t)}{C_0^*}e^{-\alpha f\eta}-\frac{C_R(0,t)}{C_R^*}e^{(1-\alpha)f\eta}\bigg] \tag{2-6}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4023em;vertical-align:-0.9523em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6705em;"><span style="top:-2.4337em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9523em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">η</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.4295em;vertical-align:-0.9795em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6705em;"><span style="top:-2.4065em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2935em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9795em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mclose mtight">)</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">η</span></span></span></span></span></span></span></span></span><span class="mord"><span class="delimsizing size3">]</span></span></span><span class="tag"><span class="strut" style="height:2.4295em;vertical-align:-0.9795em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-6</span></span><span class="mord">)</span></span></span></span></span></span></p><p>在2-6中，除了表观参数 $ \alpha $ 和交换电流以外，还有最后一个棘手的物理量，表面浓度。对此有两种简化方式：</p><ol><li>假设充分搅拌，表面浓度 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≈</mo></mrow><annotation encoding="application/x-tex">\approx</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4831em;"></span><span class="mrel">≈</span></span></span></span> 本体浓度 （下下节的重点内容）</li><li>物质传递过程控制的、基于线性浓度梯度假设的过程计算（下节内容）</li></ol><h2 id="物质传递控制的B-V方程">物质传递控制的B-V方程</h2><p>下面研究的电极反应必须满足以下条件：<strong>非均相电荷转移反应速率远大于物质传递过程，表面浓度与电极电势符合nernst方程；其他反应（如均相反应）达到平衡</strong>。这时的电极反应速率可以视为与反应物由溶液本体向电极表面的物质传递速率相等，即</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mi>v</mi><mrow><mi>n</mi><mi>e</mi><mi>t</mi></mrow></msub><mo>=</mo><msub><mi>v</mi><mrow><mi>m</mi><mi>t</mi></mrow></msub></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-7)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">v_{net} = v_{mt}\tag{2-7}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-7</span></span><span class="mord">)</span></span></span></span></span></span></p><p>这个时候的状态是，由于物质传递过程的控制，扩散到电极表面的反应物被迅速反应，电极表面的反应物维持在一定浓度，遵守nernst方程，因此也称为<strong>nernst反应</strong>。再次假设：<strong>体系存在大量支持电解质，电迁移项可忽略；没有搅拌等外界干扰，对流项可忽略</strong>。由菲克第一定律知，物质扩散速率与浓度梯度成正比。假设<strong>浓度梯度随距离表面的位置线性变化，且在扩散层厚度 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>δ</mi><mi>O</mi></msub></mrow><annotation encoding="application/x-tex">\delta_O</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">O</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 之外反应物浓度为体相浓度</strong>，则物质扩散速率与体相浓度和表面浓度之差成正比（2-8）。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mi>v</mi><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">t</mi></mrow></msub><mo>=</mo><msub><mi>D</mi><mi mathvariant="normal">O</mi></msub><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">[</mo><msubsup><mi>C</mi><mi mathvariant="normal">O</mi><mo>∗</mo></msubsup><mo>−</mo><msub><mi>C</mi><mi mathvariant="normal">O</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo>=</mo><mn>0</mn><mo stretchy="false">)</mo><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">]</mo><mtext>/</mtext><msub><mi>δ</mi><mi mathvariant="normal">O</mi></msub><mo>=</mo><msub><mi>m</mi><mn>0</mn></msub><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">[</mo><msubsup><mi>C</mi><mn>0</mn><mo>∗</mo></msubsup><mo>−</mo><msub><mi>C</mi><mn>0</mn></msub><mo stretchy="false">(</mo><mi>x</mi><mo>=</mo><mn>0</mn><mo stretchy="false">)</mo><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">]</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-8)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">v_{\mathrm{mt}}=D_\mathrm{O}\big[C_\mathrm{O}^\ast-C_\mathrm{O}(x=0)\big]\text{/}\delta_\mathrm{O} = m_0\big[C_0^*-C_0(x=0)\big] \tag{2-8}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">mt</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2em;vertical-align:-0.35em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="delimsizing size1">[</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-2.453em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2em;vertical-align:-0.35em;"></span><span class="mord">0</span><span class="mclose">)</span><span class="mord"><span class="delimsizing size1">]</span></span><span class="mord text"><span class="mord">/</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2em;vertical-align:-0.35em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="delimsizing size1">[</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-2.453em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2em;vertical-align:-0.35em;"></span><span class="mord">0</span><span class="mclose">)</span><span class="mord"><span class="delimsizing size1">]</span></span></span><span class="tag"><span class="strut" style="height:1.2em;vertical-align:-0.35em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-8</span></span><span class="mord">)</span></span></span></span></span></span></p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/image-20230524184239018.webp" alt="image-20230524184239018" style="zoom:50%;" /><center>图2-1  扩散层相关假设</center><center>（实线为实际浓度分布，虚线为近似浓度分布）</center><p>将公式1-1的式1带入2-8中，得到2-9。假设 $\rm C_O(x=0) \approx 0 $ 时，电流达到极限，称为极限扩散电流 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">i</mi><mi mathvariant="normal">l</mi></msub><mo>=</mo><mi mathvariant="normal">n</mi><mi mathvariant="normal">F</mi><mi mathvariant="normal">A</mi><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi><mo>∗</mo></msubsup></mrow><annotation encoding="application/x-tex">\rm i_l = nFAC_O^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.964em;vertical-align:-0.2753em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">nFA</span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4247em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span></span></span></span></span> 。 当达到极限扩散电流时，O的物质传递速率达到最大，并且一到达电极表面就被反应。将极限扩散电流带入到2-9中，得到重要公式2-10：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mfrac><mi mathvariant="normal">i</mi><mrow><mi mathvariant="normal">n</mi><mi mathvariant="normal">F</mi><mi mathvariant="normal">A</mi></mrow></mfrac><mo>=</mo><msub><mi mathvariant="normal">m</mi><mi mathvariant="normal">O</mi></msub><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">[</mo><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi><mo>∗</mo></msubsup><mo>−</mo><msub><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi></msub><mo stretchy="false">(</mo><mi mathvariant="normal">x</mi><mo>=</mo><mn>0</mn><mo stretchy="false">)</mo><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">]</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-9)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm \frac{i}{nFA} = m_O\big[C_O^*-C_O(x=0)\big]\tag{2-9}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.0309em;vertical-align:-0.686em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3449em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">nFA</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="delimsizing size1">[</span></span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathrm">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">0</span><span class="mclose">)</span><span class="mord"><span class="delimsizing size1">]</span></span></span></span><span class="tag"><span class="strut" style="height:2.0309em;vertical-align:-0.686em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-9</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mfrac><mrow><msub><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi></msub><mo stretchy="false">(</mo><mi mathvariant="normal">x</mi><mo>=</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi><mo>∗</mo></msubsup></mfrac><mo>=</mo><mn>1</mn><mo>−</mo><mfrac><mi mathvariant="normal">i</mi><msub><mi mathvariant="normal">i</mi><mi mathvariant="normal">l</mi></msub></mfrac></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-10)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm \frac{C_O(x=0)}{C_O^*} = 1-\frac{i}{i_l} \tag{2-10}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4065em;vertical-align:-0.9795em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6705em;"><span style="top:-2.4065em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2935em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathrm">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">0</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9795em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3449em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span class="tag"><span class="strut" style="height:2.4065em;vertical-align:-0.9795em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-10</span></span><span class="mord">)</span></span></span></span></span></span></p><p>现在开始考虑R：由于传递到电极表面的O被全部反应，则其在数值上等于R生成的速率和R向溶液本体扩散的速率（2-11）。对于nernst反应（电荷转移速率极快），反应视为平衡，满足nernst方程，只不过与热力学平衡时有所不同，浓度不是本体浓度而是表面浓度。由2-10和2-11获得表面浓度，就可以带入到2-12中求得电势与电流的关系（2-13）。这里需要注意的是，还需要另考虑R达到极限扩散时的阳极极限扩散电流 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mrow><mi>l</mi><mo separator="true">,</mo><mi>a</mi></mrow></msub></mrow><annotation encoding="application/x-tex">i_{l,a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9456em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">a</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> ，与阴极极限扩散电流 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mrow><mi>l</mi><mo separator="true">,</mo><mi>c</mi></mrow></msub></mrow><annotation encoding="application/x-tex">i_{l,c}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9456em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> 对应。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mfrac><mi mathvariant="normal">i</mi><mrow><mi mathvariant="normal">n</mi><mi mathvariant="normal">F</mi><mi mathvariant="normal">A</mi></mrow></mfrac><mo>=</mo><msub><mi mathvariant="normal">m</mi><mi mathvariant="normal">R</mi></msub><mo stretchy="false">[</mo><msub><mi mathvariant="normal">C</mi><mi mathvariant="normal">R</mi></msub><mo stretchy="false">(</mo><mi mathvariant="normal">x</mi><mo>=</mo><mn>0</mn><mo stretchy="false">)</mo><mo>−</mo><msubsup><mi mathvariant="normal">C</mi><mi mathvariant="normal">R</mi><mo>∗</mo></msubsup><mo stretchy="false">]</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-11)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm \frac{i}{nFA}=m_R[C_R(x=0)-C_R^\ast]\tag{2-11}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.0309em;vertical-align:-0.686em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3449em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">nFA</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathrm">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7387em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">R</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span><span class="tag"><span class="strut" style="height:2.0309em;vertical-align:-0.686em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-11</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi mathvariant="normal">E</mi><mo>=</mo><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo>+</mo><mfrac><mrow><mi mathvariant="normal">R</mi><mi mathvariant="normal">T</mi></mrow><mrow><mi mathvariant="normal">n</mi><mi mathvariant="normal">F</mi></mrow></mfrac><mi>ln</mi><mo>⁡</mo><mfrac><mrow><msub><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi></msub><mo stretchy="false">(</mo><mi mathvariant="normal">x</mi><mo>=</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><mrow><msub><mi mathvariant="normal">C</mi><mi mathvariant="normal">R</mi></msub><mo stretchy="false">(</mo><mi mathvariant="normal">x</mi><mo>=</mo><mn>0</mn><mo stretchy="false">)</mo></mrow></mfrac></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-12)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm E=E^{0&#x27;}+\frac{RT}{nF}\ln\frac{C_\mathrm{O}(x=0)}{C_\mathrm{R}(x=0)}\tag{2-12}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mord mathrm">E</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9925em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">nF</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">RT</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">ln</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathrm">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">0</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathrm">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathrm">0</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span class="tag"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-12</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi mathvariant="normal">E</mi><mo>=</mo><msup><mi mathvariant="normal">E</mi><msup><mn>0</mn><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo>−</mo><mfrac><mrow><mi mathvariant="normal">R</mi><mi mathvariant="normal">T</mi></mrow><mrow><mi mathvariant="normal">n</mi><mi mathvariant="normal">F</mi></mrow></mfrac><mi>ln</mi><mo>⁡</mo><mfrac><msub><mi mathvariant="normal">m</mi><mtext>O</mtext></msub><msub><mi mathvariant="normal">m</mi><mtext>R</mtext></msub></mfrac><mo>+</mo><mfrac><mrow><mi mathvariant="normal">R</mi><mi mathvariant="normal">T</mi></mrow><mrow><mi mathvariant="normal">n</mi><mi mathvariant="normal">F</mi></mrow></mfrac><mi>ln</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mfrac><mrow><msub><mi mathvariant="normal">i</mi><mrow><mi mathvariant="normal">l</mi><mo separator="true">,</mo><mtext>c</mtext></mrow></msub><mo>−</mo><mi mathvariant="normal">i</mi></mrow><mrow><mi mathvariant="normal">i</mi><mo>−</mo><msub><mi mathvariant="normal">i</mi><mrow><mi mathvariant="normal">l</mi><mo separator="true">,</mo><mtext>a</mtext></mrow></msub></mrow></mfrac><mo fence="true">)</mo></mrow></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-13)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm E=E^{0&#x27;}-\frac{RT}{nF}\ln\frac{m_\text{O}}{m_\text{R}}+\frac{RT}{nF}\ln\left(\frac{i_{l,\text{c}}-i}{i-i_{l,\text{a}}}\right)\tag{2-13}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4221em;vertical-align:-0.9721em;"></span><span class="mord"><span class="mord mathrm">E</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9925em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">nF</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">RT</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">ln</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">R</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">O</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">nF</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">RT</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">ln</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3449em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathrm">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">l</span><span class="mpunct mtight">,</span><span class="mord text mtight"><span class="mord mtight">a</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">l</span><span class="mpunct mtight">,</span><span class="mord text mtight"><span class="mord mtight">c</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathrm">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9721em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span></span><span class="tag"><span class="strut" style="height:2.4221em;vertical-align:-0.9721em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-13</span></span><span class="mord">)</span></span></span></span></span></span></p><p>当电流为0时，电势为平衡电势，体系处于热力学平衡状态。当电流不为0时，电势也将偏离平衡电势，形成过电势。由于已经假设电荷转移过程足够快，因此这里的过电势全部是由物质扩散过程引起，称为浓度过电势。</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/image-20230526192657962.webp" alt="image-20230526192657962" style="zoom: 20%;" /><h2 id="不考虑物质传递的B-V方程">不考虑物质传递的B-V方程</h2><p>对于电流-过电势公式2-6，不考虑物质传递的影响，则表面浓度与本体浓度相等，可简化为2-14（Butler-Volmer公式）。这个公式仅包含两个实验参数，交换电流密度和转移系数。直观来看，交换电流密度 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">i_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8095em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 表示相同过电势下反应的快慢，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">i_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8095em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 很大时，反应在很小的过电势下就可以达到物质扩散极限，反之将需要一个很大的过电势（主要是活化过电势，与浓差过电势相对）才能得到可观的电流。转移系数 $\alpha $ 反映了极化曲线对原点的中心对称性。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi mathvariant="normal">i</mi><mo>=</mo><msub><mi mathvariant="normal">i</mi><mn>0</mn></msub><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">[</mo><msup><mi mathvariant="normal">e</mi><mrow><mo>−</mo><mi>α</mi><mi mathvariant="normal">f</mi><mi>η</mi></mrow></msup><mo>−</mo><msup><mi mathvariant="normal">e</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>α</mi><mo stretchy="false">)</mo><mi mathvariant="normal">f</mi><mi>η</mi></mrow></msup><mo fence="false" stretchy="true" minsize="1.2em" maxsize="1.2em">]</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-14)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm i=i_0\big[e^{-\alpha f\eta}-e^{(1-\alpha)f\eta}\big] \tag{2-14}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.288em;vertical-align:-0.35em;"></span><span class="mord"><span class="mord mathrm">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="delimsizing size1">[</span></span><span class="mord"><span class="mord mathrm">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mord mathrm mtight" style="margin-right:0.07778em;">f</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">η</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathrm">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathrm mtight">1</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mclose mtight">)</span><span class="mord mathrm mtight" style="margin-right:0.07778em;">f</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">η</span></span></span></span></span></span></span></span></span><span class="mord"><span class="delimsizing size1">]</span></span></span></span><span class="tag"><span class="strut" style="height:1.288em;vertical-align:-0.35em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-14</span></span><span class="mord">)</span></span></span></span></span></span></p><h3 id="线性近似">线性近似</h3><p>过电势很小时，指数项的上标 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≈</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\approx 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4831em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>，则Butler-Volmer公式可线性近似为公式2-15。联系欧姆定律可以发现，公式2-15中电势比电流可以得到一个电阻项，即电荷转移电阻 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">R</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\rm R_{ct}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">ct</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi mathvariant="normal">i</mi><mo>=</mo><msub><mi mathvariant="normal">i</mi><mn>0</mn></msub><mi mathvariant="normal">f</mi><mi>η</mi></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-15)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm i = i_0f\eta\tag{2-15}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathrm">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathrm" style="margin-right:0.07778em;">f</span><span class="mord mathnormal" style="margin-right:0.03588em;">η</span></span></span><span class="tag"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-15</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mi mathvariant="normal">R</mi><mrow><mi mathvariant="normal">c</mi><mi mathvariant="normal">t</mi></mrow></msub><mo>=</mo><mfrac><mrow><mi mathvariant="normal">R</mi><mi mathvariant="normal">T</mi></mrow><mrow><mi mathvariant="normal">F</mi><msub><mi mathvariant="normal">i</mi><mn>0</mn></msub></mrow></mfrac></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-16)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm R_{ct} = \frac{RT}{Fi_0}\tag{2-16}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.1963em;vertical-align:-0.836em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathrm mtight">ct</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">F</span><span class="mord"><span class="mord mathrm">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">RT</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span class="tag"><span class="strut" style="height:2.1963em;vertical-align:-0.836em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-16</span></span><span class="mord">)</span></span></span></span></span></span></p><h3 id="Tafel曲线">Tafel曲线</h3><p>过电势较大而又不是很大时，极化曲线可以简化为最为著名的Tafel曲线。过电势较大，意味着公式2-14阴极项和阳极项中必定有一项可以忽略。这里假设阳极项可以忽略，则2-14可以简化，得到Tafel曲线的指数式2-17和线性式2-18。通过Tafel曲线的截距可以获得交换电流密度，通过斜率获得传递系数。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi mathvariant="normal">i</mi><mo>=</mo><msub><mi mathvariant="normal">i</mi><mn>0</mn></msub><msup><mi mathvariant="normal">e</mi><mrow><mo>−</mo><mi>α</mi><mi mathvariant="normal">f</mi><mi>η</mi></mrow></msup></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-17)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm i=i_0 e^{-\alpha f\eta}\tag{2-17}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0491em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathrm">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathrm">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span><span class="mord mathrm mtight" style="margin-right:0.07778em;">f</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">η</span></span></span></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:1.1491em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-17</span></span><span class="mord">)</span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi mathvariant="normal">l</mi><mi mathvariant="normal">g</mi><mtext> </mtext><mi mathvariant="normal">∣</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">∣</mi><mo>=</mo><mo>−</mo><mfrac><mrow><mi>α</mi><mi mathvariant="normal">F</mi></mrow><mrow><mn>2.303</mn><mi mathvariant="normal">R</mi><mi mathvariant="normal">T</mi></mrow></mfrac><mi>η</mi><mo>+</mo><mi mathvariant="normal">l</mi><mi mathvariant="normal">g</mi><mtext> </mtext><msub><mi mathvariant="normal">i</mi><mn>0</mn></msub></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-18)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm lg\, |i| = -\frac{\alpha F}{2.303RT}\eta + lg\, i_0 \tag{2-18}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">lg</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathrm">∣i∣</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">2.303RT</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mord mathrm">F</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal" style="margin-right:0.03588em;">η</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathrm" style="margin-right:0.01389em;">lg</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathrm">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-18</span></span><span class="mord">)</span></span></span></span></span></span></p><h2 id="Nernst型反应">Nernst型反应</h2><p>Nernst型反应，是一种界面电荷转移达到平衡的可逆体系。首先我们假设电荷转移速度极快，即交换电流极大，根据公式2-6，将交换电流项移到等式左侧，则等式左侧近似为0。再带入Nernst方程将体相浓度项替换，最终得到一个用表面浓度表示的“Nernst方程”（公式2-19）。2-19中意外地没有出现动力学参数，表明其是一个热力学平衡方程。这种现象描述的是，表面电荷转移速度过快，以至于</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi mathvariant="normal">E</mi><mo>=</mo><msup><mi mathvariant="normal">E</mi><msup><mi>θ</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></msup><mo>+</mo><mfrac><mrow><mi mathvariant="normal">R</mi><mi mathvariant="normal">T</mi></mrow><mi mathvariant="normal">F</mi></mfrac><mi mathvariant="normal">l</mi><mi mathvariant="normal">n</mi><mo stretchy="false">[</mo><mfrac><mrow><msub><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi mathvariant="normal">t</mi><mo stretchy="false">)</mo></mrow><mrow><msub><mi mathvariant="normal">C</mi><mi mathvariant="normal">R</mi></msub><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mi mathvariant="normal">t</mi><mo stretchy="false">)</mo></mrow></mfrac><mo stretchy="false">]</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2-19)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\rm E = E^{\theta&#x27;} + \frac{RT}{F}ln[\frac{C_O(0,t)}{C_R(0,t)}] \tag{2-19}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mord mathrm">E</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">E</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9925em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">θ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathrm mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">F</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathrm">RT</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathrm">ln</span><span class="mopen">[</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathrm">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathrm">t</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">O</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathrm">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathrm">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">]</span></span></span><span class="tag"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2-19</span></span><span class="mord">)</span></span></span></span></span></span></p>]]></content>
      
      
      <categories>
          
          <category> 化学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 电化学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>memorandum</title>
      <link href="/posts/f0a32b96/"/>
      <url>/posts/f0a32b96/</url>
      
        <content type="html"><![CDATA[<p>用于记录近期动态</p><h1>python 爬虫</h1><p>时间线：2月底-3月底</p><h2 id="2023-3-4">2023.3.4</h2><p>今日工作：浅尝辄止地学习了html、css和javascript，可以读懂基本语句；回顾了布朗运动、fick第一定律；开始学习python爬虫。</p><p>重现<em>书</em>中的代码，根据元素的属性爬取《战争与和平》节选部分中的全部人名。</p><blockquote><p>Python网络数据采集</p></blockquote><p>为了能大概看懂网站的配置文件，html、css和javascript还是有必要了解的。</p><blockquote><p><a href="https://www.w3schools.com/html/default.asp">https://www.w3schools.com/html/default.asp</a></p></blockquote><blockquote><p>本来是想放些代码上去的，但不知道怎样避免冲突，那就先这样吧…</p></blockquote><h2 id="2023-3-8">2023.3.8</h2><p>今日工作：</p><ol><li>beautifulsoup学习，成功爬取了博客主页的文章title、abstract和对应文章的主体内容（终于有了一点小小的成就感）</li><li>开始把以前写的draft发到网站上</li></ol><hr><p>今天晚上开始学习requests的时候发生了一个重大错误：我把py文件命名成了requests！！！<br>然后就开始疯狂报错…<br>最开始我认为是刚刚pip install，所以重启了vscode。然后又尝试了换一个文件等等，最后突然意识到好像命名有问题…</p><h2 id="2023-3-10">2023.3.10</h2><ul><li>about regex</li></ul><p>main point</p><ol><li>if <em>(.*?)</em> lies in the last of regex, you will get nothing!!!</li><li>remember compile regex with optional modifiers such as <em>re.M</em> firstly or directly write regex when you use it just like</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    regex = re.<span class="built_in">compile</span>(regex,optional modifier)</span><br><span class="line">    content_1 = regex.findall(<span class="built_in">str</span>)</span><br><span class="line">    --------------------------------------------------- </span><br><span class="line">    content_2 = re.findall(regex,<span class="built_in">str</span>,optional modifier)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2023-3-11">2023.3.11</h2><p>today’s work</p><ol><li>python basic knowledge: class and instance</li><li>scrape douban by requests</li><li>about html: div and li</li></ol><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/%E6%9C%AA%E5%91%BD%E5%90%8D%E5%9B%BE%E7%89%87.png" alt="我爱mami" title="疯狂迫害" style="zoom: 50%;" /><h1>AI绘画</h1><h2 id="2023-3-23">2023.3.23</h2><p>今天按照b站up主秋大的贴心教程搞定了webui和lora的安装，并且成功在google的colab上训练了後藤ひとり的lora模型（因为显存可能不太够，还没在本地训练）</p><p>晚上在本地用中午训练的模型试了一下文生图，竟然有一张还 <s>不错</s> 的!</p><h2 id="2023-3-27">2023.3.27</h2><p>前天在c站看到Cheese Daddy’s Landscapes mix大模型，一眼就喜欢上了，今天花了一个小时就拿到了一张不错的图</p><h2 id="2023-4-5">2023.4.5</h2><p>这几天又陆续对3月27日的图进行了修改，并且尝试了纯风景图</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/fujiyama-shaonv.webp" style="zoom: 25%;" /><p>这张图我真的超级喜欢，就是背景的三个山头真的碍眼···想用inpaint修改一下结果发现容易出黑边，可能需要用ps修正，或者再学一学inpaint的技巧</p><p>这几天的使用让我对AI的迅速发展大受震惊，感觉自己之前就是一个原始人···总之非常感谢深度学习的研发者、模型分享者以及谷歌无偿的colab，让我这个没有任何艺术细胞的人能够体验到绘画的乐趣。</p><h1>SIF2</h1><h2 id="2023-4-15">2023.4.15</h2><p>今天lovelive sif2开服，早早就下载了，结果发现打开就报错（エラー），心想估计是手机没有google框架。下午在图书馆花了几十分钟按照youtube一个大佬的详细指导成功在鸿蒙3系统上用上了google框架。之前玩乃木坂音游的时候就有想过安装google框架，但是失败了；而且后来发现其实并不需要google，所以就没有继续下去。这次算是一劳永逸的解决了问题。</p><p><a href="https://www.youtube.com/watch?v=VaGeM-LU0Ug&amp;list=LL&amp;index=1">视频链接：一瓶奶油</a></p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/sif2_rirari.webp" alt="rinari kawaii！" style="zoom: 25%;" /><p>りなちゃんが一番可愛い！！！</p><h1>BanG Dream!</h1><h2 id="2023-5-13">2023.5.13</h2><p>最近沉迷邦邦！好后悔没有早点入坑啊！5月7号买了日区初始号之后，又一次体会到了最初玩音游时候的快感，仿佛又回到了2020年刚开始接触乃木坂音游的时候。另外还真真切切地体会到了初始号的重要性，真就可以为所欲为地整30个10连！</p><h2 id="2023-5-20">2023.5.20</h2><p>今天用主号抽了一轮saaya的生日限定，结果就中了一个兰的5星，亏的血本无归（悲！）。一怒之下买了个小号，又抽了一轮，结果连个4星都无（大悲！）。</p><p>发誓以后主号必须谨慎抽卡，想爽就去小号···</p><h2 id="2023-5-31">2023.5.31</h2><p>新活动开启，第一次参加对邦活动。这次有saaya的限定5星，拿小号毫不犹豫地大抽特抽。前40抽没有一个四星本来都准备保底了，挂了日区vpn后，80抽和100多抽来了2个saaya，然后5星和4星一堆（活动的三个5星也全抽齐了），爽爆了好吧。以后抽卡必须挂日区vpn。</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/Screenshot_20230531_152304_jp.co.craftegg.band.webp" alt="Screenshot_20230531_152304_jp.co.craftegg.band" style="zoom: 25%;" /><h2 id="2023-6-8">2023.6.8</h2><p>今天真真切切感受到了技术的提升：之前惨败的 bad  apple ex，今天顺利打过（虽然miss5个）。而且现在已经开始向26/27进军了。</p><h2 id="2023-6-10">2023.6.10</h2><p>black shout sp 全连，一个新的里程碑！</p><h2 id="2023-6-21">2023.6.21</h2><p>两个ex27全连！</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/Screenshot_20230621_123026_jp.co.craftegg.band.webp" alt="Screenshot_20230621_123026_jp.co.craftegg.band" style="zoom: 25%;" /><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/Screenshot_20230621_124524_jp.co.craftegg.band.webp" alt="Screenshot_20230621_124524_jp.co.craftegg.band" style="zoom: 25%;" /><h2 id="2023-6月底7月初">2023.6月底7月初</h2><p>邦邦和电锯人联动，冲冲冲！</p><h2 id="2023-8-21">2023.8.21</h2><p>hhw水活，可惜没钻抽了！！！</p>]]></content>
      
      
      <categories>
          
          <category> diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 杂谈 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>苏联与犹太人</title>
      <link href="/posts/e8b84bc6/"/>
      <url>/posts/e8b84bc6/</url>
      
        <content type="html"><![CDATA[<h1>犹太复国主义与英国托管时期</h1><p>根据犹太教的说法，以色列地区是上帝赐给犹太人的圣地。19世纪以来，犹太复国主义者号召全世界的犹太人“回归故土”，出现大批移民潮。特别是在一战后，奥斯曼帝国解体，英国控制中东地区，支持在巴勒斯坦建立犹太国，引发第三和第四次回归浪潮。30年代起由于美国和德国的反犹浪潮，巴勒斯坦的犹太人占比进一步增加，侵占了阿拉伯人的生存环境，民族冲突加剧。</p><h1>苏联在巴以冲突中的角色</h1><p>犹太复国主义的宗教和民族色彩与社会主义背道而驰，再加上英国对犹太人的支持，苏联对犹太复国主义有着天然的反感。二战爆发后，被占领区的犹太人遭到大肆迫害，苏联通过犹太人获得了大量援助，并且希望借助犹太人反法西斯委员会这张外交牌向西方国家索取物资。二战后期，英美苏三方开始了世界范围内的势力角逐，中东地区自然不会错过。苏联为了介入中东，提出由苏联托管巴勒斯坦地区。显然，英美是绝对不会同意的。而即使是盟友关系的英美，在这一问题上也有相当多的分歧，其根源在作为中东霸主，英国自然不想将巴勒斯坦问题提交联合国，被第三国干涉。首先，美国提出允许欧洲犹太难民移民到巴勒斯坦，意指插手中东事务，而英国以巴以冲突为由予以拒绝。巴勒斯坦问题是一个涉及英、美、苏、阿拉伯国家和犹太人五个势力的棘手问题，而苏联的态度并不明确，至少没有明显地支持以色列建国。</p><p>1947年初英国与巴以三方的协商又一次失败后，巴勒斯坦问题被提交至联合国。这给了苏联染指中东的机会，同时英国也争取了时间，因为巴勒斯坦问题已经复杂到联合国也无法解决的地步。5月苏联联合国代表葛罗米柯公开表示支持犹太复国主义，苏联的态度发生大转变。9月该问题提交至11国特别委员会审议，结果为7票赞成巴以分治，3票赞同巴以联邦，1票弃权。11月以33赞成、13反对、10弃权通过印巴分治的联合国181号决议。决议主要内容为：犹太国面积为56.4%，巴勒斯坦为42.8%，耶路撒冷由联合国管理。冷战开始后，美苏两国竟然在巴以问题上达成了惊人的默契，分别说服自己的盟友投赞同票，对印巴分治起到决定性作用。苏联的决策是可以理解的，因为它巴不得局势越乱越好。美国的决策就有些耐人寻味了，通过181号决议，美国也得到了插手中东的机会，但是与苏联分享这一机会是绝对不可以接受的。所以在很长的一段时间内，美国并没有全心全意地支持以色列。</p><p>第一次中东战争期间，苏联命令般地让东欧国家与以色列做军火买卖，尽管自己并不直接参与。同时还默许大批东欧犹太人移民以色列，当然苏联国内对犹太人的移民基本是卡死的，此时苏联国内也正值反犹太主义盛行时期。因此苏联支持以色列建国绝不可能是出于对犹太人的同情，而是在借英美发生矛盾重返中东。更重要的是，无论以色列在战后是否加入社会主义阵营，苏联都是稳赚不赔。最好的情况当然是倒向苏联，再次是在美苏之间保持中立，苏联依旧可以把以色列作为中东据点。甚至是最差的结果，即以色列倒向美国，他们的死对头阿拉伯国家也一定会自己找上门开，苏联完全不用担心置身于中东事务之外。</p><h1>苏联犹委会的悲惨命运</h1><h2 id="历史转折中的犹委会">历史转折中的犹委会</h2><p>与苏联在第一次中东战争前后全力支持犹太人建国截然相反的是，苏联犹太人反法西斯委员会的命运多舛！二战开始后，德国对犹太人的大屠杀行径逐渐被世人知晓。苏联借机建立犹委会，希望通过打犹太人这张牌，获取西方犹太人的援助。因此，对苏联来说，犹委会存在的唯一意义就是从西方国家谋求好处。随着冷战格局的形成，犹委会就失去了根基。这主要表现为以下四个事件：</p><ol><li><p>克里米亚（克里木）犹太共和国破产：二战后，斯大林以通敌罪流放了克里米亚半岛的全部原住民，这激起了犹太人希望回到原聚集地，建立自治共和国的热情。苏共内部也在积极推动此事，希望获得西方犹太人的更多资助。随着冷战的开始，克里木方案自然落空。此事后来还成为犹太人的“主要罪证”。</p></li><li><p>《黑皮书》被禁：《黑皮书》描写的是德军屠杀犹太人的种种罪行，在二战期间得到苏联官方的支持。由于本书还涉及苏联西部被占领区群众的反犹行为，再加上国际形势的变化，本书在即将出版前被毙掉，永无出版之日。</p></li></ol><blockquote><p>我最喜欢的苏联小说《生存与命运》的作者格罗斯曼，是《黑皮书》的重要贡献者。他出生在一个犹太家庭，母亲在苏德战争期间被杀害，之后作为战地记者参与众多著名战役，并目睹了犹太人集中营和战争的残酷（和小说中的剧情完全一致！）。战后苏联的反犹政策最终令格罗斯曼转向彻底否定苏联制度，并于1959年完成了《生存与命运》这部伟大的作品</p></blockquote><ol start="3"><li>犹委会主席米霍埃尔斯被当局谋杀（1948年1月），犹委会濒临死亡</li></ol><p>直到1948年，犹委会作为一个机构还存在着。当然，这仅仅是因为苏大林支持以色列建国的需要。但是苏联国内犹太人狂热的民族主义浪潮和复国主义思想令斯大林等人大吃一惊。苏联一直对外声称犹太人问题是社会制度问题，只会发生在资本主义这种非民主国家，在社会主义国家是不会存在的。而现在大批犹太人希望移民以色列，简直是对苏联的极大讽刺。5月以色列建国和9月梅厄（后来的以色列第一位女总统）到访莫斯科引发犹太人的强烈反响，犹委会也彻底沦落为苏共的宣传工具，站在了犹太同胞的对立面，落了个里外不是人的下场。</p><h2 id="大难临头">大难临头</h2><p>1948年底，犹委会被查封，不久所有成员被捕。关于“犹太人反法西斯委员会案”，都还是苏联的老一套。但是犹委会案并没有很快结束，1949年的列宁格勒事件和一系列大清洗阻碍了“审判的进行”。1952年后，犹委会案的了结是苏联反犹浪潮的引爆点，斯大林本想通过医生案从肉体和精神上消灭犹太人，但是由于1953年的驾崩（原文用词）而夭折。</p><p>以下内容摘自文章结语：</p><p><em>斯大林对犹委会的镇压以及接踵而来的反犹行动对苏联社会的发展造成了严重后果。在国内，成千上万的犹太人因为不满苏联当局的反犹政策而迁往以色列、美国等西方国家，使苏联丧失了大量优秀的科技人才和文化精英。反犹主义就像一个毒痈，削弱了苏联社会的民族凝聚力。在国外，一些西方犹太组织借机掀起了反苏浪潮，苏联一手扶持起来的以色列也倒向美国阵营，苏联在世人心目中的形象被严重抹黑，在外交上也陷于被动。今天，当我们重温这段历史的时候，就会发现，导致苏联这个强盛一时的超级大国在冷战的历史舞台上轰然瓦解、黯然落败的，并非被视为第五纵队的犹委会和苏联犹太人，而是斯大林本人！或者说，是他一手打造的政治体制！当斯大林在精心炮制犹委会的悲剧之时，可能万万没有想到，他同时也在给自己亲手缔造的红色帝国炮制着一出更大的历史悲剧！<br>孟子说，“杀一无罪非仁也&quot;，又说，“天子不仁，不保四海；诸侯不仁，不保社稷，视民如土芥，绳民若盗贼，或许这就是苏联70年而亡的主要原因之一</em></p>]]></content>
      
      
      <categories>
          
          <category> 历史 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 苏联史 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>毕业论文格式排版与endnote使用心得</title>
      <link href="/posts/c868dd72/"/>
      <url>/posts/c868dd72/</url>
      
        <content type="html"><![CDATA[<p>首先要吐槽一下某大学毕业论文不提供latex模板就算了，给的word模板不仅难用还有错误！word除了全平台通用和上手方便（markdown：？）这两个优点之外，真的是满满的槽点。为了防止自己或许某天可能会因为忘了某些小技巧而焦头烂额，还是有必要记下来。</p><h1>word</h1><ol><li><p>正文段落使用固定间距时，图片、公式插入出现遮挡：将图片样式设置为单倍行距</p></li><li><p>一级标题位于页首时段前间距消失：</p><ul><li>段落界面设置段前分页（可行）</li><li>设置分节符（存疑）</li></ul></li><li><p>英文自动换行——选中，段落选项中中文版式——允许西文单词自动换行</p></li><li><p>姓名导师栏下划线无法对齐</p><ul><li>最笨但是不会有副作用的方法：联合使用调整空格的字符宽度和使用标尺调节段落的左右页边距</li><li>一劳永逸的方法：表格，但是由于模板使用的是下划线，所以可能会存在格式问题？</li></ul></li><li></li></ol><h1>endnote</h1><ol><li><p>同一处引用多篇非连续参考文献时出现空格：endnote——tools——outputs style——edit 当前模板，进入模板的设置界面（非常重要），在citations——templates界面，下方删除逗号后的空格</p></li><li><p>各种类型参考文献的格式引用错误都可以在模板设置界面修改，比如英文文献后是否添加空格、中文文献设置等</p></li><li><p>如果文献issue缺省，可能会出现volume与pages直接相连的情况，chatgpt说这符合APA格式（？意义不明），但很明显这不符合GB格式，而且容易造成混淆。修改的方法是将journal article的模板格式中的issue前后都加上 | 作为分隔符，如 **Author. Title[J]. Journal, Year, Volume|(Issue)|: Pages|. **</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Anwar M N, Fayyaz A, Sohail N F, et al. CO2 capture and storage: A way forward for sustainable environment[J]. J Environ Manage, 2018, 226131-144.</span><br></pre></td></tr></table></figure></li><li><p>英文使用半角标点和新罗马字体，中文数字和标点符号等使用全角和宋体（文献标识依然使用新罗马字体）<br>好像基本无解？，毕竟太复杂了。建议手动调整</p></li><li><p>行间距设置<br>word的endnote栏——edit &amp; manage citation中可以调整行间距和悬挂等，但是只能调12或者24磅，如果是其他数值——手动</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 杂谈 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用Alexnet处理mnist</title>
      <link href="/posts/b12fe7b5/"/>
      <url>/posts/b12fe7b5/</url>
      
        <content type="html"><![CDATA[<p>参考图书：<a href="https://zh-v2.d2l.ai/index.html">《动手学深度学习》</a></p><p>本节内容基于卷积神经网络、lexnet和alexnet的基础内容，请参考<a href="https://kotobanoniwa.xyz/posts/dd983220/">卷积神经网络基础</a></p><h1>预处理</h1><p>alexnet框架针对的是224*224的图片，但是mnist只有28*28，因此首先要进行预处理</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd </span><br><span class="line"><span class="keyword">from</span> torch.utils <span class="keyword">import</span> data</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 导入colab自带的mnist数据集</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">df_train = pd.read_csv(os.path.join(<span class="string">&quot;sample_data&quot;</span>,<span class="string">&quot;mnist_train_small.csv&quot;</span>))</span><br><span class="line">df_test = pd.read_csv(os.path.join(<span class="string">&quot;sample_data&quot;</span>,<span class="string">&quot;mnist_test.csv&quot;</span>))</span><br><span class="line"><span class="comment"># 这里features的dtype必须转为float型，否则在后面处理时会报错</span></span><br><span class="line">train_features = np.array(df_train.values[:<span class="number">19900</span>,<span class="number">1</span>:], dtype=np.float32)</span><br><span class="line">train_labels = np.array(df_train.values[:<span class="number">19900</span>,<span class="number">0</span>])</span><br><span class="line">test_features = np.array(df_test.values[:<span class="number">9900</span>,<span class="number">1</span>:], dtype=np.float32)</span><br><span class="line">test_labels = np.array(df_test.values[:<span class="number">9900</span>,<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 预处理mnist图像到224*224</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">preprocess_mnist_image</span>(<span class="params">img</span>):</span><br><span class="line">    <span class="comment"># 缩放图像</span></span><br><span class="line">    img = cv2.resize(img, (<span class="number">224</span>, <span class="number">224</span>), interpolation=cv2.INTER_LINEAR)</span><br><span class="line">    <span class="comment"># 填充图像</span></span><br><span class="line">    width, height = img.shape[:<span class="number">2</span>]</span><br><span class="line">    ratio = <span class="number">224</span> / <span class="built_in">max</span>(width, height)</span><br><span class="line">    new_width = <span class="built_in">int</span>(ratio * width)</span><br><span class="line">    new_height = <span class="built_in">int</span>(ratio * height)</span><br><span class="line">    delta_w = <span class="number">224</span> - new_width</span><br><span class="line">    delta_h = <span class="number">224</span> - new_height</span><br><span class="line">    top, bottom = delta_h//<span class="number">2</span>, delta_h-(delta_h//<span class="number">2</span>)</span><br><span class="line">    left, right = delta_w//<span class="number">2</span>, delta_w-(delta_w//<span class="number">2</span>)</span><br><span class="line">    img = cv2.copyMakeBorder(img, top, bottom, left, right, cv2.BORDER_CONSTANT, value=[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>])</span><br><span class="line">    <span class="keyword">return</span> img</span><br></pre></td></tr></table></figure><p>preprocess_mnist_image函数完全由chatgpt完成，且没有做任何修改就可以使用，具体实现我也不太懂。不过主要功能是输入numpy类型的28*28图像，使用双线性插值法扩充为224*224的图像。在实操后发现由于缩放前后宽高比相同，第一句代码的resize函数已经将图像成功缩放到了224*224，因此实际上不需要后面的填充图像部分。如果缩放前后的宽高比不同，填充图像部分的代码会在图像周围添加黑色边框。缩放前后的效果如下：</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230505143518.webp" alt=""></p><p>在之前的学习中都是将全部test和train数据统一处理后用DataLoader函数打包进tensor数据集</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将数据分为mini-batch</span></span><br><span class="line"><span class="comment"># tensordataset函数将多个tensor打包为一个集合,然后使用dataloader函数划分数据</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">load_array</span>(<span class="params">data_arrays, batch_size, is_train=<span class="literal">True</span></span>):  </span><br><span class="line">    <span class="string">&quot;&quot;&quot;构造一个PyTorch数据迭代器&quot;&quot;&quot;</span></span><br><span class="line">    dataset = data.TensorDataset(*data_arrays)</span><br><span class="line">    <span class="keyword">return</span> data.DataLoader(dataset, batch_size, shuffle=is_train)</span><br></pre></td></tr></table></figure><p>这样做的最大问题在一股脑地将大量数据扔进内存中。之前这么处理没有问题是因为数据本身较小，仅占2G左右，对于colab来说绰绰有余。但是将数据扩充后，colab就吃不消了。因此需要用python的iterator功能动态生成mini-batch（下面的代码全部由chatgpt完成）。chatgpt基于data.Dataset自定义了MNISTDataset类。传入数据不变，在内部将传入数据中的features部分进行预处理，然后返回处理后的features和label。__getitem__函数用于返回features和label组成的tuple。其中from_numpy函数与tensor哈桑农户类似，但是后者返回一个新的tensor，前者与原numpy数据共享内存。.long()是为了将label转换为长整数型，</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MNISTDataset</span>(data.Dataset):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, X, y</span>):</span><br><span class="line">        self.X = X</span><br><span class="line">        self.y = y</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(self.X)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, idx</span>):</span><br><span class="line">        img = np.reshape(self.X[idx], (<span class="number">28</span>, <span class="number">28</span>))</span><br><span class="line">        img = preprocess_mnist_image(img)</span><br><span class="line">        img = torch.from_numpy(img).<span class="built_in">float</span>()</span><br><span class="line">        label = torch.from_numpy(np.array(self.y[idx])).long()</span><br><span class="line">        <span class="keyword">return</span> img, label</span><br><span class="line"></span><br><span class="line">batch_size = <span class="number">100</span></span><br><span class="line"></span><br><span class="line">train_dataset = MNISTDataset(train_features, train_labels)</span><br><span class="line">test_dataset = MNISTDataset(test_features, test_labels)</span><br><span class="line"></span><br><span class="line">train_iter = data.DataLoader(train_dataset, batch_size=batch_size, shuffle=<span class="literal">True</span>)</span><br><span class="line">test_iter = data.DataLoader(test_dataset, batch_size=batch_size, shuffle=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><h1>NN框架</h1><p>终于来到alexnet最核心的地方了。但真正实现起来反而是最简单的一部分，与lenet相比也就多了几行代码（多亏了pytorch的帮助）。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将input转化为四维张量</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Reshape</span>(torch.nn.Module):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x</span>):</span><br><span class="line">    <span class="keyword">return</span> x.view(-<span class="number">1</span>,<span class="number">1</span>,<span class="number">224</span>,<span class="number">224</span>)</span><br><span class="line"></span><br><span class="line">net = nn.Sequential(</span><br><span class="line">    Reshape(),</span><br><span class="line">    nn.Conv2d(<span class="number">1</span>, <span class="number">96</span>, kernel_size=<span class="number">11</span>, stride=<span class="number">4</span>, padding=<span class="number">1</span>), nn.ReLU(),</span><br><span class="line">    nn.MaxPool2d(kernel_size=<span class="number">3</span>, stride=<span class="number">2</span>),</span><br><span class="line">    nn.Conv2d(<span class="number">96</span>, <span class="number">256</span>, kernel_size=<span class="number">5</span>, padding=<span class="number">2</span>), nn.ReLU(),</span><br><span class="line">    nn.MaxPool2d(kernel_size=<span class="number">3</span>, stride=<span class="number">2</span>),</span><br><span class="line">    nn.Conv2d(<span class="number">256</span>, <span class="number">384</span>, kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>), nn.ReLU(),</span><br><span class="line">    nn.Conv2d(<span class="number">384</span>, <span class="number">384</span>, kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>), nn.ReLU(),</span><br><span class="line">    nn.Conv2d(<span class="number">384</span>, <span class="number">256</span>, kernel_size=<span class="number">3</span>, padding=<span class="number">1</span>), nn.ReLU(),</span><br><span class="line">    nn.MaxPool2d(kernel_size=<span class="number">3</span>, stride=<span class="number">2</span>),</span><br><span class="line">    nn.Flatten(),</span><br><span class="line">    nn.Linear(<span class="number">6400</span>, <span class="number">4096</span>), nn.ReLU(),</span><br><span class="line">    nn.Dropout(p=<span class="number">0.5</span>),</span><br><span class="line">    nn.Linear(<span class="number">4096</span>, <span class="number">4096</span>), nn.ReLU(),</span><br><span class="line">    nn.Dropout(p=<span class="number">0.5</span>),</span><br><span class="line">    nn.Linear(<span class="number">4096</span>, <span class="number">10</span>))</span><br></pre></td></tr></table></figure><p>与lenet的主要区别：除了核大小、卷积层数的变化外，新引入了dropout、relu函数和maxpool层。</p><h1>result</h1><p>结构复杂起来后，参数的影响变得显著起来。由于使用relu函数，应采用较小的学习率。这里首先采用书上使用的0.01，参数更新方法使用SGD。逐渐向上调整lr的过程中发现，迭代情况变化非常迅速，lr=0.05时与lr=0.01时基本相同，lr=0.1时由于loss无法计算导致参数无法更新。nan（not a number）表示数值计算异常，可能是出现了0/0、ln(0)等情况。尝试搭配权重衰减和lr=0.1使用，train loss仍为nan。尝试在lr=0.01计算上进一步减小学习率，并加上权重衰减，效果并没有明显提升。</p><p>SGD，lr=0.01，epoch=10</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Epoch [<span class="number">1</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0061</span>, Train Accuracy: <span class="number">80.24</span>%, Test Accuracy: <span class="number">95.47</span>%</span><br><span class="line">Epoch [<span class="number">2</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0012</span>, Train Accuracy: <span class="number">96.27</span>%, Test Accuracy: <span class="number">97.47</span>%</span><br><span class="line">Epoch [<span class="number">9</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0002</span>, Train Accuracy: <span class="number">99.26</span>%, Test Accuracy: <span class="number">98.87</span>%</span><br><span class="line">Epoch [<span class="number">10</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0002</span>, Train Accuracy: <span class="number">99.23</span>%, Test Accuracy: <span class="number">98.88</span>%</span><br></pre></td></tr></table></figure><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230505110937.webp" alt=""></p><p>SGD, lr=0.05, epoch=10</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Epoch [<span class="number">1</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0230</span>, Train Accuracy: <span class="number">13.35</span>%, Test Accuracy: <span class="number">9.27</span>%</span><br><span class="line">Epoch [<span class="number">2</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0216</span>, Train Accuracy: <span class="number">23.37</span>%, Test Accuracy: <span class="number">8.99</span>%</span><br><span class="line">Epoch [<span class="number">3</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0211</span>, Train Accuracy: <span class="number">25.26</span>%, Test Accuracy: <span class="number">68.51</span>%</span><br><span class="line">Epoch [<span class="number">9</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0003</span>, Train Accuracy: <span class="number">99.13</span>%, Test Accuracy: <span class="number">98.29</span>%</span><br><span class="line">Epoch [<span class="number">10</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0002</span>, Train Accuracy: <span class="number">99.25</span>%, Test Accuracy: <span class="number">98.91</span>%</span><br></pre></td></tr></table></figure><p>SGD, lr=0.1, epoch=10</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Epoch [<span class="number">1</span>/<span class="number">10</span>], Train Loss: nan, Train Accuracy: <span class="number">9.80</span>%, Test Accuracy: <span class="number">9.79</span>%</span><br><span class="line">Epoch [<span class="number">2</span>/<span class="number">10</span>], Train Loss: nan, Train Accuracy: <span class="number">9.81</span>%, Test Accuracy: <span class="number">9.79</span>%</span><br><span class="line">Epoch [<span class="number">3</span>/<span class="number">10</span>], Train Loss: nan, Train Accuracy: <span class="number">9.81</span>%, Test Accuracy: <span class="number">9.79</span>%</span><br></pre></td></tr></table></figure><p>SGD, lr=0.005, epoch=10, weight_decay=0.001</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Epoch [<span class="number">1</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0061</span>, Train Accuracy: <span class="number">80.04</span>%, Test Accuracy: <span class="number">94.66</span>%</span><br><span class="line">Epoch [<span class="number">2</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0014</span>, Train Accuracy: <span class="number">95.44</span>%, Test Accuracy: <span class="number">96.63</span>%</span><br><span class="line">Epoch [<span class="number">9</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0004</span>, Train Accuracy: <span class="number">98.79</span>%, Test Accuracy: <span class="number">98.47</span>%</span><br><span class="line">Epoch [<span class="number">10</span>/<span class="number">10</span>], Train Loss: <span class="number">0.0003</span>, Train Accuracy: <span class="number">98.93</span>%, Test Accuracy: <span class="number">98.62</span>%</span><br></pre></td></tr></table></figure><h1>模型的使用</h1><p>之前一直在学习如何训练模型，但没有怎么使用过。训练模型之前我们将NN模型移到了GPU上以加快训练速度，但推理过程本身速度够快，无需在GPU上，因此需要先将模型从GPU移到CPU上。这里为了方便直接使用train数据：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 测试</span></span><br><span class="line">net = net.to(<span class="string">&#x27;cpu&#x27;</span>)</span><br><span class="line">net.<span class="built_in">eval</span>()</span><br><span class="line"><span class="keyword">for</span> X, y <span class="keyword">in</span> train_iter:</span><br><span class="line">    <span class="built_in">print</span>(X.shape, y.shape)</span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">      output=net(X[:<span class="number">5</span>])</span><br><span class="line">      <span class="built_in">print</span>(output)</span><br><span class="line">      <span class="built_in">print</span>(torch.argmax(output,dim=<span class="number">1</span>))</span><br><span class="line">      <span class="built_in">print</span>(y[:<span class="number">5</span>])</span><br><span class="line">    <span class="keyword">break</span> </span><br><span class="line">```</span><br><span class="line">torch.Size([<span class="number">100</span>, <span class="number">224</span>, <span class="number">224</span>]) torch.Size([<span class="number">100</span>])</span><br><span class="line">tensor([[ <span class="number">8.0577e+00</span>, -<span class="number">2.7128e+00</span>,  <span class="number">1.9408e+00</span>,  <span class="number">7.0632e-01</span>, -<span class="number">1.3653e+00</span>,</span><br><span class="line">         -<span class="number">5.7446e-01</span>,  <span class="number">7.0696e-01</span>, -<span class="number">2.5820e+00</span>, -<span class="number">1.8152e+00</span>, -<span class="number">3.3206e-01</span>],</span><br><span class="line">        [-<span class="number">1.7353e+00</span>,  <span class="number">1.2814e+01</span>,  <span class="number">9.6814e-01</span>, -<span class="number">2.5725e+00</span>, -<span class="number">3.9819e-01</span>,</span><br><span class="line">         -<span class="number">3.6534e+00</span>, -<span class="number">3.6662e+00</span>, -<span class="number">1.0881e+00</span>,  <span class="number">1.7450e+00</span>, -<span class="number">1.7823e+00</span>],</span><br><span class="line">        [ <span class="number">1.1222e+01</span>, -<span class="number">4.7647e+00</span>,  <span class="number">1.4974e+00</span>, -<span class="number">1.3909e+00</span>, -<span class="number">2.5974e+00</span>,</span><br><span class="line">         -<span class="number">1.6435e+00</span>,  <span class="number">4.0833e-01</span>, -<span class="number">1.8372e+00</span>, -<span class="number">2.1075e+00</span>,  <span class="number">2.0186e+00</span>],</span><br><span class="line">        [ <span class="number">1.8648e+00</span>, -<span class="number">2.7190e+00</span>, -<span class="number">3.6098e+00</span>, -<span class="number">4.5446e+00</span>,  <span class="number">2.7098e-01</span>,</span><br><span class="line">         -<span class="number">5.1653e-01</span>,  <span class="number">2.3106e+01</span>, -<span class="number">8.5419e+00</span>, -<span class="number">8.5070e-01</span>, -<span class="number">6.6404e+00</span>],</span><br><span class="line">        [-<span class="number">3.0372e+00</span>,  <span class="number">1.1296e+01</span>, -<span class="number">1.0653e-03</span>, -<span class="number">1.0007e+00</span>, -<span class="number">1.7746e-01</span>,</span><br><span class="line">         -<span class="number">2.7877e+00</span>, -<span class="number">2.3883e+00</span>, -<span class="number">1.5731e-01</span>, -<span class="number">3.5602e-01</span>, -<span class="number">1.6468e+00</span>]],</span><br><span class="line">       grad_fn=&lt;AddmmBackward0&gt;)</span><br><span class="line">tensor([<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">6</span>, <span class="number">1</span>])</span><br><span class="line">tensor([<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">6</span>, <span class="number">1</span>])</span><br><span class="line">```</span><br></pre></td></tr></table></figure><p>可以看到前五个数据全部正确（废话，用train数据测试当然基本全对了）。当然也可以将推理所需的数据移动到GPU上</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 测试</span></span><br><span class="line">net.<span class="built_in">eval</span>()</span><br><span class="line"><span class="keyword">for</span> X, y <span class="keyword">in</span> train_iter:</span><br><span class="line">    X = X.to(<span class="string">&quot;cuda&quot;</span>)</span><br><span class="line">    y = y.to(<span class="string">&#x27;cuda&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(X.shape, y.shape)</span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">      output=net(X[:<span class="number">5</span>])</span><br><span class="line">      <span class="built_in">print</span>(output)</span><br><span class="line">      <span class="built_in">print</span>(torch.argmax(output,dim=<span class="number">1</span>))</span><br><span class="line">      <span class="built_in">print</span>(y[:<span class="number">5</span>])</span><br><span class="line">    <span class="keyword">break</span> </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 深度学习 </tag>
            
            <tag> pytorch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>卷积神经网络</title>
      <link href="/posts/dd983220/"/>
      <url>/posts/dd983220/</url>
      
        <content type="html"><![CDATA[<p>参考图书：<a href="https://zh-v2.d2l.ai/index.html">《动手学深度学习》</a></p><h1>卷积层、池化层构建</h1><p>超参数：输出通道数（卷积核数）、步幅、填充、核大小</p><h2 id="卷积层">卷积层</h2><ul><li>填充：扩大输出维度数，防止在深层网络中矩阵越来越小</li><li>步幅：迅速减少输出维度数</li></ul><p>假设n、k、p和s分别代表输入矩阵、卷积核、填充和步幅，下表h和w分别代表高度和宽度，则输出矩阵可表示为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">⌊</mo><mrow><mo fence="true">(</mo><msub><mi>n</mi><mi>h</mi></msub><mo>−</mo><msub><mi>k</mi><mi>h</mi></msub><mo>+</mo><msub><mi>p</mi><mi>h</mi></msub><mo>+</mo><msub><mi>s</mi><mi>h</mi></msub><mo fence="true">)</mo></mrow><mi mathvariant="normal">/</mi><msub><mi>s</mi><mi>h</mi></msub><mo fence="true">⌋</mo></mrow><mo>×</mo><mrow><mo fence="true">⌊</mo><mrow><mo fence="true">(</mo><msub><mi>n</mi><mi>w</mi></msub><mo>−</mo><msub><mi>k</mi><mi>w</mi></msub><mo>+</mo><msub><mi>p</mi><mi>w</mi></msub><mo>+</mo><msub><mi>s</mi><mi>w</mi></msub><mo fence="true">)</mo></mrow><mi mathvariant="normal">/</mi><msub><mi>s</mi><mi>w</mi></msub><mo fence="true">⌋</mo></mrow></mrow><annotation encoding="application/x-tex">\left\lfloor\left(n_{h}-k_{h}+p_{h}+s_{h}\right) / s_{h}\right\rfloor \times\left\lfloor\left(n_{w}-k_{w}+p_{w}+s_{w}\right) / s_{w}\right\rfloor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">⌊</span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">⌋</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">⌊</span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">⌋</span></span></span></span></span></span></p><p>特殊括号表示向下取整。<strong>一般情况下会将填充大小设置为核大小减步幅大小</strong>，即 $ p_h=k_h-s_h, p_w=k_w-s_w $ ，以便于计算，这样就可以进一步简化上式</p><p>使用nn中的Conv2d函数构建convolution layer，参数包括输入通道数、输出通道数、kernel shape和bias shape、padding、stride等</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nn.Conv2d(<span class="number">1</span>,<span class="number">1</span>,kernel_size=(<span class="number">3</span>,<span class="number">5</span>),padding=(<span class="number">0</span>,<span class="number">1</span>),stride=(<span class="number">3</span>,<span class="number">4</span>))</span><br></pre></td></tr></table></figure><p>这里设置的参数满足上面那个原则，注意kernel_size可以是一个tuple，也可以为一个数x，nn会自动解释为一个（x，x）的矩阵</p><h2 id="池化层">池化层</h2><p>为什么要引入池化层：卷积层对位置特别敏感，张量的微小偏移都可能会对输出结果造成大的影响，池化层可以缓解这种敏感性</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line">pool2d = nn.MaxPool2d(<span class="number">2</span>)</span><br><span class="line">x = torch.arange(<span class="number">16</span>,dtype=torch.float32).reshape(<span class="number">1</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line">y = pool2d(x)</span><br><span class="line"><span class="built_in">print</span>(y)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[[[ 0.,  1.,  2.,  3.],</span></span><br><span class="line"><span class="string">          [ 4.,  5.,  6.,  7.],</span></span><br><span class="line"><span class="string">          [ 8.,  9., 10., 11.],</span></span><br><span class="line"><span class="string">          [12., 13., 14., 15.]]]])</span></span><br><span class="line"><span class="string">tensor([[[[ 5.,  7.],</span></span><br><span class="line"><span class="string">          [13., 15.]]]])</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p>在nn的MaxPool2d函数中，<strong>默认的步幅大小是池化窗口大小</strong>。上例中池化窗口大小为2，因此步幅为2，根据上一小节中的公式可以计算得输出维度数也为2</p><h1>LeNet</h1><p>LeNet是上世纪的卷积神经网络，最初的目标就是用来处理mnist。可以参考以前写的使用<a href="https://kotobanoniwa.xyz/posts/92fd094d/">mlp结构</a>，只需要将模型的定义修改为卷积神经网络就可以，使用最简单的sequential构建：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将input转化为四维张量</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Reshape</span>(torch.nn.Module):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x</span>):</span><br><span class="line">    <span class="keyword">return</span> x.view(-<span class="number">1</span>,<span class="number">1</span>,<span class="number">28</span>,<span class="number">28</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 构建NN</span></span><br><span class="line">net = nn.Sequential(</span><br><span class="line">    Reshape(),</span><br><span class="line">    nn.Conv2d(<span class="number">1</span>, <span class="number">6</span>, kernel_size=<span class="number">5</span>, padding=<span class="number">2</span>), nn.Sigmoid(),</span><br><span class="line">    nn.AvgPool2d(kernel_size=<span class="number">2</span>, stride=<span class="number">2</span>),</span><br><span class="line">    nn.Conv2d(<span class="number">6</span>, <span class="number">16</span>, kernel_size=<span class="number">5</span>), nn.Sigmoid(),</span><br><span class="line">    nn.AvgPool2d(kernel_size=<span class="number">2</span>, stride=<span class="number">2</span>),</span><br><span class="line">    nn.Flatten(),</span><br><span class="line">    nn.Linear(<span class="number">16</span> * <span class="number">5</span> * <span class="number">5</span>, <span class="number">120</span>), nn.Sigmoid(),</span><br><span class="line">    nn.Linear(<span class="number">120</span>, <span class="number">84</span>), nn.Sigmoid(),</span><br><span class="line">    nn.Linear(<span class="number">84</span>, <span class="number">10</span>))</span><br></pre></td></tr></table></figure><p>Reshape是自建的layer，用以将colab中的二维张量转化为四维张量，view函数与reshape函数极其类似，但又有部分区别。NN结构基于最原始的LeNet结构：对于（28，28）的一张图片，首先填充为（32，32），然后使用大小为（5，5）的卷积核处理，输出6个（28，28）矩阵。以此类推，使用两个池化层、两个卷积层和三个全连接层构建起NN。这里激活函数使用sigmoid，但是relu是目前最常用的。</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/LeNet_structure.webp" /><blockquote><p>如果简单地将sigmoid函数替换为relu函数效果反而不好，因为relu本身梯度较大，需要调低lr</p></blockquote><h1>AlexNet</h1><p>2012年的alexnet开启了深度学习的新纪元。其相对于传统卷积神经网络lenet有以下几个区别：</p><ol><li>更多更大的数据，使用100万个<em>224*224</em>的样本</li><li>使用GPU加速运算</li><li>使用maxpool替代avgpool</li><li>使用relu替代sigmoid</li><li>使用dropout控制affine层的复杂度</li></ol><p>下图是alexnet的结构。关于输入图像的尺寸，alexnet原始论文是224*224，第一层卷积输出为55*55，但计算一下会发现不太对劲（$ \lfloor (224-11+4)/4\rfloor=54 $）。根据下图中的227*227计算才能得到正确结果55，或者书中使用的输入数据是224*224，第一层输出为54*54。</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/alexnet2.webp" style="zoom:80%;" /><p>alexnet的具体实现请参考下一篇文章<a href="https://kotobanoniwa.xyz/posts/b12fe7b5/">使用Alexnet处理mnist</a></p><h1>VGG</h1><p>VGG（块网络，visual geometry group），基于alexnet的思想，提出了将多个卷积层和最大汇聚层组成VGG块的思路。具体来说，VGG网络由多个VGG块和最后的三个全连接层组成，而VGG块由多个卷积层+relu激活函数和最后的一个maxpool层组成。卷积层的padding为1，kernel_size为3，maxpool层的stride为2，kernel_size为2。这样的设计确保了图片在卷积层保持大小不变，在maxpool层尺寸减小一半，即<strong>每个VGG块使图片尺寸减小一半</strong>。VGG相对于alexnet使用更大更深的结构实现了更高的accuracy，但更重要的是提出了神经网络的模板化思维。另一个改进是又用回了更小的卷积核，这是因为更深的网络结构可能效果更好。</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230506084656.webp" style="zoom: 60%;" /><h1>NiN</h1><p>NiN（network in network）主要对全连接层进行了改进。卷积层虽然计算复杂，超参数众多，但是实际参数比全连接层少得多。卷积层的参数为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>输入通道数</mtext><mo>×</mo><mtext>输出通道数</mtext><mo>×</mo><mtext>核大</mtext><msup><mtext>小</mtext><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">输入通道数\times输出通道数\times核大小^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord cjk_fallback">输入通道数</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord cjk_fallback">输出通道数</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord cjk_fallback">核大</span><span class="mord"><span class="mord cjk_fallback">小</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> ，全连接层的参数为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>输入维度数</mtext><mo>×</mo><mtext>输出维度数</mtext></mrow><annotation encoding="application/x-tex">输入维度数\times输出维度数</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord cjk_fallback">输入维度数</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">输出维度数</span></span></span></span> 。以lenet为例，第一卷积层的参数为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>×</mo><mn>6</mn><mo>×</mo><mn>2</mn><mo>=</mo><mn>12</mn></mrow><annotation encoding="application/x-tex">1\times 6 \times 2=12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">12</span></span></span></span>，第一全连接层的参数为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>16</mn><mo>×</mo><mn>5</mn><mo>×</mo><mn>5</mn><mo stretchy="false">)</mo><mo>×</mo><mn>120</mn><mo>=</mo><mn>48000</mn></mrow><annotation encoding="application/x-tex">(16\times 5 \times 5)\times 120 = 48000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">16</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">5</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">120</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">48000</span></span></span></span>。参数过多有两个问题：内存爆炸和过拟合。</p><blockquote><p>最后一个卷积层经过flatten变为行向量，维度数为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>16</mn><mo>×</mo><mn>5</mn><mo>×</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">16\times 5 \times 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">16</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span></p></blockquote><p>1*1卷积核是NiN中的重要内容。1*1卷积核看似无用，毕竟卷积神经网络的最大优势就是能识别相邻元素，但实际上是非常实用的结构。仔细来看，1*1卷积核是将不同通道线性组合，实质上相当于权重矩阵为（输入通道数，输出通道数）的全连接层。这样就将复杂的全连接层转换为了参数极少的1*1卷积层。</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230506094626.webp" style="zoom:80%;" /><p>NiN延用VGG中块的概念，NiN块由1个正常卷积核和2个1*1卷积核组成，每个核后紧跟一个relu函数。NiN块间通过maxpool连接，以确保尺寸减半。在经过多个块处理后，NiN还有关键一步——全局平均池化层（AdaptiveAvgPool2d），将第三维度和第四维度（分别对应高和宽）通过求平均数压缩成一个数。然后通过flatten转换为2维矩阵，这里已经得到VGG最后一个全连接层的结果了。最后计算softmax和交叉熵误差。</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230507190553.webp" style="zoom:80%;" /><h1>阶段总结</h1><p>到这里总结一下LeNet、AlexNet、VGG和NiN各自的特征：</p><table><thead><tr><th style="text-align:center">网络</th><th style="text-align:center">特征</th></tr></thead><tbody><tr><td style="text-align:center">LeNet</td><td style="text-align:center">首次将GPU应用于深度学习</td></tr><tr><td style="text-align:center">AlexNet</td><td style="text-align:center">引入dropout和maxpool、使用大卷积核</td></tr><tr><td style="text-align:center">VGG</td><td style="text-align:center"><strong>引入块的概念</strong>、<strong>使用maxpool减半尺寸</strong></td></tr><tr><td style="text-align:center">NiN</td><td style="text-align:center"><strong>1*1卷积核</strong>、<strong>全局平均池化层</strong>、无全连接层</td></tr></tbody></table><h1>GoogLeNet</h1><p>GoogLeNet是2014年imagenet比赛冠军（亚军是VGG），它的理念是吸收Alexnet、NiN、VGG等概念，通过4个通道获取不同信息，将它们综合后输出（我全都要233）。到这里神经网络层数已经超过了100，情况也变得非常玄学起来······</p><p>googlenet的块称为inception，包括四条路径（下图）。concatenation是将四条路径的通道数相加。整个inception的输入和输出信号的高宽相同，起到对通道数缩放的作用。</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230509135217.webp" style="zoom:80%;" /><h1>ResNet</h1><p>残差网络（residual network）是2015年的imagenet比赛冠军。其核心理念是在每一个块中引入输入变量，使得信息可以直接从输入层传递到输出层，防止信息在深层网络传递过程中逐渐消失。左图是传统的块结构，中图resnet在激活函数前将输入变量加入到输出变量中。如果通道数发生变化，还需要将输入变量通过1*1卷积核转化为对应通道维度（右图）。</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230511143038.webp" style="zoom: 67%;" />]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 深度学习 </tag>
            
            <tag> pytorch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>联合政府政策的推行和破产——希腊、捷克斯洛伐克和中国道路</title>
      <link href="/posts/6a4b628f/"/>
      <url>/posts/6a4b628f/</url>
      
        <content type="html"><![CDATA[<h1>联合政府政策的推行</h1><ul><li>1944年李维诺夫认为英美对抗将是战后的基本特征，这将成为美苏合作的良机</li><li>1944年9月橡树园会议，苏联明确支持联合国总部设在美国，以制约英国，并且促使美国参与国际事务</li></ul><p>斯大林采取了一系列举措，包括解散共产国际、公开宣传苏联道路不是唯一选择、推行联合政府政策等，其目的就是保证和平的外部环境。</p><p>二战中欧洲的共产党发展迅速，到1944年法国共产党有超过100万人，意大利共产党更是超过了200万人。而且不少共产党有自己的武装势力，如法共直接掌握25万人的义勇军游击队。斯大林推出联合政府政策后，法共和意共相继并入各国政府，但共产党其实并没有损失太多，对苏联的政策也没有反对。法共获得了26%的选票，社会党获得25%选票，这相当于左翼势力占了一半以上。但联合政府政策的推行依据实际上是基于1944年10月英苏之间著名的百分百协定。根据协定内容，苏联不插手希腊事务，要求希腊共产党将全部权力交给希腊政府（实则是成为英国的势力范围）。</p><h2 id="希腊内战">希腊内战</h2><p>希腊内战是二战后的第一场代理人战争，是苏联与西方国家冷战开始的缩影，因此有必要了解一下。</p><p>希腊共产党在1944年3月建立临时政府，控制了希腊的大部分领土。流亡海外的希腊国王乔治二世在开罗建立流亡政府，并得到了同盟国的承认。除希腊共产党控制的军队外，希腊全国民主同盟也在参与与意大利和德国的作战。希腊共产党、开罗流亡政府和全国民主同盟三个势力相互敌对，因此二战后期在希腊上演了四方乱斗（还有德意）的混乱局面。1944年10月德国全部撤出希腊，此时正是百分比协定的时间节点。英国军队和流亡政府紧随其后进驻雅典。依照希共军队的战斗力在当时物理控制全国轻而易举，但是他们听从了斯大林的旨意。12月，对百分比协定一无所知的希共军队举行游行示威，与政府发生流血冲突，成为希腊内战的导火索。希共与希共军队的关系因为百分比协定变得紧张，此外希共在撤出雅典前又到处搞暗杀和迫害活动，导致民意支持率大幅度下降。1946年随着苏联与西方国家的关系紧张，希腊内战一触即发。</p><p>尽管英国和苏联是造成希腊内战的罪魁祸首，但南斯拉夫和美国才是左右希腊内战的关键角色。铁托一心摆脱苏联的控制，因此希望借助支持希腊共产党巩固自己在巴尔干半岛的势力。二战后英国实力大削，无力支持希腊政府。1947年英军撤出后，美国取代了英国的地位，提供了大量援助。苏联仍然死脑筋地贯彻百分比协定就算了，1948年苏联和南斯拉夫分道扬镳后，希腊共产党内部就亲苏还是亲南的死亡选择题产生巨大分歧。结果是亲苏派获胜，对亲南派执行了大清洗。在战争的紧要关头还对自己人开刀，估计也就CP能干出这种缺心眼的事。南斯拉夫也是恨铁不成钢，迅速关闭了与希腊的边界，驱逐了所有的希共军队，也断了援助。希共还通过一系列军事上的骚操作（转游击战为大规模攻防战）浪费了战前的全部优势。1949年低残余的小部队逃到了阿尔巴尼亚，希腊内战结束。</p><blockquote><p>我是真的“佩服”苏联和希共的一根筋，一把好牌打得稀烂，能赢才奇了怪</p></blockquote><p>希腊内战是理解苏联（以及其他社会主义国家）政策决断的一个切入点。苏联僵化、独裁的体制决定了，苏联的政策决断存在极大的问题。首先是时局判断错误，战后（甚至是战前）美国的崛起和英国的衰弱都已经是板上钉钉的事，而苏联却反而呆板地执行已经名存实亡的百分比协定。其次是该果断的时候优柔寡断，该谨慎时鲁莽行事。</p><h1>联合政府政策的破产</h1><p>蒋介石在当时与美国走的更为接近，这是斯大林不愿看到的。为此他以参加对日作战为理由，和美国一起迫使中国承认外蒙古独立，然后又开始推行国民党和共产党的联合政府政策。但中共可不像东欧国家共产党那样容易控制，国共两党的战争一触即发，这标志着联合政府政策在亚洲的失败。西欧的形势也不乐观，从1946到1947年，法共、比利时共产党、意共相继被赶出（自愿退出）政府。东欧共产党也开始脱离苏联的控制，镇压反对派，逐渐将权力集中于自己手中。捷克斯洛伐克的二月事件——捷共夺权标志着联合政府政策的全面破产，也是冷战开始的重要信号。</p><p>联合政府政策是斯大林为了保证苏联外部环境安全的权宜之计、与西方国家和平发展的妥协以及其他社会主义道路的探索。斯大林设想在联合政府政策下东欧国家在步伐上与苏联保持一致，但是他显然低估了两种意识形态间的尖锐矛盾。在此背景下，斯大林在战后倡导的各国走不同形式的社会主义道路，又转变为了斯大林道路。</p><h2 id="捷克斯洛伐克道路">捷克斯洛伐克道路</h2><p>捷克斯洛伐克在社会主义道路上充满了悲情的色彩。1938年由于英法的绥靖政策，德国夺取了苏台德地区，次年则直接把捷克斯洛伐克肢解了。因此捷克斯洛伐克人不仅仇视德国，也仇视坐视不理的英国的法国，这在一定程度上反映为对苏好感度高。流亡政府总统贝奈斯认为战后捷克斯洛伐克的外交政策应该为：一半向西，一般向东，构建起东西方交流的桥梁；经济和政策政策应该吸收自由资本主义和社会主义的优点。但这种设想成立的前提是，东西方真的想和平交流。1943年12月苏联和捷克斯洛伐克签订合作条约，实现了贝奈斯长久以来的愿望，苏联也借此在东欧推广贝奈斯的政治策略（亲苏）。贝奈斯并非没有看到苏联与德国一起瓜分波兰等侵略行为，他在1943年曾这样分析时局：从俄国方面来说，与英国相比，他们更为不诚实。但是他错在相信了苏联，尽管当时苏联的联合政府政策可能是真心实意的。</p><p>1945年捷克斯洛伐克的政治势力在莫斯科召开会议，包括贝奈斯的流亡政府、捷共、斯共等。会议的结果是通过了政府声明科西策纲领，捷共和斯共占据了大量的政府关键岗位，但总的来看还称得上是联合政府。在1946年大选前，捷克斯洛伐克共存在两对敌对势力——捷克和斯洛伐克的民族冲突与社会主义的资本主义的意识形态冲突。不同政党为争夺选民采取了各种各样的措施，捷共最后凭借身后的群众基础取得最多选票（大企业甚至达到6成以上，出乎意料）。但不同于西欧和后来东欧其他国家的舞弊行径，捷克斯洛伐克的拉票手段干净了很多，其他政党和西方国家都同意选举是自由民主的。</p><blockquote><p>捷共（捷克斯洛伐克共产党）和斯共（斯洛伐克共产党）是两个政党，尽管后者事实上处于捷共莫斯科机构的领导之下</p></blockquote><p>大选后捷共虽然是捷克斯洛伐克的第一大党，但是斯大林和哥特瓦尔德等都坚信社会主义有不同于苏联的道路，知道马歇尔计划的提出。1947年初捷克斯洛伐克面临重大经济困难，6月份马歇尔提出的欧洲援助计划对捷来说简直是天赐良机。在经过激烈讨论后，7月7日捷政府（包括捷共）一致同意接受英法的邀请参加巴黎会议。这里的主要推动者是非共产党外交部长马萨里克。至于为什么哥特瓦尔德同意参加，可能的原因是苏联驻捷临时代办博德罗夫的工作出现了差错，未能将7日凌晨苏联的紧急电报告知哥特瓦尔德。但更为深层次的原因是，捷政府中捷共的势力并没有大到可以主导政府决断，并且哥特瓦尔德的立场也偏向中立。7月9日政府官员一行在访问莫斯科时同斯大林会谈，哥特瓦尔德和马萨利克都认为保持同西方的贸易对捷非常重要。在斯大林和莫洛托夫的威胁下，代表团成员被迫放弃参加巴黎会议。</p><blockquote><p>马萨里克于1948年神秘死亡，结合当时二月事变的背景，很难不怀疑是谋杀</p></blockquote><p>捷克斯洛伐克放弃参加马歇尔计划是捷经济与政治形势的转折点，此后捷共经过二月事变完全掌握政权，经济层面也开始转向斯大林模式，丧失了参与新的工业革命的机会使这个战前就已经实现工业化的发达国家落后于西方。</p><h2 id="捷共崛起">捷共崛起</h2><p>1947年的旱灾使捷政府不得不向美苏两个阵营求援。美国以捷未参加马歇尔计划为由拒绝给予援助，而且乐于看到哥特瓦尔德政府的手足无措。苏联为了保住其在捷克斯洛伐克的主导地位援助了大量粮食，这使得西方国家在捷的声望大跌。捷共还采取了一系列针对富人的强制性举措赢得了民心。除了粮食问题外，捷共通过指控斯洛伐克民主党的分裂阴谋除掉了反共势力。到1947年底，两大阵营都在为夺权做最后的努力。到1947年底，东欧国家中除了捷克斯洛伐克以外，其他国家的共产党都已经完成了夺权的工作。尽管大多数社会主义国家（包括苏联）都在谴责捷共行动缓慢，但是捷共依旧把争夺议会的多数席位作为自己的主要任务。这主要是由于捷克斯洛伐克在战前就拥有浓厚的议会传统。然而到了1948年初，情况与哥特瓦尔德的想法有很大的出入。由于社会民主党和国家社会党两个右翼政党的联合，使得捷共想要获得51%以上的选票的可能性几乎变成了0。国家社会党、天主教党和斯洛伐克民主党等右翼政党领导人达成了联合行动的协定，他们还获得了总统贝奈斯的支持。在形势的步步紧逼之下，哥特瓦尔德不得不向激进的共产党人做出妥协，表明共产党人可能会采取极端措施，以武力夺取政权。</p><p>1948年2月中旬以后，两个势力之间的斗争逐渐走向公开化。2月18日，苏联和美国的外交官也相继抵达布拉格。但是美国的到访显然只是出于立场上的支持，西方国家在捷克斯洛伐克问题上恪守了与苏联的约定，承认捷克斯洛伐克是苏联的势力范围。捷共掌握了占大多数的普通人，罢工和游行的浪潮逼迫贝奈斯将权力交给哥特瓦尔德。至此，联合政府政策彻底终结。</p><h1>中国内战</h1><h2 id="苏联对东北的处置">苏联对东北的处置</h2><p>苏联对中国的担忧源于二战期间，苏联将重心完全转向欧洲事务，导致中国国民政府与美国走得很近，这是苏联最不愿意看到的。1945年，借助出兵东北，苏联得以使外蒙古成为两国的缓冲带。苏联在中国推行的也是联合政府政策，而不是鼓动中国共产党领导武装斗争。8月9日苏联闪电般进入东北后，形势巨变，毛泽东等人以为斯大林的妥协政策只是权宜之计，便命令军队趁此机会占领北方大部份地区。苏联当然注意到中共这一促使局势升级的行动，在10月20日下打了禁止革命的死命令，令中国共产党人难以接受，但也必须接受。毛泽东在党内解释说，苏联希望中国走资产阶级领导、无产阶级参与的法国式道路。毛泽东对斯大林的意图是极其清楚的，但是在实际上却并没按照斯大林设想的那么做，因为他知道所谓联合政府政策根本行不通，共产党和国民党必有一战。</p><p>重庆谈判中，毛泽东坚定地表明中共的底线是黄河以北地区的控制权，这对于国民党来说当然是不可接受的。苏联虽然极力推行联合政府政策，要求中共放下武器，但是对于毛泽东的强硬态度并没有表现出太多不满（斯大林可能更加重视东欧问题？或者他认为毛泽东作为大国领导人不好控制？）。毛泽东也在努力试探苏联会选择哪一方，但是没有成功，斯大林这时还不想对双方有任何实质性的承诺。斯大林关注的核心问题是东北和外蒙古的掌控权，而不是哪一方取得优势。对此，国民党和共产党都心知肚明。党中央在8月底9月初就开始命令部队占领东北小城市和农村（苏联红军驻扎在大城市），而当时国民党军队尚处在南方，只能干着急。共产党军队突然出现在东北给苏联红军造成了很大的困扰，国民党军队在9月也开始通过美军的军舰和飞机向东北增兵。苏联一方面公开表态，在苏联撤兵前，国共军队都不能进入东北，一方面私下又对共产党军队的行为睁一只眼闭一只眼。确定了美国支持国民政府后，苏联偏向共产党是自然的。</p><p>10月底，苏联迫于国际压力允许国民党军队从葫芦岛、营口登陆。与此同时，共产党约19万军队蓄势待发，准备在锦州-沈阳一线与国民党军队决一死战。然而斯大林的想法突然发生变化，11月10日他要求共产党军队禁止与国军有任何冲突，并且从沈阳等大城市撤出。首要原因是，国际形势迫使苏联向美国靠拢。共产党军队在力量对比和美苏压制下被迫退出大城市，但是这一趟并非无功而返，他们从苏联人手中拿到了大量的日本投降物资。此外，他们只是退出大城市，而并没有退出东北。在小城市与广大农村的坚实力量，成为日后内战的主力军。</p><blockquote><p>苏联出兵东北的条件：（1）外蒙古独立；（2）中长路经营权；（3）租用旅顺港</p><p>隐含条件：不同意就继续资助疆北叛变（<a href="https://zh.wikipedia.org/wiki/%E4%B8%89%E5%8C%BA%E9%9D%A9%E5%91%BD">三区革命</a>）</p></blockquote><h2 id="苏联退出东北后的事态发展">苏联退出东北后的事态发展</h2><p>1946年初，共产党和国民党签订停战协定，和平的曙光似乎就要到来，然而苏联态度的转变再次成为局势的转折点。苏联在东北问题上一直留有余地，不会过于偏离国共两党的任何一方。有了美国撑腰的国民政府在中苏谈判中更加强硬，坚决反对苏联“不准外国人和外国资本进入满洲”、“我们不能允许满洲成为另一个大国施加经济和政治影响力的场所”的观点。苏联还要求控制中长路和众多合资公司，国民政府也予以面谈。苏联军队在东北的种种恶劣行径（参考<a href="https://zh.wikipedia.org/wiki/%E5%8D%A2%E5%86%AC%E7%94%9F">卢冬生生平</a>、<a href="https://zh.wikipedia.org/wiki/%E5%BC%A0%E8%8E%98%E5%A4%AB">张莘夫生平</a>、<a href="https://zh.wikipedia.org/wiki/%E5%8F%8D%E8%8B%8F%E8%BF%90%E5%8A%A8">反苏运动</a>），雅尔塔会议的东北秘密协定曝光，苏联在撤退前大肆拆除和破坏东北工业设施，进一步引发了国内强烈的反苏浪潮。苏联开始支持共产党军队接管苏军撤出的城市，事态开始往战争的方向发展。事实上，这时候两党中哪一方依靠境外势力、想要分裂国家是很显然的。苏联不仅想要永远把大连占为己有，还暗中鼓动乔巴山策划在兴安岭和内蒙的独立运动。另一方面，苏联开始建议中共军队开始用武力夺取沈阳等大城市，但被毛泽东拒绝了，原因是苏联飘忽不定的态度导致中共中央对苏联的决策趋于谨慎。</p><p>然而美国和国民党对于东北的计划中完全把中共排除在外，这激怒了毛泽东。从3月中旬起，中共开始通过武力占领黑龙江和吉林两省，直逼沈阳。4月，苏联才开始撤军（之前一直以各种原因为由延缓撤军），其意图不能再明显（借助中共搅乱局势，以保障苏联在东北的利益）。已经提前接到通知的中共军队不费吹灰之力占领了哈尔滨、长春、齐齐哈尔三市。然而，国民党的美械部队很快占了上风，在四平一战胜于林彪部队。斯大林再一次向国民党展开微笑，然蒋介石自然不会再次上当。1946年6月，国民党将战线推至松花江，与共产党对峙。同时在华北、华中地区大举进攻解放区，全面内战爆发。</p><h2 id="目标明确，手段多变">目标明确，手段多变</h2><p>苏联在东北问题上如此飘忽不定，表明苏联的最核心的目标就是保障其在东北的权益，置于哪一方是中国的正统执政党，都是次要问题。所以二战结束后，苏联极力拉拢、控制国民党，又在国民党与美国走进后开始支持共产党，是完全可以解释的。</p>]]></content>
      
      
      <categories>
          
          <category> 历史 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 苏联史 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pytorch解决回归问题——以高次函数为例</title>
      <link href="/posts/8d88f5e2/"/>
      <url>/posts/8d88f5e2/</url>
      
        <content type="html"><![CDATA[<p>与分类问题的两个区别，首先是数据处理不同。这里使用torch直接构建三次函数作为labels，要注意的是，torch中的向量和张量的运算区分的非常严格，因此在进入神经网络前务必确保张量的shape满足计算规则。可以使用reshape或者unsqueeze函数调整维度</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义高次函数 y = 2x^3 + 3x^2 - 4x + 3</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">poly</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span> * x ** <span class="number">3</span> + <span class="number">3</span> * x ** <span class="number">2</span> - <span class="number">4</span> * x + <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成训练数据</span></span><br><span class="line">x_train = torch.linspace(-<span class="number">5</span>, <span class="number">5</span>, <span class="number">100</span>)</span><br><span class="line">y_train = poly(x_train)</span><br><span class="line">x_train = x_train.unsqueeze(<span class="number">1</span>)</span><br><span class="line">y_train = y_train.unsqueeze(<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>将x_train和y_train均调整至二维张量后，就可以开始NN的构建和训练了</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义神经网络模型</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PolyNet</span>(torch.nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(PolyNet, self).__init__()</span><br><span class="line">        self.fc1 = torch.nn.Linear(<span class="number">1</span>, <span class="number">10</span>)</span><br><span class="line">        self.fc2 = torch.nn.Linear(<span class="number">10</span>, <span class="number">10</span>)</span><br><span class="line">        self.fc3 = torch.nn.Linear(<span class="number">10</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        x = torch.relu(self.fc1(x))</span><br><span class="line">        x = torch.relu(self.fc2(x))</span><br><span class="line">        x = self.fc3(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">net = PolyNet()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义损失函数和优化器</span></span><br><span class="line">criterion = torch.nn.MSELoss()</span><br><span class="line">optimizer = torch.optim.Adam(net.parameters(), lr=<span class="number">0.01</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 训练循环</span></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10000</span>):</span><br><span class="line">    <span class="comment"># 前向计算</span></span><br><span class="line">    y_pred = net(x_train)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 计算损失</span></span><br><span class="line">    loss = criterion(y_pred, y_train)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 清零梯度、反向传播、更新参数</span></span><br><span class="line">    optimizer.zero_grad()</span><br><span class="line">    loss.backward()</span><br><span class="line">    optimizer.step()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 打印损失</span></span><br><span class="line">    <span class="keyword">if</span> epoch % <span class="number">1000</span> == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Epoch <span class="subst">&#123;epoch&#125;</span>, Loss <span class="subst">&#123;loss.item():<span class="number">.4</span>f&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 预测新数据，并可视化结果</span></span><br><span class="line">x_test = torch.linspace(-<span class="number">10</span>, <span class="number">10</span>, <span class="number">100</span>)</span><br><span class="line">y_pred = net(x_test.unsqueeze(<span class="number">1</span>)).squeeze()</span><br><span class="line">plt.plot(x_test.numpy(), y_pred.detach().numpy(), <span class="string">&quot;r-&quot;</span>, label=<span class="string">&quot;Prediction&quot;</span>)</span><br><span class="line">plt.plot(x_test.numpy(), poly(x_test).numpy(), <span class="string">&quot;o&quot;</span>, label=<span class="string">&quot;Ground Truth&quot;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/function_fiting_simple.webp" alt=""></p><p>这里的结果差得出乎意料，在train数据以外的点完全没有拟合上，泛化能力太差。这时我意识到如果神经网络的输入数据只有一个参数（列数为1）会极大地影响模型的拟合能力。将输入参数x拆分为x1、x2和x3，使用列数为3的x张量作为输入张量，结果明显好了许多，模型具有非常强大的泛化能力。</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/function_fitting_conplex.webp" alt=""></p><blockquote><p>再次强调：执行神经网络计算前一定要检查张量的维度是否匹配</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 深度学习 </tag>
            
            <tag> pytorch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pytorch解决简单的分类问题</title>
      <link href="/posts/92fd094d/"/>
      <url>/posts/92fd094d/</url>
      
        <content type="html"><![CDATA[<p>pytorch虽然实现了模块化，但是要想上手还真不容易；结合chatGPT辅助可以轻松很多（整个model都是chatGPT写的···）。整个结构包括数据读取、数据处理、模型构建和训练四个部分，模型的accuracy大致会稳定在98%/86%附近，毕竟整个结构过于简单，加上数据预处理和权值衰减应该会好很多。</p><p>这次没有单独设置权重/偏置初始化，torch会给一个初始值：偏置为均值为0、标准差为下式，偏置为0。in和out分别为上一层神经元数和下一层的神经元数。例如对于一个(784,128)的隐藏层， <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mrow><mi>i</mi><mi>n</mi></mrow></msub><mo>+</mo><msub><mi>n</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">n_{in}+n_{out}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 为784+128</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msqrt><mfrac><mn>2</mn><mrow><msub><mi>n</mi><mrow><mi>i</mi><mi>n</mi></mrow></msub><mo>+</mo><msub><mi>n</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi></mrow></msub></mrow></mfrac></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{\frac{2}{n_{in}+n_{out}}} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.44em;vertical-align:-0.8634em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5766em;"><span class="svg-align" style="top:-4.4em;"><span class="pstrut" style="height:4.4em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.5366em;"><span class="pstrut" style="height:4.4em;"></span><span class="hide-tail" style="min-width:1.02em;height:2.48em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='2.48em' viewBox='0 0 400000 2592' preserveAspectRatio='xMinYMin slice'><path d='M424,2478c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081l0 -0c4,-6.7,10,-10,18,-10 H400000v40H1014.6s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185c-2,6,-10,9,-24,9c-8,0,-12,-0.7,-12,-2z M1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8634em;"><span></span></span></span></span></span></span></span></span></span></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd </span><br><span class="line"><span class="keyword">from</span> torch.utils <span class="keyword">import</span> data</span><br><span class="line"><span class="keyword">from</span> torch <span class="keyword">import</span> nn</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 导入colab自带的mnist数据集</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">df_train = pd.read_csv(os.path.join(<span class="string">&quot;sample_data&quot;</span>,<span class="string">&quot;mnist_train_small.csv&quot;</span>))</span><br><span class="line">df_test = pd.read_csv(os.path.join(<span class="string">&quot;sample_data&quot;</span>,<span class="string">&quot;mnist_test.csv&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将数据分为mini-batch</span></span><br><span class="line"><span class="comment"># tensordataset函数将多个tensor打包为一个集合,然后使用dataloader函数划分数据</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">load_array</span>(<span class="params">data_arrays, batch_size, is_train=<span class="literal">True</span></span>):  </span><br><span class="line">    dataset = data.TensorDataset(*data_arrays)</span><br><span class="line">    <span class="keyword">return</span> data.DataLoader(dataset, batch_size, shuffle=is_train)</span><br><span class="line">batch_size = <span class="number">50</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 训练数据处理</span></span><br><span class="line">features = torch.tensor(df_train.values[:<span class="number">19900</span>, <span class="number">1</span>:], dtype=torch.float32)</span><br><span class="line">labels = torch.tensor(df_train.values[:<span class="number">19900</span>,<span class="number">0</span>],dtype = torch.float32)</span><br><span class="line">data_iter_train = load_array((features, labels), batch_size)</span><br><span class="line"><span class="comment">#　测试数据处理</span></span><br><span class="line">features = torch.tensor(df_test.values[:<span class="number">9900</span>, <span class="number">1</span>:], dtype=torch.float32)</span><br><span class="line">labels = torch.tensor(df_test.values[:<span class="number">9900</span>,<span class="number">0</span>],dtype = torch.float32)</span><br><span class="line">data_iter_test = load_array((features, labels), batch_size)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义初始化函数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">init_weights</span>(<span class="params">m</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">type</span>(m) == nn.Linear:</span><br><span class="line">        nn.init.normal_(m.weight, std=<span class="number">0.01</span>)</span><br><span class="line">        nn.init.constant_(m.bias, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义模型类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyModel</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(MyModel, self).__init__()</span><br><span class="line">        <span class="comment"># 定义网络结构</span></span><br><span class="line">        self.linear1 = nn.Linear(<span class="number">784</span>, <span class="number">128</span>)</span><br><span class="line">        self.relu = nn.ReLU()</span><br><span class="line">        self.linear2 = nn.Linear(<span class="number">128</span>, <span class="number">10</span>)</span><br><span class="line">        self.softmax = nn.Softmax(dim=<span class="number">1</span>)</span><br><span class="line">        <span class="comment"># 初始化权重和偏置</span></span><br><span class="line">        self.apply(init_weights)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        x = self.linear1(x)</span><br><span class="line">        x = self.relu(x)</span><br><span class="line">        x = self.linear2(x)</span><br><span class="line">        x = self.softmax(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">train_accuracy</span>(<span class="params">self, data_iter</span>):</span><br><span class="line">        correct = <span class="number">0</span></span><br><span class="line">        total = <span class="number">0</span></span><br><span class="line">        <span class="comment"># 不计算梯度</span></span><br><span class="line">        <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">            <span class="keyword">for</span> inputs, labels <span class="keyword">in</span> data_iter:</span><br><span class="line">                outputs = self(inputs)</span><br><span class="line">                _, predicted = torch.<span class="built_in">max</span>(outputs.data, <span class="number">1</span>)</span><br><span class="line">                total += labels.size(<span class="number">0</span>)</span><br><span class="line">                correct += (predicted == labels).<span class="built_in">sum</span>().item()</span><br><span class="line">        <span class="keyword">return</span> (correct / total) * <span class="number">100</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_accuracy</span>(<span class="params">self, data_iter</span>):</span><br><span class="line">        correct = <span class="number">0</span></span><br><span class="line">        total = <span class="number">0</span></span><br><span class="line">        <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">            <span class="keyword">for</span> inputs, labels <span class="keyword">in</span> data_iter:</span><br><span class="line">                outputs = self(inputs)</span><br><span class="line">                _, predicted = torch.<span class="built_in">max</span>(outputs.data, <span class="number">1</span>)</span><br><span class="line">                total += labels.size(<span class="number">0</span>)</span><br><span class="line">                correct += (predicted == labels).<span class="built_in">sum</span>().item()</span><br><span class="line">        <span class="keyword">return</span> (correct / total) * <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义超参数</span></span><br><span class="line">learning_rate = <span class="number">0.01</span></span><br><span class="line">num_epochs = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 实例化模型</span></span><br><span class="line">model = MyModel()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义损失函数和优化器</span></span><br><span class="line">criterion = nn.CrossEntropyLoss()</span><br><span class="line">optimizer = torch.optim.SGD(model.parameters(), lr=learning_rate)</span><br><span class="line"></span><br><span class="line">train_acc_list = []</span><br><span class="line">test_acc_list = []</span><br><span class="line"></span><br><span class="line"><span class="comment"># 训练模型</span></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(num_epochs):</span><br><span class="line">    <span class="keyword">for</span> i, (inputs, labels) <span class="keyword">in</span> <span class="built_in">enumerate</span>(data_iter_train):</span><br><span class="line">        <span class="comment"># 前向传播</span></span><br><span class="line">        outputs = model(inputs)</span><br><span class="line">        <span class="comment"># 计算损失</span></span><br><span class="line">        <span class="comment"># 将标记数据的数据类型转换为整数类型</span></span><br><span class="line">        labels = labels.long()</span><br><span class="line">        loss = criterion(outputs, labels)</span><br><span class="line">        <span class="comment"># 反向传播</span></span><br><span class="line">        optimizer.zero_grad()</span><br><span class="line">        loss.backward()</span><br><span class="line">        optimizer.step()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 每训练100个batchs打印一次日志</span></span><br><span class="line">        <span class="keyword">if</span> (i+<span class="number">1</span>) % <span class="number">99</span> == <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&#x27;Epoch [<span class="subst">&#123;epoch+<span class="number">1</span>&#125;</span>/<span class="subst">&#123;num_epochs&#125;</span>], Step [<span class="subst">&#123;i+<span class="number">1</span>&#125;</span>/<span class="subst">&#123;<span class="built_in">len</span>(data_iter_train)&#125;</span>], Loss: <span class="subst">&#123;loss:<span class="number">.4</span>f&#125;</span>&#x27;</span>)</span><br><span class="line">    train_acc = model.train_accuracy(data_iter_train)</span><br><span class="line">    test_acc = model.test_accuracy(data_iter_test)</span><br><span class="line">    train_acc_list.append(train_acc)</span><br><span class="line">    test_acc_list.append(test_acc)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;Epoch [<span class="subst">&#123;epoch+<span class="number">1</span>&#125;</span>/<span class="subst">&#123;num_epochs&#125;</span>], Train Accuracy: <span class="subst">&#123;train_acc:<span class="number">.2</span>f&#125;</span>%, Test Accuracy: <span class="subst">&#123;test_acc:<span class="number">.2</span>f&#125;</span>%&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制准确率随epoch变化的折线图</span></span><br><span class="line">plt.plot(<span class="built_in">range</span>(num_epochs), train_acc_list, <span class="string">&#x27;r-&#x27;</span>, label=<span class="string">&#x27;Train Accuracy&#x27;</span>)</span><br><span class="line">plt.plot(<span class="built_in">range</span>(num_epochs), test_acc_list, <span class="string">&#x27;b-&#x27;</span>, label=<span class="string">&#x27;Test Accuracy&#x27;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.xlabel(<span class="string">&#x27;Epoch&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;Accuracy(%)&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 深度学习 </tag>
            
            <tag> pytorch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>神经网络学习笔记</title>
      <link href="/posts/d14bfa85/"/>
      <url>/posts/d14bfa85/</url>
      
        <content type="html"><![CDATA[<p><strong>矩阵/向量相乘时数据种类必须相等</strong> ，在神经网络实现前务必将所有的输入信号、偏置、权重等转换为相同的dtype</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X.to(dtype = torch.float32)</span><br></pre></td></tr></table></figure><p>data.TensorDataset函数的作用是将输入数据和输出数据打包成数据集，方便紧接着使用data.DataLoader函数将数据集进一步划分为mini-batch。 <strong>data.TensorDataset的对象必须是tensor</strong> ，如果是numpy数据必须先转成tensor</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">load_array</span>(<span class="params">data_arrays, batch_size, is_train=<span class="literal">True</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;构造一个PyTorch数据迭代器&quot;&quot;&quot;</span></span><br><span class="line">    dataset = data.TensorDataset(*data_arrays)</span><br><span class="line">    <span class="keyword">return</span> data.DataLoader(dataset, batch_size, shuffle=is_train)</span><br><span class="line"></span><br><span class="line">train_features = torch.tensor(df_train.values[:<span class="number">19900</span>, <span class="number">1</span>:], dtype=torch.float32)</span><br><span class="line">train_labels = torch.tensor(df_train.values[:<span class="number">19900</span>,<span class="number">0</span>])</span><br><span class="line">train_iter = load_array((train_features, train_labels), batch_size)</span><br></pre></td></tr></table></figure><p>权重衰减是用来解决过拟合的，如果没有过拟合还要使用会发生准确率先升高然后迅速降低的惨剧；此外optimizer的选择也很重要，例如weight_decay=0.0001时，使用SGD完全无法拟合；使用Adam虽然最开始在90%左右，但随后会迅速下降到50%</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/limitation_weight_decay.webp" alt=""></p><p>def计算accuracy的函数时，记得关闭评估模式：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net.<span class="built_in">eval</span>()</span><br></pre></td></tr></table></figure><h1>神经网络构建、参数获取与层构建</h1><p>所有的神经网络结构都可以通过state_dict()获取dict类型的参数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">net = nn.Sequential(nn.Linear(<span class="number">2</span>,<span class="number">3</span>),nn.Linear(<span class="number">3</span>,<span class="number">2</span>))</span><br><span class="line"><span class="keyword">for</span> name,params <span class="keyword">in</span> net.state_dict().items():</span><br><span class="line">  <span class="built_in">print</span>(name,params)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">0.weight tensor([[ 0.2147, -0.6527],</span></span><br><span class="line"><span class="string">        [ 0.5213, -0.3930],</span></span><br><span class="line"><span class="string">        [ 0.5588, -0.4512]])</span></span><br><span class="line"><span class="string">0.bias tensor([-0.2639,  0.6153,  0.2351])</span></span><br><span class="line"><span class="string">1.weight tensor([[-0.0199,  0.1458,  0.3119],</span></span><br><span class="line"><span class="string">        [ 0.0921, -0.1958, -0.0245]])</span></span><br><span class="line"><span class="string">1.bias tensor([-0.4387, -0.0693])</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p>sequential构建的神经网络net，可以使用index调用net中的每一层；激活函数单列一层，因此index=1的层一般为激活函数，无法调出权重和偏置；</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net[<span class="number">0</span>].weight.grad</span><br></pre></td></tr></table></figure><p>如果使用class的属性定义层，则必须通过类名调用每一层</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">PolyNet</span>(torch.nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(PolyNet, self).__init__()</span><br><span class="line">        self.fc1 = torch.nn.Linear(<span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line">        self.fc2 = torch.nn.Linear(<span class="number">8</span>, <span class="number">4</span>)</span><br><span class="line">        self.fc3 = torch.nn.Linear(<span class="number">4</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">          x = self.fc1(x)</span><br><span class="line">          x = torch.relu(self.fc1(x))</span><br><span class="line">          x = torch.relu(self.fc2(x))</span><br><span class="line">          x = self.fc3(x)</span><br><span class="line">          <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">net = PolyNet()</span><br><span class="line"></span><br><span class="line">net[<span class="number">0</span>].weight.data    <span class="comment"># TypeError </span></span><br><span class="line">net.fc1.weight.data   <span class="comment"># tensor([[-0.2124,  0.3285,  0.0760]])</span></span><br></pre></td></tr></table></figure><p>如果既想用class定义，又想用index索引，可以使用modulelist，相当于一个list</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MultiLayerPerceptron</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, input_dim, hidden_dim, output_dim, num_hidden_layers</span>):</span><br><span class="line">        <span class="built_in">super</span>(MultiLayerPerceptron, self).__init__()</span><br><span class="line"></span><br><span class="line">        self.layers = nn.ModuleList()  </span><br><span class="line">        self.layers.append(nn.Linear(<span class="number">3</span>, <span class="number">1</span>))  </span><br><span class="line"></span><br><span class="line">        <span class="comment"># 添加多个相同类型的隐藏层</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num_hidden_layers-<span class="number">1</span>):</span><br><span class="line">            self.layers.append(nn.Linear(hidden_dim, hidden_dim))</span><br><span class="line">        </span><br><span class="line">        self.output_layer = nn.Linear(hidden_dim, output_dim) </span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="keyword">for</span> layer <span class="keyword">in</span> self.layers:</span><br><span class="line">            x = nn.functional.relu(layer(x))</span><br><span class="line">        </span><br><span class="line">        x = self.output_layer(x)</span><br><span class="line">        <span class="keyword">return</span> x</span><br></pre></td></tr></table></figure><p>通过nn.Module不仅可以自建神经网络，还可以自建层</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">oneslayer</span>(nn.Module):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,in_index,out_index</span>):</span><br><span class="line">    <span class="built_in">super</span>(oneslayer, self).__init__()</span><br><span class="line">    self.weight = nn.Parameter(torch.zeros(in_index,out_index))</span><br><span class="line">    self.bias = nn.Parameter(torch.ones(out_index,))</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x</span>):</span><br><span class="line">    <span class="keyword">return</span> torch.mm(x,self.weight.data)+self.bias.data</span><br><span class="line"></span><br><span class="line">layer = oneslayer(<span class="number">4</span>,<span class="number">3</span>)</span><br><span class="line">layer(torch.randn(<span class="number">2</span>,<span class="number">4</span>))</span><br></pre></td></tr></table></figure><h1>K-交叉验证</h1><p>深度学习使用的数据将分为训练数据、验证数据和测试数据。其中验证数据被用于检验和优化超参数，可以被调用多次。验证数据是用来测试模型的泛化误差，一般只使用一次。三者之间不能存在重复。一般获得的原始数据被划分为训练数据和验证数据，测试数据原则上需要另外寻找（甚至是一些并不知道答案的数据）。如果原始数据过少，训练数据和测试数据的数量并不好分配。常用的方法是K-交叉验证，将原始数据集分为K个子集，在K-1个子集上训练，然后用另一个子集验证，执行K次训练，最后取平均值估计误差。K一般取5或10.</p><h1>过拟合</h1><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/overfitting_and_underfitting.webp" style="zoom: 50%;" /><p>模型容量（模型复杂度）有两个主要影响因素：参数的个数和参数值的选择范围</p><p>数据复杂度的影响因素：样本个数、样本中的元素个数、时间/空间结构、多样性（如何分类）</p><h1>参数初始化</h1><p>梯度爆炸和梯度消失会产生许多问题。为了让梯度分布在合理的区间内，参数初始化是一个比较基础的方法，更高级的还有梯度归一化、resnet、LSTM等。梯度归一化的一个思想是假设所有的输出值和梯度为方差和均值保持一致的随机变量，这样输出和梯度都会分布在可控的区间内（没有激活函数）。基于这种假设可以推导出方差应该满足： $ \gamma_t = \frac{2}{n_{t-1}+n_t} $ ，n-1和n分别代表t层的输入维度数和输出维度数。</p><p>正态分布： $ \mathcal{N}\left(0, \sqrt{2 /\left(n_{t-1}+n_{t}\right)}\right) $<br>均匀分布： $ \mathcal{N}\left(0, \sqrt{2 /\left(n_{t-1}+n_{t}\right)}\right)\mathcal{U}\left(-\sqrt{6 /\left(n_{t-1}+n_{t}\right)}, \sqrt{6 /\left(n_{t-1}+n_{t}\right)}\right) $</p><blockquote><p>均匀分布 $ \mathcal{N} (-a,a)$ 的方差为 $ \frac{a^2}{3} $</p></blockquote><p>假设激活函数是线性函数（当然实际上不行），采用上述假设可以推导出激活函数必须为y=x。常见的激活函数中，sigmoid在0附近的泰勒展开为 $\frac{1}{2}+\frac{x}{4} $ ，因此效果不算好，可以使用4*sigmoid-2作为优化。tanh和relu函数在0附近都可以做y=x近似。</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/activation_function.webp" style="zoom:80%;" /><p>Xavier初始化使用正态分布，改进型Kaiming初始化对于ReLU函数使用均匀分布，对于其他激活函数使用正态分布。</p><h1>模型保存与参数读取</h1><p>pytorch实际上只有参数保存而没有模型框架保存，因此想要还原模型还必须知道NN框架，这里以<a href="https://kotobanoniwa.xyz/posts/b12fe7b5/">alex框架</a>为例。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 模型保存</span></span><br><span class="line">torch.save(net.state_dict(), <span class="string">&#x27;nn.params&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#这里需要创建一个与net完全相同的架构clone，然后从本地文件导入参数</span></span><br><span class="line">clone.load_state_dict(torch.load(<span class="string">&#x27;nn.params&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 然后就可以正常使用了</span></span><br><span class="line">clone.<span class="built_in">eval</span>()</span><br><span class="line"><span class="keyword">for</span> X, y <span class="keyword">in</span> train_iter:</span><br><span class="line">    <span class="built_in">print</span>(X.shape, y.shape)</span><br><span class="line">    <span class="keyword">with</span> torch.no_grad():</span><br><span class="line">      output=clone(X[:<span class="number">5</span>])</span><br><span class="line">      <span class="built_in">print</span>(output)</span><br><span class="line">      <span class="built_in">print</span>(torch.argmax(output,dim=<span class="number">1</span>))</span><br><span class="line">      <span class="built_in">print</span>(y[:<span class="number">5</span>])</span><br><span class="line">    <span class="keyword">break</span> </span><br></pre></td></tr></table></figure><h1>batch normalization</h1><p>在《深度学习入门(1)·斋藤康毅》书中对批量归一化就已经有了了解，这里主要是学习了pytorch中的实现。nn.BatchNorm2d函数主要参数为输入tensor的通道数num_features，这个值必须手动输入；其次还有极小量eps，防止在normalize步骤中分母为0，默认为1e-5</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/batch_normalization.png" style="zoom: 50%;" /><p>另外还有一个关键参数momentum。在计算下一个batch的均值和方差时，Batch Normalization会使用当前batch的均值和方差以及上一个batch的均值和方差之间的加权平均数来更新均值和方差的估计，这个加权平均数就是momentum。通常，动量取值在0.1到0.99之间。较大的动量值可以使Batch Normalization更加平稳，但可能会导致模型收敛速度变慢；较小的动量值可以使模型学习得更快，但可能会导致模型变得不稳定。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msub><mi>μ</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>γ</mi><mo stretchy="false">)</mo><msub><mi>μ</mi><mi>t</mi></msub><mo>+</mo><mi>γ</mi><msub><mi>μ</mi><mi>B</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><msubsup><mi>σ</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow><mn>2</mn></msubsup></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>γ</mi><mo stretchy="false">)</mo><msubsup><mi>σ</mi><mi>t</mi><mn>2</mn></msubsup><mo>+</mo><mi>γ</mi><msubsup><mi>σ</mi><mi>B</mi><mn>2</mn></msubsup></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}\mu_{t+1} &amp; =(1-\gamma) \mu_{t}+\gamma \mu_{B} \\\sigma_{t+1}^{2} &amp; =(1-\gamma) \sigma_{t}^{2}+\gamma \sigma_{B}^{2}\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0241em;vertical-align:-1.2621em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7621em;"><span style="top:-3.9221em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3979em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3053em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2621em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.7621em;"><span style="top:-3.9221em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.3979em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2621em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>关于batch normalization的总结</p><ol><li>可以加快收敛速度，但一般不会影响精度</li><li>与dropout无需同时使用</li></ol><h1>CPU与GPU</h1><h1>数据增强</h1><ul><li><p>翻转：左右翻转和上下翻转，但是要考虑物体是否适合反转</p></li><li><p>切割：随即高宽比、大小、位置</p></li><li><p>颜色：色调、饱和度、亮度</p></li></ul><h1>评估参数</h1><ul><li>true positive：正解正样本</li><li>true negative：正解负样本</li><li>false positive：错解正样本</li><li>false negative：错解负样本</li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi></mrow><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>P</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">precision = \frac{TP}{TP+FP}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal">rec</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">TP</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">FP</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">TP</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>r</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>l</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi></mrow><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>N</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">recall = \frac{TP}{TP+FN}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">rec</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">TP</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">FN</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">TP</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>a</mi><mi>c</mi><mi>c</mi><mi>u</mi><mi>r</mi><mi>a</mi><mi>c</mi><mi>y</mi><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>T</mi><mi>N</mi></mrow><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>T</mi><mi>N</mi><mo>+</mo><mi>F</mi><mi>N</mi><mo>+</mo><mi>F</mi><mi>P</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">accuracy = \frac{TP+TN}{TP+TN+FN+FP}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">cc</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">cy</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">TP</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">TN</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">FN</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">FP</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">TP</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">TN</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><msub><mn>1</mn><mi>n</mi></msub><mo>=</mo><mfrac><mrow><mn>2</mn><mo>×</mo><mi>p</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>×</mo><mi>r</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>l</mi></mrow><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>+</mo><mi>r</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>l</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">f1_n = \frac{2\times precision \times recall}{precision+recall}  </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2519em;vertical-align:-0.8804em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="mord mathnormal">rec</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">rec</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal">rec</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">rec</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">ll</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mn>1</mn><mtext> </mtext><mi>s</mi><mi>c</mi><mi>o</mi><mi>r</mi><mi>e</mi><mo>=</mo><mo stretchy="false">(</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><mo>∑</mo><mi>f</mi><msub><mn>1</mn><mi>n</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">f1\:score = (\frac{1}{n} \sum f1_n)^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">score</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-symbol large-op" style="position:relative;top:0em;">∑</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">y_pred = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br><span class="line">target = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br></pre></td></tr></table></figure><p>对于0类，TP = 1, TN = , FP = 1, FN = 1, precision = 0.5, recall = 0.5, f1 = 0.5<br>对于1类，TP = 1, TN = , FP = 1, FN = 1, precision = 0.5, recall = 0.5, f1 = 0.5<br>对于2类，TP = 1, TN = , FP = 0, FN = 0, precision = 1, recall = 1, f1 = 1</p><p>accuracy = 0.6, f1 score = 0.666</p><p>展示代码实现</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> classification_report</span><br><span class="line"></span><br><span class="line"><span class="comment"># 真实标签和预测标签</span></span><br><span class="line">y_true = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line">y_pred = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算指标</span></span><br><span class="line">target_names = [<span class="string">&#x27;class 0&#x27;</span>, <span class="string">&#x27;class 1&#x27;</span>, <span class="string">&#x27;class 2&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(classification_report(y_true, y_pred, target_names=target_names))</span><br></pre></td></tr></table></figure><p>一般代码实现</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> f1_score, accuracy_score</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">accuracy</span>(<span class="params">output, target</span>):</span><br><span class="line">    y_pred = torch.softmax(output, dim=<span class="number">1</span>)</span><br><span class="line">    y_pred = torch.argmax(y_pred, dim=<span class="number">1</span>).cpu()</span><br><span class="line">    target = target.cpu()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> accuracy_score(target, y_pred)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">calculate_f1_macro</span>(<span class="params">output, target</span>):</span><br><span class="line">    y_pred = torch.softmax(output, dim=<span class="number">1</span>)</span><br><span class="line">    y_pred = torch.argmax(y_pred, dim=<span class="number">1</span>).cpu()</span><br><span class="line">    target = target.cpu()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> f1_score(target, y_pred, average=<span class="string">&#x27;macro&#x27;</span>)</span><br></pre></td></tr></table></figure><h1>tensor转为图片可读格式</h1><p>通过torchvision的transforms或albumentations进行preprocess后，想看一下处理的结果，需要将tensor数据转为PIL库中image函数可以open或read的格式，也可以使用plt进行imshow。有三个方法：</p><ul><li>tensor——numpy——PIL</li></ul><p>这个方法很容易想到，也是最通用的。将tensor转为numpy后不能直接转为PIL，因为tensor中的元素一般介于-1到1之间，这样的数据必须先转换为[0,255]的uint8整数。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># img为tensor型数据</span></span><br><span class="line">img = np.array(img)</span><br><span class="line"><span class="comment"># +1 以避免出现负数，uint8为8位无符号整数</span></span><br><span class="line">img = ((img+<span class="number">1</span>)/<span class="number">2</span>*<span class="number">255</span>).astype(np.uint8)</span><br><span class="line"><span class="comment"># tensor的第二、三维度为高宽，但是PIL中第一、二维度为高宽</span></span><br><span class="line">img = img.transpose(<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>)</span><br><span class="line"><span class="comment"># 三通道图像必须指定mode为RGB，单通道可以不指定或“L”</span></span><br><span class="line">img = Image.fromarray(img,<span class="string">&#x27;RGB&#x27;</span>)</span><br><span class="line">img.show()</span><br></pre></td></tr></table></figure><ul><li>transforms内置函数ToPILImage</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">to_pil = transforms.ToPILImage(mode = <span class="string">&#x27;RGB&#x27;</span>)</span><br><span class="line">img = to_pil(img)</span><br><span class="line">img.show()</span><br></pre></td></tr></table></figure><ul><li>plt</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.imshow(img.permute(<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>))</span><br><span class="line"><span class="comment"># 由于tensor和plt的维度定义不同，需要进行转置</span></span><br></pre></td></tr></table></figure><h1>数据的转置</h1><p>由于处理方式的不同，图片矩阵在运算和传播过程中可能会出现通道的维度位置发生改变的情况，这时必须统一位置（我习惯于将通道置于第0维度）。numpy和torch的方法略有不同：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># torch</span></span><br><span class="line">img = imageio.v2.imread(<span class="string">&quot;/content/drive/MyDrive/data/dog.jpg&quot;</span>)</span><br><span class="line">img = torch.from_numpy(img)</span><br><span class="line"><span class="built_in">print</span>(img.shape)</span><br><span class="line"><span class="comment"># torch.Size([664, 1000, 3])</span></span><br><span class="line">img = img.permute(<span class="number">2</span>,<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(img.shape)</span><br><span class="line"><span class="comment"># torch.Size([3, 664, 1000])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># numpy</span></span><br><span class="line">img = img.transpose(<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 深度学习 </tag>
            
            <tag> pytorch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>苏联官册制度与影响——以住房分配为例</title>
      <link href="/posts/9aada751/"/>
      <url>/posts/9aada751/</url>
      
        <content type="html"><![CDATA[<h1>苏联官册制度和干部状况（1923-1929）</h1><h2 id="“等级官员名册”制度的诞生">“等级官员名册”制度的诞生</h2><p>新经济政策时期的两个变革——经济方面的市场机制恢复经济和政治方面的以任命制为核心的“等级官员名册”干部制度。<br>十月革命胜利到1923年11月官册制度实施前，苏俄对领导干部的任命经历了基层选举制（1917-1918）——动员+粗放任命制（1919-1921）——登记选择+相对任命制（1921-1923）的变化。</p><p>十月革命后，列宁依据马克思主义理论实行直接普选制，对一切公职人员毫无例外地实行全面选举制并可以随时替换 。国内战争开始后，迫于形势的需要，再加上由于俄国企图从未发达的封建国家跃迁到社会主义国家，群众政治意识远不足以实施普选制，基层选举制不久就夭折了。基于马克思主义，社会主义应当在资本主义发展到高水平时才能实现。这不仅意味着生产力达到足够高的水平，更代表着人民有充分的政治意识。正是基于以上两点，社会主义民主的关键手段——普选制度才能得以实现。</p><p>1918年列宁首次提出干部委派制，他认为“委派拥有独裁者无限权力的个别人员的这种办法”是同苏维埃政权的根本原则相一致的。1919年俄共布八大是苏联干部制度走向任命制的转折点。决议的主要内容为：党中央建立中央组织局，集中管理全部干部的分配与调动，反对地方主义。从1919年八大到1921年十大（即国内战争期间），实行军事动员——粗放任命制，即党员干部自愿前往热点地区。1921年十大以后，开始实行登记选择+相对任命制。其本意是中央通过档案登记，参与安排重要国家机关的干部，其余的交由下级党委负责。但是这种强硬的分配制完全忽视干部的实际能力和自身意愿，出现了无法胜任工作和不服从调动的状况。并且在实际操作中，甚至出现省委书记不通过中央任命的行为，即“相对任命制”，表明产生领导干部的方法相当混乱。</p><p>在官册制度确立的关键时期，许多党和国家的重要领导人都对干部制度中的某些原则进行了严厉批评，认为这是导致官僚主义产生的主要原因。尽管批评的声非常强烈，但大多针对的是挑选干部的标准以及干部决定权的归属问题，而最实质的问题——干部任命制本身并没有受到质疑。这从一个侧面说明，官册任命制的创立，的确为当时组织工作所需要。</p><p>到1925年11月底，中央组织局确定1、2、3号官册，分别对应联共布中央委员会直接提名和任命、部门提名与中央委员会确认、部门提名与任命。三者的比例大致为27.8%、29.4%、42.8%。由中央直接任命的官员占比为57.2%，在实际执行中中央又会操纵3号官册人员的任命，因此全国官员的任命完全集中于少数人手中。</p><h2 id="干部考察与任命标准">干部考察与任命标准</h2><p>考察标准可概括为三类：组织行政能力；文化和专业水平；政治素质。在大多数高层领导看来，政治成分显然是至关重要的。党的九大和十大都规定了提拔共产党员到重要岗位的阶级原则。干部任免事实上还成为斯大林夺取权力的杀手锏。自1922年担任中央书记处总书记以来，他不断扩大书记处的权力，在党的权力与地位迅速提升。另一方面，由于中央登记分配部（后改组为组织分配部）是书记处的下属机构，斯大林得以直接控制干部任免，将大量反对派干部调至边远地区或基层部门。从20年代初到20年代末，伴随着工人干部占比提高的是文化水平大幅度下降。1929年苏联全体最高管理者中，完成高等教育者仅有3.7%，初等教育和不识字者高达78.2%。</p><h2 id="领导干部的腐败">领导干部的腐败</h2><p>领导干部享有特权——党员将谋求个人私利作为入党目的。十月革命后，列宁即效仿巴黎公社，规定一切公职人员的工资不得高于熟练工人的平均工资，同时又非常模糊地表示会采取措施提高领导干部的物质生活。在工资之外，领导干部开始享受特殊待遇，与群众的生活差距开始加大。新经济政策实施后，经济管理权下放，再加上权力缺乏监督，出现了权力交易和贪污受贿的空间与条件。此外列宁认为：政治上有教养的人是不会贪污受贿的。在经济管理干部中的腐败现象主要有以下形式：</p><ol><li>浪费公款和赌博——大吃大喝，贪图享乐</li><li>贪污受贿和权钱交易——为自己和亲人谋取私利</li></ol><p>惩治腐败</p><ol><li>建立从中央到地方的反贪腐机关</li><li>党内惩治腐败</li><li>对触犯法律的腐化分子进行法律制裁</li></ol><p>短时间内看，以上惩治措施是卓有成效的。</p><h2 id="腐败回潮">腐败回潮</h2><p>苏维埃政权认为，社会主义社会不会产生犯罪和受贿，它们只存在旧社会和资本主义社会。可见其对腐败根源的认识有误区，因此缺乏同腐败作斗争的足够政治意志，更重要的是缺乏有效的政策。随着贪污现象得到一定的遏制，反腐中央委员会停办，1924起减弱了惩戒力度。另一方面，惩戒和法律本身带有严重的阶级倾向。很多受贿者、骗子和其他罪犯，仅仅因为他们是无产阶级出身，就在审判中免于处罚。1926年后，贪污案件数量再次剧增。</p><h1>住房分配中的干部特权(1920—1930)</h1><h2 id="国内战争期间">国内战争期间</h2><p>国内战争的破坏致使本就落后的俄国住房条件雪上加霜。布尔什维克的解决方案是推广住房公社，其原因在：1、共享厨房、食堂等空间，集中供暖，大大节约资源；2、符合意识形态要求，完成对人的意识与社会的改造。</p><p>十月革命后，领导干部也住进由大宾馆改造成的“住房公社”，包括苏维埃宾馆、苏维埃楼和斯莫尔尼贵族女子中学（条件最好）。后者除行政机关外，还有图书馆、阅览室、音乐学校、幼儿园等，约600名住户，占有725套住宅和594个房间。还有1000余人提供日常生活服务。可见这里的条件要远高于普通人的。苏维埃楼的条件同样远高于一般的住房公社，而一般能否居住在苏维埃楼则由官位等级决定。主要为各中央委员会委员、省委员会委员等。苏维埃旅馆较苏维埃楼和贵族女子中学低级，主要提供给一些党龄不长、职位不高的苏维埃和党的工作人员以及部分知识分子。</p><h2 id="新经济政策时期">新经济政策时期</h2><p>新经济政策使得国民经济开始恢复。1922年末到1923年初，领导干部纷纷搬出“住房公社”，享受独户。与之形成鲜明对比的是，普通居民直到1931年才结束集体宿舍生活。但令人疑惑的是，本文中列举的住房公社人数占总人口的占比并不多。以1923年的莫斯科为例，公社人数10万左右，而总人口接近150万，仅占6.6%。一种可能是住房公社本身依赖宿舍等公共空间，再加上资金匮乏，根本不可能短时间建成大量公社。30年代随着政治和经济的转折，住房政策发生改变，独户住宅时代开始。</p><p>综上所述：住房公社对领导干部和普通群众是两个完全不同的概念。对前者来说，公社只是一个临时避难所，一旦难关度过，他们就公然违背官方的宣传口径，迫不及待地享受独户。即便如此，他们的“相对禁欲主义”对普通群众的“绝对禁欲主义”来说都已经是一种奢望。1922年，十二大通过决议，要求切实提高各级干部的物质生活水平，这标志着其与普通群众居住条件的进一步拉大。即使在20年代初期一部分领导干部与普通群众住在同一栋楼，后来也采取一些手段构建独立化的居住空间，包括迁出普通居民和划定为某机关所属。</p><h2 id="别墅">别墅</h2><p>同领导干部的独户住宅一样，贵族别墅也有着严格的等级界限。高级官员可能拥有多套别墅，而低级官员或许只能去疗养院。这些别墅和疗养院都属于国家，由国家负责维修、保养，只需缴纳很少的房租。布尔什维克的领导人继承了沙俄时期贵族和资本家的住宅，以合法的名义。他们的挥霍能力比起资本家是有过之而无不及，毕竟是国家财产，不是自己的钱。电影院、马厩、花园、奇珍异物、温室、动物园、游泳池、运动场···</p>]]></content>
      
      
      <categories>
          
          <category> 历史 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 苏联史 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>线性代数基础</title>
      <link href="/posts/74e95c64/"/>
      <url>/posts/74e95c64/</url>
      
        <content type="html"><![CDATA[<h2 id="矩阵性质">矩阵性质</h2><h3 id="正交矩阵">正交矩阵</h3><p>两个向量满足 $ x^Ty=0 $，则称为相互正交。对于n为空间，最多有n个范数非零向量相互正交。当这些向量的范数全部为1时称为标准正交。正交矩阵指行向量和列向量分别标准正交的方阵</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>A</mi><mi>T</mi></msup><mi>A</mi><mo>=</mo><mi>A</mi><msup><mi>A</mi><mi>T</mi></msup><mo>=</mo><mi>I</mi></mrow><annotation encoding="application/x-tex">A^TA=AA^T=I </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8913em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8913em;"></span><span class="mord mathnormal">A</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span></span></span></span></span></p><h3 id="逆矩阵">逆矩阵</h3><h2 id="范数">范数</h2><p>范数(norm)是指将<strong>向量</strong>映射到非负值的函数，用来衡量向量大小，满足以下性质：</p><ol><li><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mo>→</mo><mi>x</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">f(x)=0 \rightarrow x=0 </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span></p></li><li><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mi>y</mi><mo stretchy="false">)</mo><mo>≤</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>+</mo><mi>f</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x+y)\le f(x)+f(y) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span></span></p></li><li><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>a</mi><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="normal">∣</mi><mi>a</mi><mi mathvariant="normal">∣</mi><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(ax)=|a|f(x) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span></p></li></ol><p>常用的 $ L^p $ 范数定义如下：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi mathvariant="normal">∣</mi><mi>p</mi></msub><mo>=</mo><mo stretchy="false">(</mo><munder><mo>∑</mo><mi>i</mi></munder><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mi>i</mi></msub><msup><mi mathvariant="normal">∣</mi><mi>p</mi></msup><msup><mo stretchy="false">)</mo><mfrac><mn>1</mn><mi>p</mi></mfrac></msup></mrow><annotation encoding="application/x-tex">||x||_p=(\sum_{i}|x_i|^p)^{\frac{1}{p}} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord">∣∣</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3277em;vertical-align:-1.2777em;"></span><span class="mopen">(</span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0368em;"><span style="top:-3.4458em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4829em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>其中 $ p\ge 1 $，p=2时称为欧几里得范数，表征向量原点出发到向量确定点的距离。平方 $ L^2 $ 范数是 $ L^2 $ 范数的平方，可以通过 $ x^Tx $ 计算。平方 $ L^2 $ 范数的优势是对一个元素的导数只与该元素本身有关。但是其在原点非常平缓，<strong>导致零和非常小的元素难以区分</strong>，这种情况下使用 $ L^1 $ 范数。$ L^{\infty} $ 范数(最大范数)也经常使用，其返回值为</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∞</mi></msub><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mi mathvariant="normal">∣</mi><msub><mi>x</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">||x||_{\infty} =max|x_i| </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣∣</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span></span></p><p>范数也可以拓展到矩阵领域，如frobenius范数类似于$ L^2$ 范数：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mi>A</mi><mi mathvariant="normal">∣</mi><msub><mi mathvariant="normal">∣</mi><mi>F</mi></msub><mo>=</mo><msqrt><mrow><munder><mo>∑</mo><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow></munder><msubsup><mi>A</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow><mn>2</mn></msubsup></mrow></msqrt></mrow><annotation encoding="application/x-tex">||A||_F=\sqrt{\sum_{i,j}A_{i,j}^2} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣∣</span><span class="mord mathnormal">A</span><span class="mord">∣</span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">F</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.04em;vertical-align:-1.588em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.452em;"><span class="svg-align" style="top:-5em;"><span class="pstrut" style="height:5em;"></span><span class="mord" style="padding-left:1em;"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.412em;"><span class="pstrut" style="height:5em;"></span><span class="hide-tail" style="min-width:1.02em;height:3.08em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='3.08em' viewBox='0 0 400000 3240' preserveAspectRatio='xMinYMin slice'><path d='M473,2793c339.3,-1799.3,509.3,-2700,510,-2702 l0 -0c3.3,-7.3,9.3,-11,18,-11 H400000v40H1017.7s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,606zM1001 80h400000v40H1017.7z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.588em;"><span></span></span></span></span></span></span></span></span></span></p><h2 id="矩阵求导">矩阵求导</h2><p>深度学习/机器学习一般只用标量对向量/矩阵的求导（好耶！）</p><h3 id="矩阵求导的核心思想">矩阵求导的核心思想</h3><ol><li>矩阵中任一因变量对任一自变量的求导，结果中元素个数由因变量和自变量数目的乘积确定，如对于下列矩阵，求导结果的元素个数为12( $ 2\times 6=12 $ )</li><li>矩阵求导的关键在行数与列数的确定：分母布局和分子布局是两种确定人为规定的确定方法，选择一种就好</li></ol><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>Y</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">∣</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>+</mo><msub><mi>x</mi><mn>2</mn></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>−</mo><msub><mi>x</mi><mn>2</mn></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>∗</mo><msub><mi>x</mi><mn>2</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msubsup><mi>x</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>x</mi><mn>2</mn><mn>2</mn></msubsup></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msubsup><mi>x</mi><mn>1</mn><mn>3</mn></msubsup><mo>+</mo><msubsup><mi>x</mi><mn>2</mn><mn>2</mn></msubsup></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msubsup><mi>x</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>x</mi><mn>2</mn><mn>3</mn></msubsup></mrow></mstyle></mtd></mtr></mtable><mo fence="true">∣</mo></mrow></mrow><annotation encoding="application/x-tex"> Y(X) = \begin{vmatrix} x_1+x_2 &amp; x_1-x_2 &amp; x_1*x_2\\ x_1^2+x_2^2 &amp; x_1^3+x_2^2 &amp; x_1^2+x_2^3\end{vmatrix}  </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.45em;"><span class="pstrut" style="height:4.4em;"></span><span style="width:0.333em;height:2.400em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.333em' height='2.400em' viewBox='0 0 333 2400'><path d='M145 15 v585 v1200 v585 c2.667,10,9.667,15,21,15c10,0,16.667,-5,20,-15 v-585 v-1200 v-585 c-2.667,-10,-9.667,-15,-21,-15c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v1200 v585 h43z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.45em;"><span class="pstrut" style="height:4.4em;"></span><span style="width:0.333em;height:2.400em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.333em' height='2.400em' viewBox='0 0 333 2400'><path d='M145 15 v585 v1200 v585 c2.667,10,9.667,15,21,15c10,0,16.667,-5,20,-15 v-585 v-1200 v-585 c-2.667,-10,-9.667,-15,-21,-15c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v1200 v585 h43z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><h3 id="分母布局">分母布局</h3><ol><li>求导结果的行数由分母（自变量）的行数确定</li><li>求导结果的列数由分子（因变量）的行数确定</li></ol><p>例如，对于m维列向量y和n维列向量x，基于分母布局，y对x的求导结果为(n,m):</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi mathvariant="normal">y</mi></mrow><mrow><mi mathvariant="normal">∂</mi><mi mathvariant="normal">x</mi></mrow></mfrac><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>y</mi><mn>1</mn></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mn>1</mn></msub></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>y</mi><mn>2</mn></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mn>1</mn></msub></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">…</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>y</mi><mi>m</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mn>1</mn></msub></mrow></mfrac></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>y</mi><mn>1</mn></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mn>2</mn></msub></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>y</mi><mn>2</mn></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mn>2</mn></msub></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">…</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>y</mi><mi>m</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mn>2</mn></msub></mrow></mfrac></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">⋱</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi><mi mathvariant="normal">⋮</mi><mpadded height="0em" voffset="0em"><mspace mathbackground="black" width="0em" height="1.5em"></mspace></mpadded></mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>y</mi><mn>1</mn></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>n</mi></msub></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>y</mi><mn>2</mn></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>n</mi></msub></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">…</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>y</mi><mi>m</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>n</mi></msub></mrow></mfrac></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\frac{\partial  \mathrm{y}}{\partial \mathrm{x}} = \left( \begin{array}{ccc} \frac{\partial y_1}{\partial x_1}&amp; \frac{\partial y_2}{\partial x_1}&amp; \ldots &amp; \frac{\partial y_m}{\partial x_1}\\  \frac{\partial y_1}{\partial x_2}&amp; \frac{\partial y_2}{\partial x_2} &amp; \ldots &amp; \frac{\partial y_m}{\partial x_2}\\   \vdots&amp;  \vdots &amp;  \ddots &amp; \vdots \\ \frac{\partial y_1}{\partial x_n}&amp; \frac{\partial y_2}{\partial x_n} &amp; \ldots &amp; \frac{\partial y_m}{\partial x_n}  \end{array} \right) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.0574em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathrm">x</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathrm" style="margin-right:0.01389em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:6em;vertical-align:-2.75em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.25em;"><span class="pstrut" style="height:8em;"></span><span style="width:0.875em;height:6.000em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='6.000em' viewBox='0 0 875 6000'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,2484c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-2492c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.246em;"><span style="top:-6.0013em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-4.6239em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.6788em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:-1.3866em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.746em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.246em;"><span style="top:-6.0013em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-4.6239em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.6788em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:-1.3866em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.746em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.246em;"><span style="top:-5.8138em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="minner">…</span></span></span><span style="top:-4.4364em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="minner">…</span></span></span><span style="top:-2.4913em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="minner">⋱</span></span></span><span style="top:-1.1991em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="minner">…</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.746em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.246em;"><span style="top:-6.0013em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-4.6239em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.6788em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mord">⋮</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span><span style="top:-1.3866em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.746em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.25em;"><span style="top:-5.25em;"><span class="pstrut" style="height:8em;"></span><span style="width:0.875em;height:6.000em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='6.000em' viewBox='0 0 875 6000'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,2409c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-2544c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.75em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>基于分母布局的向量对向量求导结果称为梯度矩阵。如果将它转置可以得到非常熟悉的jacobian矩阵，它是基于分子布局的求导结果，<strong>分母布局和分子布局的结果互为转置</strong></p><p>机器学习中的布局选择一般遵循以下原则：</p><ul><li>分母为标量：使用分子布局</li><li>分子为标量：使用分母布局</li><li>全部为矩阵/向量：自行决定</li></ul><h3 id="微分法">微分法</h3><p>公式有点难······过段时间再看······</p><h2 id="reference">reference</h2><ul><li>深度学习·伊恩古德费洛</li><li>youtube–计量经济学入门专题2——矩阵求导（分母布局）</li></ul>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 深度学习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>自然语言处理——推理方法</title>
      <link href="/posts/8acc63f2/"/>
      <url>/posts/8acc63f2/</url>
      
        <content type="html"><![CDATA[<h1>基于推理的方法————神经网络</h1><p>基于计数的方法需要对维度数为单词种类数的共现矩阵做SVD计算，这对于大量文字来说显然是难以实现的。基于推理的方法使用神经网络，每次只处理mini-batch，并且可以并行运算。基于推理的方法也是基于分布式假设，即单词的含义由上下文的单词构成，通过上下文推理出该位置应该出现哪个单词。</p><blockquote><p>尽管有一些加速SVD方法，如truncated SVD可以删去奇异值较小的部分</p></blockquote><p>神经网络无法直接处理字符串，需要将其转换为向量。可以选择one-hot(如下图)，将所有单词表示为输入向量。</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/deduction_neural_network.png" alt="deduction_neural_network"></p><h2 id="CBOW">CBOW</h2><h3 id="结构">结构</h3><p>CBOW是word2vec的一个神经网络模型，输入值为上下文的单词，类似于计数法中的window size。如果考虑上下文共n个单词，则输入向量有n个，中间层是各个输入层经过affine层转化后的平均，输入向量共享同一个权重 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mrow><mi>i</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">W_{in}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 。输出层与输入层的维度数相同，为全部单词种类数，经过softmax函数转化为概率</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/CBOW_neural_network.webp" alt="CBOW_neural_network"></p><blockquote><p>这里没有考虑偏置</p></blockquote><p>由上面的矩阵运算可知，输入权重和输出权重都可以作为单词的分布式表示。例如单词you的输入向量为(1,7)，与输入权重(7,3)相乘后得到矩阵(1,3)，中间层的向量存有you的信息(还有goodbye的信息)。然后与输出权重(3,7)相乘后得到输出向量(1,7)。这里蕴含的信息是，输入权重的每一行为单词的分布式表示，输出权重的每一列为单词的分布式表示。分布式表示方法中，最受欢迎的是输入权重，输出权重和二者的叠加也可以</p><h2 id="输入向量处理">输入向量处理</h2><p>首先要将通过preprocess获得的单词ID转化为上下文单词contexts和目标单词target。如对于say这个target，you和goodbye就是它的contexts</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">create_contexts_target</span>(<span class="params">corpus,window_size=<span class="number">1</span></span>):</span><br><span class="line">    contexts = []</span><br><span class="line">    target = corpus[window_size:-window_size]</span><br><span class="line">    <span class="keyword">for</span> index <span class="keyword">in</span> <span class="built_in">range</span>(window_size,<span class="built_in">len</span>(corpus)-window_size):</span><br><span class="line">        context = []</span><br><span class="line">        context.extend([corpus[index-<span class="number">1</span>],corpus[index+<span class="number">1</span>]])</span><br><span class="line">        contexts.append(context)</span><br><span class="line">    <span class="keyword">return</span> np.array(contexts),np.array(target)</span><br></pre></td></tr></table></figure><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/contexts_target.webp" alt="contexts_target"></p><p>然后需要将上述获得的矩阵转化为one-hot格式。对于一维向量target，转化结果为二维矩阵，而对于二维矩阵contexts，转化结果为三维矩阵。其中contexts[:,0]对应输入矩阵的上文，contexts[:,1]对应输入矩阵的下文。</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/convert_one_hot.webp" alt="convert_one_hot"></p><p>在上述内容的基础上，通过建立神经网络就可以开始学习了</p><h2 id="概率相关">概率相关</h2><p>联合概率 $ P(A,B) $，表示A和B同时发生的概率；后验概率 $ P(A|B) $ 表示B发生的前提下A发生的概率。基于以上两种定义可以给出CBOW模型的概率表示　$ P(W_t|W_{t-1},W_{t+1}) $ 。对mini-batch中的每一个数据计算交叉熵误差并求和可以得到误差表达式为下式；也可以换一种思路，将每一个元素的概率相乘，再计算交叉熵误差</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>L</mi><mo>=</mo><mo>−</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>T</mi></munderover><mi>l</mi><mi>o</mi><mi>g</mi><mi>P</mi><mo stretchy="false">(</mo><msub><mi>W</mi><mi>t</mi></msub><mi mathvariant="normal">∣</mi><msub><mi>W</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>W</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L=-\frac{1}{N} \sum_{t=1}^{T} logP(W_t|W_{t-1},W_{t+1}) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.0954em;vertical-align:-1.2671em;"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8829em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2671em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p>这个函数也称为negative log likelihood(负对数似然)，用来评估分类模型的性能</p><h2 id="skip-gram模型">skip-gram模型</h2><p>skip-gram模型的结构与CBOW模型刚好相反。CBOW是根据上下文推测目标词汇，而skip-gram是根据一个词汇推测上下文。CBOW的运算速度更快，但skip-gram在低频词和类推问题上更加出色。</p><h1>word2vec改进</h1><p>embedding层：优化输入层到中间层<br>负采样层：优化中间层到输出层</p><h2 id="embedding层">embedding层</h2><p>CBOW模型的输入信号是one-hot类型的，唯一的非零元素代表单词的index。当one-hot数据与输入权重求乘积时，本质上是把index对应的权重的行提取出来，因此无需做任何矩阵运算。使用embedding层替代原有的affine层，加快运算。正向传播时，跟根据index将对应行提取出来；反向传播时，根据保存的self.index将dh保存到对应行。需要注意的是，如果一个index出现多次，即一个单词在段落中出现多次，需要将dh累加。最简单的方法是将dh使用enumerate编号，遍历dh。但是矩阵的for循环很浪费时间，使用numpy内部函数更加方便</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/embedding_layer.webp" alt="embedding"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i, word_id <span class="keyword">in</span> <span class="built_in">enumerate</span>(self.idx):</span><br><span class="line">    dW[word_id] += dout[i]</span><br><span class="line"> </span><br><span class="line">np.add.at(dW, self.idx, dout)</span><br></pre></td></tr></table></figure><p>at函数的第一参数是目标矩阵，第二参数是目标矩阵索引，第三参数是要处理的矩阵，即将dout按照idx对应的dw中的行累加，如</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">6</span>).reshape(<span class="number">2</span>,-<span class="number">1</span>)</span><br><span class="line">b = np.array([<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>])</span><br><span class="line">np.add.at(a,<span class="number">0</span>,b)</span><br><span class="line"><span class="comment">#array([[3, 4, 5],</span></span><br><span class="line"><span class="comment">#       [3, 4, 5]])</span></span><br></pre></td></tr></table></figure><h2 id="负采样层">负采样层</h2><h3 id="正确解">正确解</h3><p>由输入信号经输入权重处理后获得的矩阵，行数为1，列数为中间层神经元数。输出权重为(中间层神经元数，单词种类数)，其与输入权重同样庞大，并且无法采用embedding那样的处理。这里的对策是将多分类问题转化为二分类问题，即从回答是哪一个单词到回答某指定单词是否正确。这样就可以将输出权重分散为列数为1的小矩阵（目标单词对应的index），其与中间层矩阵相乘的结果为一个数，表示是否为该单词的概率。采用二分法处理后，affine层的激活函数由softmax函数调整为sigmoid函数，则交叉熵误差可以表示为 $ L=-(t\ lny+(1-t)\ ln(1-y)) $ ，t取0或1。</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/embedding_output.webp" alt="output"></p><blockquote><p>为什么使用sigmoid函数？</p></blockquote><ol><li>计算成本比softmax低</li><li>值分布为(0,1)，正好为概率分布</li></ol><p>具体的实现方法如下：假设单词种类数为7，mini-batch为4，则输入信号为(4,7)；中间层神经元数为3，则输入权重为(7,3)，二者的点积h为(4,3)；输出权重为(3,7)，在经过转置后使用embedding层提取指定index行的元素（因为输出权重的每一列为分布式表示，所以需要转置），结果target_W为(4,3)；这里将target_W直接与h进行对应元素相乘，然后按列求和，还原了mini-batch为1（即输入矩阵行数为1）时的向量点积过程。</p><blockquote><p>target_W的每一行表示一个词汇，h的每一行代表输入样本，二者的乘积代表词汇和样本的相似度，求和可以获得总相似度</p></blockquote><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/embedding_binary.webp" alt="输出层优化"></p><h3 id="错误解">错误解</h3><p>除正确解的概率接近1外，还需要错误解的概率接近0。关于为什么不能只学习正确解，chatgpt给出的答案是，模型会偏向于输出高频单词而非预测单词。错误解既不能选择全部，也不能像mini-batch那样随机选择，而是要根据出现频率进行删选。具体方式是通过random.choice函数，给出单词ID列表corpus、负采样size和概率分布的次方值power（后面会说）；根据corpus计算每个单词的出现次数，然后计算出现频率。这里引入power(&lt;1)是为了调整概率分布，适当缩小小概率元素和大概率元素出现的频率。power的用法是将所有的出现次数进行power次方化，然后计算变换后的概率。choice函数的用法如下：p中0、3、4号元素的值比较大，所以出现概率也会高一点</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">p = np.random.randint(<span class="number">1</span>,<span class="number">10</span>,[<span class="number">20</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p</span><br><span class="line">array([<span class="number">7</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">6</span>, <span class="number">6</span>])</span><br><span class="line"></span><br><span class="line">power = <span class="number">0.75</span></span><br><span class="line">p = np.power(p,power)</span><br><span class="line">p /= np.<span class="built_in">sum</span>(p)</span><br><span class="line"><span class="comment"># choice选择</span></span><br><span class="line">a = np.arange(<span class="number">20</span>)</span><br><span class="line">np.random.choice(a,p=p,size=<span class="number">3</span>,replace=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 深度学习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>自然语言处理——计数方法</title>
      <link href="/posts/6edc6e28/"/>
      <url>/posts/6edc6e28/</url>
      
        <content type="html"><![CDATA[<h1>绪论</h1><h2 id="计算高速化">计算高速化</h2><p>python和numpy中float的存储方式包括64、32和16，默认使用float64。但是float32占用更小的内存，且能够保证大致的准确度，因此在深度学习中经常使用。16位也可以保证较高的准确度，但由于GPU仅支持32位，所以不采用。google-colab上有提供TPU，可以支持至8位。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.random.random([<span class="number">3</span>,<span class="number">4</span>]).astype(np.float32)</span><br><span class="line">a.dtype     <span class="comment">#dtype(&#x27;float32&#x27;)</span></span><br></pre></td></tr></table></figure><h2 id="自然语言">自然语言</h2><p>人类语言称为自然语音，而自然语言处理的目的是让计算机理解人类语言。同义词词典是一种人工定义的单词网络。随着深度学习的出现，这种耗费巨大人力的方法已经不再是最佳选择。</p><h1>基于计数的方法</h1><h2 id="预处理">预处理</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="comment"># method1</span></span><br><span class="line">text = <span class="string">&quot;I like python.&quot;</span></span><br><span class="line">text.lower()</span><br><span class="line">text=text.replace(<span class="string">&#x27;.&#x27;</span>,<span class="string">&#x27; .&#x27;</span>)</span><br><span class="line">text.split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># method2(recommended)</span></span><br><span class="line">text = <span class="string">&quot;I like python.&quot;</span></span><br><span class="line">text.lower()</span><br><span class="line">regex = re.<span class="built_in">compile</span>(<span class="string">r&quot;\W+&quot;</span>)</span><br><span class="line">b = re.split(regex,text)</span><br><span class="line"></span><br><span class="line"><span class="comment"># preprocess function</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">preprocess</span>(<span class="params">text</span>):</span><br><span class="line">    text = text.lower()</span><br><span class="line">    regex = re.<span class="built_in">compile</span>(<span class="string">r&quot;\W+&quot;</span>)</span><br><span class="line">    words = re.split(regex,text)</span><br><span class="line">    </span><br><span class="line">    word2id = &#123;&#125;</span><br><span class="line">    id2word = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> word <span class="keyword">in</span> words:</span><br><span class="line">        <span class="keyword">if</span> word <span class="keyword">not</span> <span class="keyword">in</span> word2id:</span><br><span class="line">            new_id = <span class="built_in">len</span>(word2id)</span><br><span class="line">            word2id[word] = new_id</span><br><span class="line">            id2word[new_id] = word</span><br><span class="line">    corpus = np.array([word2id[w] <span class="keyword">for</span> w <span class="keyword">in</span> words])</span><br><span class="line">    <span class="keyword">return</span> corpus,word2id,id2word</span><br></pre></td></tr></table></figure><h2 id="分布式表示">分布式表示</h2><p>分布式假设(distributional hypothesis)：单词含义由上下文（周围的单词）决定<br>分布式表示：向量表示单词,就像用三维RGB矩阵表示颜色一样<br>窗口大小(window size)：要考虑的上下文的单词数</p><p>对’you say goodbye and i say hello’这句话使用分布式表示，window size为1：</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/co-occurence_matrix.png" alt="co-occurence_matrix"></p><p>由频数向量组成的矩阵称为共现矩阵(co-occurence matrix)，下面的代码实现了从corpus获得共现矩阵</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">create_co_matrix</span>(<span class="params">corpus,vocabulary_size,window_size=<span class="number">1</span></span>):</span><br><span class="line">    corpus_size = <span class="built_in">len</span>(corpus)</span><br><span class="line">    co_matrix = np.zeros([vocabulary_size,vocabulary_size],dtype=np.int32)</span><br><span class="line">    <span class="keyword">for</span> index,word_id <span class="keyword">in</span> <span class="built_in">enumerate</span>(corpus):</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,window_size+<span class="number">1</span>):</span><br><span class="line">            left_index = index - i</span><br><span class="line">            right_index = index + i</span><br><span class="line">            <span class="keyword">if</span> left_index&gt;=<span class="number">0</span>:</span><br><span class="line">                left_word_id = corpus[left_index]</span><br><span class="line">                co_matrix[word_id][left_word_id] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> right_index&lt;corpus_size:</span><br><span class="line">                right_word_id = corpus[right_index]</span><br><span class="line">                co_matrix[word_id][right_word_id] += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> co_matrix</span><br></pre></td></tr></table></figure><h2 id="向量相似性">向量相似性</h2><p>共现矩阵的向量表示每一个单词的特征，通过余弦相似度可以得到向量间的相似性。其计算方法为对x和y归一化后点积。为避免0作为分母，引入极小量eps</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>s</mi><mi>i</mi><mi>m</mi><mi>i</mi><mi>l</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>t</mi><mi>y</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><msub><mi>x</mi><mn>1</mn></msub><msub><mi>y</mi><mn>1</mn></msub><mo>+</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo>+</mo><msub><mi>x</mi><mi>n</mi></msub><msub><mi>y</mi><mi>n</mi></msub></mrow><mrow><msqrt><mrow><msubsup><mi>x</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo>+</mo><msubsup><mi>x</mi><mi>n</mi><mn>2</mn></msubsup></mrow></msqrt><mo>+</mo><msqrt><mrow><msubsup><mi>y</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo>+</mo><msubsup><mi>y</mi><mi>n</mi><mn>2</mn></msubsup></mrow></msqrt></mrow></mfrac></mrow><annotation encoding="application/x-tex">similarity(x,y)=\frac{x_1y_1+···+x_ny_n}{\sqrt{x_1^2+···+x_n^2}+\sqrt{y_1^2+···+y_n^2}}  </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">imi</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3903em;vertical-align:-1.13em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2603em;"><span style="top:-2.1602em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9498em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mord">+</span><span class="mpunct">⋅⋅⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">+</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.9098em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2902em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9498em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mord">+</span><span class="mpunct">⋅⋅⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">+</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.9098em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2902em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">+</span><span class="mpunct">⋅⋅⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">+</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.13em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">cos_similarity</span>(<span class="params">x,y,eps=<span class="number">1e-8</span></span>):</span><br><span class="line">    nx = x / (np.sqrt(np.<span class="built_in">sum</span>(x ** <span class="number">2</span>)) + eps)</span><br><span class="line">    ny = y / (np.sqrt(np.<span class="built_in">sum</span>(y ** <span class="number">2</span>)) + eps)</span><br><span class="line">    <span class="keyword">return</span> np.dot(nx, ny)</span><br></pre></td></tr></table></figure><p>可以通过比较两向量间的余弦相似度比较单词的相似性</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">most_similar</span>(<span class="params">query, word_to_id, id_to_word, word_matrix, top=<span class="number">5</span></span>):</span><br><span class="line">    <span class="keyword">if</span> query <span class="keyword">not</span> <span class="keyword">in</span> word_to_id:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;%s is not found&#x27;</span> % query)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;\n[query] &#x27;</span> + query)</span><br><span class="line">    query_id = word_to_id[query]</span><br><span class="line">    query_vec = word_matrix[query_id]</span><br><span class="line"></span><br><span class="line">    vocab_size = <span class="built_in">len</span>(id_to_word)</span><br><span class="line"></span><br><span class="line">    similarity = np.zeros(vocab_size)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(vocab_size):</span><br><span class="line">        similarity[i] = cos_similarity(word_matrix[i], query_vec)</span><br><span class="line"></span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> (-<span class="number">1</span> * similarity).argsort():</span><br><span class="line">        <span class="keyword">if</span> id_to_word[i] == query:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27; %s: %s&#x27;</span> % (id_to_word[i], similarity[i]))</span><br><span class="line"></span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> count &gt;= top:</span><br><span class="line">            <span class="keyword">return</span></span><br></pre></td></tr></table></figure><p>argsort函数可以按照升序返回index，因此前面加上负号后就是降序</p><h2 id="点互信息">点互信息</h2><p>点互信息(pointwise mutual information)，是另一种用于描述单词间关联性的指标。设想在一段文字中，诸如定冠词the或不定冠词a/an之类的词汇很多，这些词语与后面跟的名词的向量相似性非常强，但是the/a/an并不是我们真正关心的对象，实际上与car关联的drive等才是目标对象！为了抛开这种影响需要引入点互信息：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mi>M</mi><mi>I</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mfrac><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">PMI(x,y)=log_2 \frac {P(x,y)}{P(x)P(y)} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">PM</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>上式的右半部分曾经在概率中接触过，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(x,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span> 表示x和y事件同时发生的概率，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span> 可以类比得到。使用共现矩阵可以表示为</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mi>M</mi><mi>I</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mfrac><mrow><mi>C</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>×</mo><mi>N</mi></mrow><mrow><mi>C</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi>C</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">PMI(x,y)=log_2 \frac{C(x,y)\times N}{C(x)C(y)} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">PM</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>其中C为共现矩阵，C(x,y)表示x和y的共现矩阵元素，N表示语料库的单词数量（共现矩阵sum）。为了避免共现次数为0导致的-inf问题，可以引入正点互信息PPMI</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mi>P</mi><mi>M</mi><mi>I</mi><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>P</mi><mi>M</mi><mi>I</mi><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">PPMI=max(PMI,0) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">PPM</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">PM</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span></span></p><h2 id="奇异值分解">奇异值分解</h2><p>酉矩阵（实数）的定义是一个方阵和其转置的点积为单位矩阵</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>U</mi><mi>T</mi></msup><mi>U</mi><mo>=</mo><mi>I</mi></mrow><annotation encoding="application/x-tex">U^TU=I </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8913em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>U</mi><msup><mi>U</mi><mi>T</mi></msup><mo>=</mo><mi>I</mi></mrow><annotation encoding="application/x-tex">UU^T=I </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8913em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span></span></span></span></span></p><p>奇异值分解(SVD)是一种矩阵的降维方法，其可以将任意的(m,n)矩阵分解为三个矩阵的乘积</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>X</mi><mo>=</mo><mi>U</mi><mi>S</mi><msup><mi>V</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">X=USV^T </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8913em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span></p><p>其中X为待分解矩阵(m,n)，U为(m,m)方阵，S为(m,n)的单位矩阵，T为(n,n)方阵。S的对角线元素称为奇异值(singular value)数学求解方法还没有看，毕竟python能直接计算···大致流程是通过计算 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><msup><mi>X</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">XX^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>X</mi><mi>T</mi></msup><mi>X</mi></mrow><annotation encoding="application/x-tex">X^TX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> 的特征值可以得到奇异值。SVD处理过程如下图所示：U矩阵被视为“单词空间”，构成了空间基轴；S矩阵中奇异值按降序排列，且下降得特别快，前几个值就可以近似描述原始矩阵；因此可以去除U矩阵中的部分列实现降维。如我们认为S矩阵中的前k个值可以表示X矩阵，则U矩阵可以只保留前k列（即图中的 $ U^{'} $）。若k为2，则可以将多维共现矩阵转化为2为矩阵</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/SVD-PPMI.png" alt="SVD-PPMI"></p><h2 id="summary">summary</h2><p>本节的内容主要是将一段文字转化为单词的特征向量组成的矩阵。首先通过preprocess获得单词与id的索引以及语料库corpus；通过分布式表示处理corpus获得共现矩阵，这里就获得了最原始的特征向量矩阵(维度数为单词种类数)；通过点互信息和奇异值分解对共现矩阵做进一步处理，最后通过余弦相似度比较单词的相似性</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">corpus,word2id,id2word = preprocess(<span class="string">&#x27;You say goodbye and I say hello.&#x27;</span>)</span><br><span class="line">co_matrix = create_co_matrix(corpus,<span class="built_in">len</span>(corpus),window_size=<span class="number">1</span>)</span><br><span class="line">PPMI = ppmi(co_matrix)</span><br><span class="line"><span class="comment">#np.set_printoptions(precision=3)</span></span><br><span class="line">U,S,V  = np.linalg.svd(PPMI)</span><br><span class="line">word_vec = U[:,:<span class="number">2</span>]</span><br><span class="line">querys = [<span class="string">&#x27;you&#x27;</span>,<span class="string">&#x27;goodbye&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> query <span class="keyword">in</span> querys:</span><br><span class="line">    most_similar(query,word2id,id2word,word_vec,top=<span class="number">3</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 深度学习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>共产国际的解散</title>
      <link href="/posts/23474/"/>
      <url>/posts/23474/</url>
      
        <content type="html"><![CDATA[<p>本篇来自《一个大国的崛起与崩溃——苏联历史专题研究（1917-1991）》，作者为沈志华。</p><h1>共产国际（第三国际）</h1><p>根据马克思主义理论，社会主义革命是世界性的，至少会在西欧等文明国家同时发生，共产国际正是在这样一种理论下于1919年建立的。1920年，国内战争的胜利使无数共产主义者看到了社会主义革命的希望，共产国际通过了发动世界革命的决议。1923年革命风暴的平息和西欧资本主义的稳步发展，使得苏共·共产国际对世界革命的看法有了分歧。托洛茨基和季诺维耶夫·加米涅夫代表的两大反对派坚持世界革命，对斯大林的“一国社会主义论”进行了猛烈批判。然而他们既没有斯大林那么强硬的政治手腕，在理论上也过于脱离实际，最终败给了斯大林。随后共产国际在斯大林领导下逐渐由一个世界革命组织转变为控制各国共产党的工具。</p><p>1929年资本主义经济危机，共产国际抓住机会宣传“法西斯主义是一种革命和民主的组织”（指相对于资产阶级政府和社会民主主义），希望借此发动世界革命推翻资产阶级政府。1933年德国法西斯成为苏联的头号威胁时，共产国际又开始批判法西斯主义剥夺了民主，要求各国共产党与政府合作，建立反法西斯主义阵线。1938年苏联与英法的谈判迟迟无果，转而与德国签订秘密协定后，共产国际又开始命令各国共产党反政府、反战争、淡化反法西斯宣传。这种180度的大转弯搞得各国共产党内部的意见无法统一，共产国际的权威性大受影响，俨然成了一个笑柄。</p><h1>二战中的共产国际</h1><p>1941年苏共内部就出现质疑共产国际存在意义的质疑声。并且日丹诺夫和共产国际高层还商讨了解散共产国际的充分理由：<strong>不给资本主义阵营留以把柄，即共产党是服从于国外组织的叛徒</strong>；使各国共产党真正成为本国人民的党。但是在斯大林看来，解散共产国际最重要的原因是国际形势扑朔迷离，世界革命看不到希望，无论选择英法还是德国，都必须与借助资本主义的力量保证自身的安全。此外，共产国际在各国的权威性大幅度受损，无助于团结各国共产党。</p><p>6月苏德战争爆发后，共产国际的倾向完全转变由世界革命转向民族国家利益，并且愈发成为斯大林与英美合作的绊脚石。另一方面，共产国际也制约了各国共产党的发展。例如中国共产党和南斯拉夫共产党希望将反法西斯战争同社会主义革命相结合，遭到共产国际的断然否认。因此在1941-1942年法西斯占据优势的时期，共产国际陷入低谷，处于半死不活的状态。另一个相关事件是，1942年苏联和英国划分战后势力范围，苏联为了促使英国在欧洲大陆登陆不惜牺牲自己的领土要求。但彼时英国深陷北非战役，无力帮助苏联。</p><p>1943年起，二战形势开始变化。斯大林格勒战役结束后，苏军开始反攻，共产国际又忙活了起来。5月北非战役结束，英美计划开辟第二战争，但是4月曝光的卡廷事件又给盟军关系造成阴影。在这种形势下，斯大林必须做出让步以回应英国的不满。5月14日，丘吉尔到达华盛顿会见罗斯福，斯大林急于让西方盟友知道共产国际将要解散，但又担心会引起各国共产党的涣散。在此之前的5月8日，莫洛托夫受斯大林执意向共产国际的两个领导人季米特洛夫和马努伊尔斯基传达了解散共产国际的计划。12日，共产国际内部召开会议通报解散事宜，大多数人表示支持。19日，苏共高层会议，斯大林将解散的缘由推给某些支部（推卸责任），并确定在10天后正式公开。结果第二天斯大林就打电话给季米特洛夫，希望他当天就告知给各党的领导人，斯大林已经等不及了。22日，《真理报》率先公布了这一消息，斯大林迫不及待地向记者解释解散共产国际的原因（本节第一段加粗文字）。季米特洛夫打算在得到绝大多数支部的认可后宣布正式解散，但斯大林又双叒叕不耐烦了，追问必须要等到所有党表明态度吗？最终季米特洛夫只得同意在6月8日前召开会议。最终，《真理报》在6月10日刊登了31个支持解散的支部名单和共产国际的决议，共产国际正式解散。</p><h1>放弃世界革命</h1><p>共产国际解散后，原有附属组织和工作人员并没有被撤销/解雇，而是整体迁移到了新的组织——联共(布)中央国际情报部和中央国际部，季米特洛夫继续担任国际情报部的副部长和国际部的部长。但是据此得出斯大林是演戏给西方看的说法是不符合事实的。首先，从种种言行中可以看出斯大林已经放弃了世界革命的相法，如1944年取消将《国际歌》作为国歌、抹去共产国际的痕迹（甚至连路名都不放过）、1944年与丘吉尔会谈时明确表明不再发动欧洲革命。斯大林希望苏联能够融入国际社会，与资本主义大国共同建立和平体制。既然放弃世界革命，共产国际作为一个组织就完全失去了存在意义。</p>]]></content>
      
      
      <categories>
          
          <category> 历史 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 苏联史 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>音乐收藏</title>
      <link href="/posts/52394/"/>
      <url>/posts/52394/</url>
      
        <content type="html"><![CDATA[<p>自己倾向于在一段时间反复的听一首或几首歌（比如今天就突然想听大概一两年前特别喜欢的歌），呈现出明显的周期性，所以就想着记录一下（实际上也是音乐取向）</p><h2 id="魔法少女小圆">魔法少女小圆</h2><p>今天就是魔圆回顾专场，最近一个月每天都在听！整理了一下魔圆六个作品集中特别喜欢的歌曲，并且放到了自己的网站充当背景音乐。每一首都是百听不厌的经典！最喜欢的有we’re here for you, her new wings, <strong>her wings</strong>, happy ending, i miss you, rebirth, prelude to act 2, Nux Walpurgis, Terror adhaerens, Credens justitiam, Numquam vincar,fateful #4</p><h2 id="乃木坂46">乃木坂46</h2><p>时间：2017-2021，主推堀未央奈、北野日奈子（两人毕业后就退坑了），最仰慕的成员是橋本奈々未（入坑契机），即使已经隐退，乃团仍然充满着她的个人魅力。最喜欢サヨナラの意味（毫无疑问的最神曲且没有之一！），之后是冷たい水の中（最喜欢的solo曲）、きっかけ、命は美しい、いつかできるから今日できる、シンクロニシティ、別れ際はもっと好きになる、もう少しの夢。每次听到乃团的歌都会想起回不去的高中生活，回想起有乃团音乐陪伴下的每一天，好怀念啊！乃木坂46真真切切地改变了我的人生轨迹印象：首次接触日本的三次元文化；开始学日语；2018年6月膝盖因为运动受伤而做手术后，是命は美しい伴我度过一个个难熬的夜晚；竞赛结束回归高考的艰难时期，是いつかできるから今日できる和シンクロニシティ一次次让我从低谷中站起来；2018年底上海演唱会，沉醉于帰り道は遠回りしたくなる之中，甚至还为此和自己非常喜欢的老师吵了一架；2019年上半年，是キャラバンは眠らない和僕だけの光让我坦然面对。</p><h2 id="魔法使いの夜">魔法使いの夜</h2><p>魔夜的纯音乐真的是艺术品（在我心目中比肩魔圆的存在），在2021、2022年经常听，最喜欢的有蒼崎青子、five、久遠寺有珠、10th symphony type/MOON</p><h2 id="ClariS">ClariS</h2><p>除乃木坂46外最喜欢的女性团体，因为魔圆而了解。最喜欢的有コネクト（the first take ver. 完美还原魔圆永恒的物语结尾的交响乐！）、ひらひらひらら（一番大好き！）、忘れてもないよ、ルミナス、明日春が来たら、オルゴール</p><h2 id="雨宫天">雨宫天</h2><p>非常喜欢的一位女性声优，因为魔圆而了解，在2022年暑假期间每天都听。最喜欢的有paradox（the first take ver. 最佳好评！）、羽根輪舞（优雅）、フリイジア（一番大好き！）、ぽつり愛（新歌，最近单曲循环中）</p><h2 id="魔圆外传">魔圆外传</h2><p>与魔圆本篇一脉相承，音乐也是相当地出色，2022年暑期和下半学期经常听。最喜欢的有inception、intermediate（一番大好き！）、anxiety、wings of magius、叶えちゃお、山茶花の跡、revive</p><h2 id="无归属纯音乐篇">无归属纯音乐篇</h2><p>由于没有太多共同特征，因此只是准备列举一下：</p><ul><li>古典风格     miyako(from the album ancient city 2)、verdurous mountains（充满东方韵味的古典风格音乐）、brookside、love(S.E.N.E)、風のように、夜明、</li><li>火影忍者     五月雨</li><li>刀剑神域     swordland、a tender feeling、luminous sword</li><li>你的名字     theme of mitsuha（一首把我带入二次元世界的音乐）</li><li>缘之空       遠い空へ</li><li>怪物猎人     无名猎人的矜持</li></ul><h2 id="少女歌剧">少女歌剧</h2><p>由于我只看过TV和剧场版，所以对手游中的歌曲不太了解。2021和2020年经常听，最喜欢的有rondorondorondo（一番大好き！）、華恋とひかり、舞台少女心得 幕间（超级好听！）、星のダイアローグ、命尽きても尽き果てず、世界を灰にするまで、スタアライト、star parade、re：create（一番大好き！）、情熱の目覚めるとき</p><h2 id="當山みれい">當山みれい</h2><p>非常喜欢的女性歌手，2022年下半年经常听。最喜欢的有missing you、願いあの頃のキミへ、またねがあれば，其中前两首是我认为能够称之为传世经典的歌曲。</p><h2 id="MACO">MACO</h2><p>最喜欢的歌手（没有之一！），从2017年开始每年都会有一段时间疯狂单曲循环，人美声更美，无论是人声还是乐曲风格都是绝对的一流。最喜欢的有恋の道（一番大好き）、dear my friend、happy tears、運命、桜の木の下、however、story、hero(studio live version)、三月九日、夏風邪、再恋愛</p><h2 id="kalafina">kalafina</h2><p>因为魔圆而了解，非常有特色的女性乐队，非常可惜的是已经解散了（魔圆新剧场版的ed和插曲怎么办啊！！！）。最喜欢的有百火燎乱、君が光に変えていく、seventh heaven(一番大好き)、光の旋律、満天、ひかりふる、to the beginning()、magia[quattro]、君の銀の庭、believe</p><h2 id="miwa">miwa</h2><p>超级喜欢的女性歌手，嗓音很有特色。喜欢的有ヒカリへ、delight、don’t cry anymore、片想い、春になったら、ホイッスル君と過ごした日々</p><h2 id="平井坚">平井坚</h2><p>索尼一姐（×）的音色是真的逆天！最喜欢的有告白和gaining through losing</p><h2 id="back-number">back number</h2><p>因为堀未央奈而了解，日式乐团风格。最喜欢的有happy end、christmas song、花束、雨を濡らす雨のように</p><h2 id="LoveLive-虹咲学园学园偶像同好会">LoveLive!虹咲学园学园偶像同好会</h2><p>2020年接触，也是lovelive系列中唯一在推的团。雪菜的几首歌给我留下了深刻的印象，像是chase、melody，哀温之诗和决意之光也非常棒！</p><h2 id="Coldplay">Coldplay</h2><p>喜欢的为数不多的英语乐队，仅凭一首yellow就足以铭记。依然清晰地记得高中时读《沉睡的人鱼之家》（也是东野圭吾的作品中最喜欢的一部），单曲循环的歌就是yellow。此外还有paradise、viva la vida（太经典了）。</p><h2 id="bang-dream">bang dream</h2><p>2023年5月初新入坑邦邦，自然是最近听歌的主力。</p>]]></content>
      
      
      <categories>
          
          <category> diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 杂谈 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>切片复习</title>
      <link href="/posts/51988/"/>
      <url>/posts/51988/</url>
      
        <content type="html"><![CDATA[<p>学习numpy和神经网络的时候深感对切片的理解不到位，所以抽时间深入了解切片</p><p>切片的构成语法如下</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a[start:stop:step]</span><br><span class="line"><span class="comment">#! :step是可选参数</span></span><br></pre></td></tr></table></figure><p>如果只是上面这样就还好理解，问题出在三个参数经常出现缺省，如</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">5</span>))</span><br><span class="line">a[::<span class="number">2</span>]      <span class="comment">#[0, 2, 4]</span></span><br><span class="line">a[:<span class="number">2</span>]       <span class="comment">#[0, 1]</span></span><br></pre></td></tr></table></figure><p>在参数缺省的情况下，python默认取最大区间，如a[::2]即为全区间，a[:2]的index为0、1。另外需要注意的是，如果start和stop超出范围（如start过小或start大于stop等），python并不会报错，而是返回有效值或空值</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a[<span class="number">2</span>:<span class="number">1</span>]  <span class="comment">#[]</span></span><br><span class="line">a[-<span class="number">10</span>:<span class="number">4</span>]    <span class="comment">#[0, 1, 2, 3]</span></span><br></pre></td></tr></table></figure><p>二维数组的切片需要使用两个切片，并用逗号隔开</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">6</span>).reshape(<span class="number">2</span>,-<span class="number">1</span>)</span><br><span class="line">a[:,::<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">array([[<span class="number">0</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">5</span>]])</span><br></pre></td></tr></table></figure><p>二维数组中行优先于列，因此只有一个切片默认是对行</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">6</span>).reshape(<span class="number">2</span>,-<span class="number">1</span>)</span><br><span class="line">a[<span class="number">1</span>:]</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">array([[<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]])</span><br></pre></td></tr></table></figure><p>numpy中对列的操作会默认转化为行向量</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">6</span>).reshape(<span class="number">2</span>,-<span class="number">1</span>)</span><br><span class="line">a[:,<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">array([<span class="number">1</span>, <span class="number">4</span>])</span><br></pre></td></tr></table></figure><p>观察发现，上述两个结果的形式不同，第一个结果有两对中括号，第二个结果只有一对。原因是1:的对象是从第二行开始的所有行，numpy认为这是一个二维数组（尽管实际上是一维的）。而:,1表示第二列元素，无论怎么取都只能是一维数组</p><p>numpy中对列的操作会默认转化为行向量，但是也可以通过其他手段获得列向量</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">5</span>)</span><br><span class="line">a.reshape(-<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">array([[<span class="number">0</span>],</span><br><span class="line">       [<span class="number">1</span>],</span><br><span class="line">       [<span class="number">2</span>],</span><br><span class="line">       [<span class="number">3</span>],</span><br><span class="line">       [<span class="number">4</span>]])</span><br></pre></td></tr></table></figure><p>将reshape的第一参数设置为-1（表示自动计算），第二参数设为1（表示列数为1），即可获得列向量</p><p>切片操作也有类似的用法</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">25</span>).reshape(<span class="number">5</span>,-<span class="number">1</span>)</span><br><span class="line">a[<span class="number">1</span>:,:<span class="number">1</span>]</span><br><span class="line"><span class="comment">#</span></span><br><span class="line">array([[ <span class="number">5</span>],</span><br><span class="line">       [<span class="number">10</span>],</span><br><span class="line">       [<span class="number">15</span>],</span><br><span class="line">       [<span class="number">20</span>]])</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">25</span>).reshape(<span class="number">5</span>,-<span class="number">1</span>)</span><br><span class="line">a[<span class="number">1</span>:,<span class="number">0</span>]</span><br><span class="line"><span class="comment">#array([ 5, 10, 15, 20])</span></span><br></pre></td></tr></table></figure><p>上述两段代码都是取第一列部分元素，区别在[1:,:1]会被处理为二维数组，因此可以表示列向量；a[1:,0]被处理为一维数组，只能表示行向量</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 杂谈 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>国家工业化 &amp; 布哈林与斯大林之争</title>
      <link href="/posts/14792/"/>
      <url>/posts/14792/</url>
      
        <content type="html"><![CDATA[<p>本篇来自《苏联兴亡史》，记录时间为2022年11月17日</p><p>1930年十六大报告正式将苏联国家工业化称之为“社会主义工业化”。其与资本主义工业化的区别是：</p><ol><li>从何开始——重工业</li><li>速度——高速度</li><li>资金来源——依靠本国积累资金</li></ol><h1>重工业优先的确立</h1><p>斯大林和托洛茨基的争斗也体现在工业发展路径上。托洛茨基主张“世界分工论 ”，即苏联（社会主义国家）与资本主义国家之间相互依赖，以加强对世界资产阶级的斗争。斯大林为了对抗托洛茨基，始终坚持重工业优先原则，并将其上升到了一种“社会主义规律”的浮夸高度上。这就好像是在说，由于资本主义国家都是从轻工业开始，那社会主义国家必须从重工业开始，即是否优先发展重工业成了区分社会主义和资本主义的标志。</p><blockquote><p>事实上，沙俄和德国也都是从重工业开始发展的</p></blockquote><h1>“高速度”</h1><p>1926年6月中央全会，李可夫主张保守经济发展路线，并得到了中央派的支持。而托洛茨基则认为经济恢复后的苏联经济将快速发展，被称为“超工业化”理论。不久后就提出了用最短时间赶超资本主义国家的口号，第聂伯河水电站等大批项目仓促上马，“高速度”已见雏形。不过直到1927年底的十五大还都算是维持较为稳妥的经济路线。随着托李联盟被击溃，特别是1928年布哈林因“右倾机会主义”被批判后，斯大林继承了托洛茨基的“超工业化”理论，提出了一系列“十年赶超五十年甚至一百年的差距”、“用真正的布尔什维克的速度，在最短时间消灭这种落后状况，赶上并超过所有先进的资本主义国家”、“落后就要挨打”等一系列耳熟能详的论调，“高速度”成为社会主义国家最为典型的特征。</p><p>为什么斯大林经济政策倾向的转变如此迅速？难道他真的是“开窍”了？我想不是这样。斯大林并不是托洛茨基那样张扬跋扈的人，后者的思维是始终如一的，即一切事物的发展都以世界革命为中心。斯大林为了对抗托洛茨基，必须提出相反的论调，即使他认同托洛茨基的观点。因此当托洛茨基一被打倒，斯大林就立即着手“高速度”发展策略。</p><h1>“国内殖民地”——工业化资金来源</h1><p>社会主义国家的工业化不同于资本主义国家的工业化，工业建设是由国家有计划有组织地进行的，它与资本主义国家分散地自发地进行工业建设完全不同。苏联工业化的建设资金要由国家统一筹集，资金从哪里来？</p><p>经济学家普列奥布拉任斯基，在1924年《共产主义科学院学报》第8期上发表《社会主义积累的基本规律》一文，提出“社会主义原始积累”理论。普列奥布拉任斯基认为，在俄国这样一个生产力水平低下，小生产者占优势的国家里，<strong>社会主义工业化的资金不能依靠掠夺殖民地，只能把小生产当作“殖民地”</strong>。他说：“向社会主义生产组织过渡的某一国家在经济上愈落后，小资产阶级性即农民性愈严重，该国无产阶级在社会革命时能得到充作自己社会主义积累资金的遗产愈小，这个国家的社会主义积累就愈要被迫依赖于社会主义以前的经济形式的部分剩余产品的转让，靠在他自已的生产基础上来积累的比重就愈小，就是说，这个国家的发展愈不依赖社会主义工业工作者的剩余产品”。由此，他提出，“认为社会主义经济可以不触动小资产阶级包括农民经济资源而自行发展的思想，无疑是反动的小资产阶级的空想。<strong>社会主义国家在这里的任务不是从小资产阶级生产者那里拿得比资本主义从他们那里拿得更少的东西，而是拿得更多</strong>。”除了向小生产者征收高额税金进行积累以外，普列奥布拉任斯基还反对通过正常的市场关系来为工业化积累资金，主张用超经济强制的行政手段来积累资金。如国家利用垄断地位提高工业品价格以及铁路运价，等等。他说：“通过相应的价格政策进行积累，比起向小生产征收直接税和间接税的其他形式更优越，最主要的优越性是征收非常方便，不需要在专门的税收机关上花一个戈比”。他还认为可以通过国家银行的垄断地位，向农民发放高利贷，发行纸币，他说：“当国家既是管理全国的机构，又是极其庞大的经济综合体的主人的时候，发行纸币是社会主义积累的直接渠道”</p><p>普列奥布拉任斯基的反对者是曾经的左派、现在的“右派”布哈林。他指出，普列奥布拉任斯基理论上的一个基本错误，在于把农民小生产者看作剥削对象，看作“殖民地”，这就把工农两个基本阶级的关系看作剥削关系，无产阶级成了剥削阶级，而且，据说，完成社会主义变革的国家愈落后，无产阶级的剥削性质就愈明显。布哈林驳斥了这种观点，他认为，在社会主义工业化过程中，确实存在小生产者的剩余价值充当积累资金，存在着一个阶级创造的价值转移到另一个阶级即统治阶级手中的情形，但决不能据此得出结论，称无产阶级为剥削阶级，称工业化时期的工农关系为剥削关系。布哈林说，这决不是因为“剥削”这个名同“很难听”，而是因为这种说法不符合常观实际。从历史上看，剥削关系的存在，通过积累，都会“经常再生产出剥削关系。价值从一个阶级手中转到另一个阶级手中，这就会经常扩大阶级对立”。在社会主义工业化时期，价值从小生产者手中转到无产阶级工业手中表现了什么呢？布哈林回答说：“<strong>我们根本不是要去巩固阶级之间的关系，而且要去消灭这些关系。社会主义经济成分及其正在形成的社会主义外围的积累进行得愈快，对立的消灭也就进行得愈快</strong>”。布哈林认为，社会主义工业需要小生产者提供积累，但不能对小生产者实行剥夺，不能通过使农民经济破产的办法来排挤农民经济，如果听任原始积累的骑士去同小生产打交道，就会损害工农联盟。如果对农民实行剥夺和“吞没”的方针，就会使农业衰败，使农民收入降低，而农民的市场容量，是直接决定轻工业、部分地是决定其他工业规模的重要因素之一。因此，社会主义工业中的积累必须同农民经济中的积累问题相联系。如果农民需求缩减，就会出现销售危机，社会再生产过程就会减慢，而在小农占优势的国家，社会主义工业的积累在很大程度上是农民经济的“函数”，而采用普列奥布拉任斯基的主张，无异于“杀掉会生金蛋的母鸡&quot;</p><blockquote><p>无论怎么评说，社会主义原始积累理论已经通过实践检验了其必然性（而非正确性）</p></blockquote><h1>布哈林同斯大林的争论及结果</h1><p>布哈林的“国民经济平衡发展”理论核心内容：1、多种经济之间的平衡发展；2、保证农、轻、重恰当的比例关系；3、积累与消费的平衡发展；4、计划与市场的平衡发展。1927年底到1928年春的粮食收购危机成为布哈林和斯大林争论的开端。布哈林认为国家计划领导失败的表现包括：</p><ol><li>农产品价格不合理，谷物收购价过低，技术作物和畜产品偏高；导致农民缩小谷物种植规模，甚至把余粮饲养牲畜</li><li>基础建设投资增加太快、太多，导致供应农村市场的商品减少，破坏城乡平衡</li><li>苏维埃的货币还没有稳定到使农民可以安心地把它作为积累手段的地步。因此农民更倾向于将粮食作为积累手段</li></ol><p>斯大林的看法与布哈林大相径庭：</p><ol><li>工业发展速度太慢，社会主义积累太少，致使农村商品供应不足</li><li>苏联已经成为小农国家，而小农经济是提供商品粮极少的一种经济成分</li><li>富农迅速成长，投机倒把，操纵粮价，破坏粮食征收工作</li></ol><p>故斯大林认为根本出路是迅速实现农业集体化。他认为这样做可以生产最大量的粮食，并且过渡到公共经济。</p><p>布哈林和斯大林的分歧是根本且全方位的：布哈林清醒地认识到苏联的危机表现为“商品荒”，是资本主义经济危机表现形式的颠倒。他认为群众消费的增长是社会经济增长的直接动力，过渡时期的基本路线是矛盾缩小和最后消亡的路线，并坚决反对斯大林的“阶级斗争”理论：社会主义的前进动力是阶级斗争，社会主义建设中的一切成就都是阶级斗争的表现和结果；社会主义越是取得胜利，阶级斗争就越来越尖锐。 在斯大林的强硬政策下，农村出现各种骇人听闻的悲剧都是必然的。在这种形势下，农民普遍流露出：“<strong>多种粮食有什么好处，反正都要没收；要是只种够自己吃的呢，还少交税</strong>” 。</p><blockquote><p>1929年爆发的全球性金融危机的关键原因之一便是民众消费意愿减弱，市场对商品的总需求量减少</p></blockquote><p>1928年4月后，二人的争论从理论走向全会和公开化。最初布哈林在党内占据优势，但是斯大林已经掌握最高权力，“多数派”的意见已经逐渐不起作用。7月全会上，斯大林提出“贡税论”，即农民必须为实现工业化而缴纳“贡税”，得到了大多数人的默许，形势发生逆转。7月全会也成为布哈林从理论上占优势转而走向失败的转折点。斯大林的理论归根到底就是，农民缴纳贡税，工人阶级建设工业化的国家。</p><p>布哈林不愿低头认输。1928年9月30日，他在《真理报》发表《一个经济学家的札记》，猛烈批评“贡税论”：群众迫切需要了解事情的真实情况，不满老掉牙的、死板的空话；斯大林的“贡税论”就是普列奥布拉任斯基的“社会主义原始积累论”。布哈林的坚定支持者、布鲁诺精神的继承者——莫斯科党委书记乌格兰诺夫被斯大林严厉批判与撤职，将斯大林与布哈林的争论推到了最后关头。1929年初联席会议上，布哈林仍被给予最后一次“和解方案”，因为斯大林可能并不希望用解决托洛茨基、季诺维耶夫、加米涅夫的方式解决布哈林。但布哈林不仅拒绝一切委曲求全的方案，还起草了一份批驳斯大林政策的声明，并由李可夫在政治局会议上宣读，直指斯大林用个人决定代替党的集体领导原则。2月9日，斯大林正式在全国开启“反右倾斗争”。</p><p>苏联的反右倾斗争从根本上彻底粉碎了民主的可能性，之后发生的农业集体化、大饥荒、大清洗都是必然结果。集权国家毁灭的直接原因并不是由于理论思想的极端性与不可实现性，而是随着时间的推移，继任的当权者和他的爪牙们甚至连最基本的理论都搞不懂，他们只会重复没有任何意义的废话！即比起坚定的乌托邦式信仰，信仰的崩塌才是导致社会主义道路一直以来行不通的外在原因。</p>]]></content>
      
      
      <categories>
          
          <category> 历史 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 苏联史 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>大迁移</title>
      <link href="/posts/2664/"/>
      <url>/posts/2664/</url>
      
        <content type="html"><![CDATA[<p>本篇文献来自《一个大国的崛起与崩溃——苏联历史专题研究（1917-1991）》，作者为咸阳西藏民族学院的师建军</p><p>文章的第一部分就直接点明，苏联当局在特殊移民政策实施过程中的违法乱纪、蔑视人权、践踏人类道德的行径充分暴露了斯大林模式的深刻弊端，是导致苏联解体以及后来民族纷争的重大原因之一</p><h1>特殊移民</h1><p>特殊移民泛指1930~1953年被迫迁移的约600万人，主要包括30年代初全盘集体化时期的富农和30年代中期后大规模驱逐的少数民族。而特殊移民又是斯大林时期“特殊人口”的一部分，后者包含囚犯、政治犯、拘留民、检查-过滤营犯人、劳改犯、行政移民和特殊移民。特殊移民的地位居于普通公民和其他特殊人口之间，在移民区内能够自由通行，但没有选举权（1936年后名义上恢复），扣除5%的工资用于支付移民区管理费用（1944年后取消）。特殊移民内部，富农和少数民族的待遇也有很大的不同，例如富农的子女在16岁以上且到外地上学的会撤销特殊移民身份，而少数民族则不可以。</p><blockquote><p>拘留民：有通敌嫌疑的人，会被发往特殊移民区，检查-过滤营犯人与之类似<br>行政移民：与特殊移民类似（可能被随时转为特殊移民），名义上拥有完整的公民权，可以自由出入移民区，只是不得返回原迁出地</p></blockquote><p>1930年的全盘集体化政策将富农分为三类，第一类直接被逮捕；第二类和第一类的家属被发往特殊移民区；第三类由州/边疆区处置。斯大林通过流放富农获得了大量资金，并且弥补了边疆劳动力的不足。进入40年代，农业集体化实现，战争的爆发使得民族问题上升为“主要矛盾”，在富农管制逐渐放松的背景下，民族流放愈演愈烈。</p><p>1950-1953年苏共中央就能够从民情分析资料中感受到危机的存在，连续多年的镇压和政治运动早已是人心丧失殆尽。另一个原因是，苏联部长会议认为，即使取消了迁移限制，特殊移民由于已经习惯了当地生活也不会离开移民区，“殖民成果”已经达成。到1965年，特殊移民人口降至1万人以下，人身限制问题已经基本解决。</p><h1>罄竹难书</h1><h2 id="农业集体化">农业集体化</h2><p>特殊移民政策起始于农业集体化时期对富农的流放。农民被迫交出土地和生产资料，许多人为了止损会把牲畜都宰杀掉。直到1953年，苏联畜牧业都低于集体化之前的水平，粮食产量甚至不如1913年的水平，这是对斯大林农业模式最无情的批判。造成这种结果的直接原因包括以下几点：</p><ul><li>流放造成农村人口尤其是勤劳能干、文化水平高的中农的减少</li><li>自主经营权的丧失造成懒散风气盛行</li><li>“以穷为荣”的社会风气导致没有人敢劳动</li></ul><blockquote><p>关于农业集体化请参考本站《农业集体化运动》</p></blockquote><h2 id="民族冲突">民族冲突</h2><p>大迁移不仅对无数人的生活造成极大的影响，更让本身就脆弱的民族关系雪上加霜。如1957年车臣人和印古什人要求搬回原址，从而与现有的其他种族居民发生冲突，大批俄罗斯族人外逃。自此以后，民族冲突不断，并引发多次大规模战争，包括奥赛梯-印古什战争、两次车臣战争等。俄罗斯族等其他种族的迁移者同样是非自愿的，他们也是苏联反人类流放的受害者。苏共低下的执政能力使得原本是好意的回归政策进一步加深了民族隔阂。</p><p>在二十大后解禁的大环境下，面对民族自治呼声，赫鲁晓夫采用的解决方案仍然延续了斯大林的沙文主义风格，大肆镇压要求民族自主权的活动。如60年代兴起的乌克兰地下组织“乌克兰民族阵线”、“乌克兰工农联盟小组”等主张维护乌克兰共和国的独立自主权，保护本民族文化，被批判为“资产阶级民族主义”。1972年乌克兰第一书记谢列斯特因撰写歌颂乌克兰文化的《我们的苏维埃乌克兰》一书被免职。1968年克里木鞑靼人举行要求返回故乡的示威活动，有300多人被逮捕。</p><h2 id="深远影响">深远影响</h2><p>1930-1933年大饥荒和特殊移民流放造成农村人口的大量流失以及新生儿的夭折，使农村人口在30年代的10年间减少三分之一以上，对俄国人口结果造成毁灭性打击，并且一直延续至今。由于问题的根源——system没有改变，斯大林反人类罪行的恶果在他死后也未曾被抹去。农业的停滞不前造成70年代苏联供需极不平衡，国民经济的畸形发展越来越严重。苏联的人均耕地面积比美国还高5%，但每年仍要大量进口粮食。另一方面，民族冲突使得改革难以推进。更为致命的是，个人意识、创新思维和主动精神的丧失导致戈尔巴乔夫那样的表面改革根本无法发挥作用。在1990年对农民的调查结果显示，竟然有半数以上的人不知道离开集体农庄后如何生活。因此将苏联的崩溃归咎于戈尔巴乔夫的改革是极其幼稚的。</p><p>尽管客观上来说特殊移民确实促进了苏联中东部地区的发展和国家工业化，但是这种进步建立在残酷剥削和血腥统治的基础上，手段之残忍绝不亚于资本主义国家的原始积累过程。在《在市场经济和计划经济的十字路口——新经济政策研究（1921-1929）》中写道，左派领导人都是急性子，他们信奉急功近利、竭泽而渔的管理模式，而就是这种不顾客观规律的短视思维毁了苏联。</p><blockquote><p>关于社会主义国家的资本积累过程，参考本站《国家工业化》</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 历史 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 苏联史 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>喀琅施塔得事件</title>
      <link href="/posts/25139/"/>
      <url>/posts/25139/</url>
      
        <content type="html"><![CDATA[<p>本篇来自《一个大国的崛起与崩溃——苏联历史专题研究（1917-1991）》，作者为华东师范大学的朱小萍和余伟民</p><p>苏俄官方定性：受外国势力支持的白卫军分子、社会革命党人和无政府主义者发动的反革命叛乱<br>俄罗斯定性：事件参与者无罪，并修建纪念碑</p><h1>背景</h1><p>战时共产主义被视为直接向社会主义（共产主义）过渡的政策而在国内战争基本结束后大加推广：在农村实行连环保；将500万军队改编为劳动军；严惩逃跑现象，直至关进集中营；并且延伸至工业和经济领域。这种“捷径”造成1920-1921年苏俄空前的政治经济危机：农业和工业远低于一战前甚至19世纪末的水平；商业国有化造成黑市泛滥，经济状况极度恶化。1920年底后农民暴动遍及全国。官方报告中称：现在的农民暴动不同于旧式农民暴动的一点在于，现在的农民暴动具有组织性和计划性。商品的极度匮乏亦引起工人对苏维埃政权的怀疑与失望。1921年初各大工业城市相继爆发规模不等的工人骚乱。国内战争期间，喀琅施塔得海军基地的许多士兵前往战场，而后补部队多来自农村。他们与农村保持着密切的联系，很清楚农村发生的灾难。喀琅施塔得事件就是在这样的背景下发生的。</p><h1>事件的发生</h1><h2 id="前奏——彼得格勒工人暴动">前奏——彼得格勒工人暴动</h2><p>1921年2月21日，彼得格勒特鲁博奇工厂提出取消共产党专政和建立自由选举的苏维埃政权，遭到当局的拒绝。2月24日，特鲁博奇工厂联合其他工厂的共2500人进行游行示威，要求言论、出版、集会自由。次日，彼得格勒当局宣布游行为叛国行为，派军事学院学生进行镇压。2月28日，联共布中央下令逮捕右派分子。彼得格勒工人暴动对于喀琅施塔得海军部队本就不慢的情绪无异于火上浇油。内战结束后，士兵始终无法复员；粮食状况恶化；军纪越来越严，而军官特权日亦膨胀；通过来信得知农村情况不容乐观；大批士兵退党，一切的因素都在促使革命的爆发。2月27日，多艘战舰的士兵举行集会，并提出多项改革要求。主要内容如下：</p><ol><li>由于现有苏维埃未能反应农民和工人的意志，应立即通过无记名投票的形式改组苏维埃，并在此之前实行宣传自由</li><li>要求言论、出版、集会、组织工会和农民联合会的自由</li><li>尽快召开工人和士兵的无党派会议</li><li>释放所有政治犯</li><li>选举专门委员会重新审理集中营囚犯</li><li>取消政治部，组织成立地方选举产生的国民文化教育委员会，因为任何一个政党都可能利用特权宣传自己的思想，并用国家工具达到目的</li><li>撤销所有征粮队</li><li>除有害车间外，所有工人的供应份额相等</li><li>给予农民土地的完全使用权</li></ol><p>上述决议的提出被视为喀琅施塔得事件的开始。3月1日，第一和第二战列舰支队高票通过上述决议。当晚曾有人提议逮捕加里宁作为人质，但大多数人表示反对。3月2日，临时革命委员会逮捕大批共产党员，并基本占领喀琅施塔得。他们声称：“执掌国家政权的共产党脱离群众，已无力拯救国家于全面崩溃之中。它不重视工人们提出的要求，而且认为这些要求是反革命的阴谋，共产党实在是大错特错了。这些骚动，这些要求是所有人民，所有劳动者的心声。”3月3日，喀琅施塔得大批党员退党，甚至在报纸上公开表示对党的深深失望。革命的士兵起初相信政府会与他们妥协，因为他们要求的自由选举本就是苏维埃的必然结果，且自由的苏维埃与十月革命中布尔什维克的口号是一致的。但是经过解散立宪会议和国内战争，布尔什维克已经牢牢掌握政权，不可能再与任何其它政党或组织分享权力（无论是否通过自由选举的形式）。3月4日，临时革命委员会预感政府即将发动进攻，因此紧急宣布进入战争状态。</p><h2 id="中央政府的反应">中央政府的反应</h2><p>早在事件爆发前，中央政府就已经关注到波罗的海舰队，特别是喀琅施塔得驻军的骚动，他们通过充当“秘密警察”的共产党员获取疑似反革命者的信息，并采取一定措施阻止不满情绪的扩散。事件爆发后，俄共布高层一致认为其与政治反对派和外国帝国主义有关。3月2日，中央政府军队控制了喀琅施塔得周边的战略要地。同日苏维埃彼得格勒委员会宣布喀琅施塔得事件为反革命叛变。很显然，高层并不是，也不可能真的认为外国和反对派势力在其中起决定性作用。将其与白卫军联系在一起只是为了争取大部分俄国人的同情和支持，防止叛乱溢出。3月4日，彼得格勒国防委员会逮捕了叛变士兵的亲属，并声称如果喀琅施塔得被控制的共产党员“哪怕是头发掉了一根，上述人质将会人头落地”。临时革命委员会称，即使处于极端的仇恨中，这样的逮捕也是最无耻和卑鄙的。</p><p>中央政府控制了舆论，阻止了革命的外泄，这是起义失败的关键原因。3月8日，政府军进攻喀琅施塔得。俄共布十大也于此日召开，正式标志着“战时共产主义”的终结和新经济政策的开始。他们可能会在一定程度上做出妥协，但是绝不允许一般民众提出建议，更不能容忍政权受到威胁。政府和起义者本可以达成妥协，因为取消战时共产主义政策是喀琅施塔得起事者最根本的要求。他们这样做只有一个目的——巩固布尔什维克政权。十大宣布用粮食税取代余粮收集制，是迫于客观形势的需要。但是布尔什维克只会在经济上妥协，但是对于“自由、平等地重新选举苏维埃”这种政治诉求决不妥协，这就是列宁的原则。十大的决策可以总结为：经济上趋于宽松，政治上趋于集中。</p><p>3月17日，政府军对喀琅施塔得发起总攻，次日完全占领城市，大概有8000人逃亡芬兰。随着起义的失败，惩罚也随之开始。众多事件参与者被处以极刑或关进集中营。即使是逃亡芬兰的革命委员会成员也在不久后被逮捕。布尔什维克在城内进行身份登记，将大量相关人员及起事者亲属流放。</p><h1>尾声</h1><p>1921年苏俄内部报告表明：侦查材料无法确定，在兵变发生之前，反革命组织在要塞指挥人员中做过什么工作，也没发现协约国间谍的活动，运动的整个过程都没有说明有这样的可能。这是目前最为正确和坦率的结论。喀琅施塔得事件是苏维埃政权从理想型的无产阶级专政走向现实政治国家的标志性事件。<strong>出于巩固政权需要的镇压一旦背离了社会公众的选择取向，就会发生不以人们意志为转移的国家权力机制的蜕变</strong>。在没有建立起制衡机制的情况下，为斯大林主义埋下了伏笔。</p>]]></content>
      
      
      <categories>
          
          <category> 历史 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 苏联史 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>numpy</title>
      <link href="/posts/14982/"/>
      <url>/posts/14982/</url>
      
        <content type="html"><![CDATA[<h2 id="矩阵构建">矩阵构建</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.zeros(<span class="number">10</span>).astype(<span class="string">&#x27;float64&#x27;</span>)</span><br><span class="line">a = np.ones(<span class="number">10</span>).astype(<span class="string">&#x27;int8&#x27;</span>)</span><br><span class="line"></span><br><span class="line">x3 = (np.arange(<span class="number">10</span>)==<span class="number">4</span>).astype(<span class="string">&#x27;int8&#x27;</span>)</span><br><span class="line"></span><br><span class="line">np.array(<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>,<span class="number">20</span>)))[::-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">np.identity(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">b = np.repeat(<span class="number">0</span>,<span class="number">10</span>).reshape(<span class="number">2</span>,-<span class="number">1</span>)</span><br><span class="line"><span class="comment"># reshape第二参数的-1表示依照第一参数自动进行划分</span></span><br></pre></td></tr></table></figure><h2 id="使用random构建随机矩阵">使用random构建随机矩阵</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">np.random.random((<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">a = np.random.random((<span class="number">10</span>,))</span><br><span class="line"></span><br><span class="line">np.random.uniform(<span class="number">5</span>,<span class="number">11</span>,size=(<span class="number">5</span>,<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line">np.random.seed(<span class="number">5</span>)</span><br><span class="line"><span class="comment"># 设置随机种子</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 随机选择行或列</span></span><br><span class="line">a = np.arange(<span class="number">20</span>).reshape([<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line">mini = np.random.choice(a.shape[<span class="number">0</span>],<span class="number">2</span>,replace=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 小技巧：构建对数尺度范围内的随机值</span></span><br><span class="line"><span class="number">10</span>**np.random.uniform(-<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>random模块中，random函数返回[0,1)的随机值，uniform返回 [a,b]的随机值，randint返回[a,b]的随机整数值</p></blockquote><h2 id="索引指定元素">索引指定元素</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 检索非零元素，返回的是index</span></span><br><span class="line">np.nonzero(np.array([<span class="number">1</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">3</span>]))</span><br><span class="line">np.where(np.array([<span class="number">1</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">3</span>]) !=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#! 创建一个边界为1，内部为0的矩阵</span></span><br><span class="line">b = np.ones((<span class="number">5</span>,<span class="number">4</span>))</span><br><span class="line">b[<span class="number">1</span>:-<span class="number">1</span>,<span class="number">1</span>:-<span class="number">1</span>] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#! 提取元素</span></span><br><span class="line"><span class="comment">#* 并列筛选条件必须加小括号</span></span><br><span class="line">a = np.array([<span class="number">2</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">3</span>, <span class="number">27</span>])</span><br><span class="line">a[(<span class="number">5</span>&lt;=a) &amp; (a&lt;=<span class="number">10</span>)]</span><br><span class="line">a[np.where((a&gt;=<span class="number">5</span>) &amp; (a&lt;=<span class="number">10</span>))]</span><br></pre></td></tr></table></figure><p>where函数有三个参数：</p><ol><li>bool判断条件</li><li>true时的返回值</li><li>false时的返回值</li></ol><h2 id="矩阵参数的获取">矩阵参数的获取</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a.<span class="built_in">min</span>() </span><br><span class="line">a.mean()</span><br><span class="line">np.<span class="built_in">max</span>(a)</span><br></pre></td></tr></table></figure><h2 id="矩阵操作">矩阵操作</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#! 交换行/列</span></span><br><span class="line">a = np.arange(<span class="number">16</span>).reshape(<span class="number">4</span>,-<span class="number">1</span>)</span><br><span class="line">a[[<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">0</span>],:]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 颠倒行/列</span></span><br><span class="line">a = np.arange(<span class="number">16</span>).reshape(<span class="number">4</span>,-<span class="number">1</span>)</span><br><span class="line">a[::-<span class="number">1</span>,::-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 堆叠矩阵</span></span><br><span class="line">a = np.arange(<span class="number">10</span>).reshape(<span class="number">2</span>,-<span class="number">1</span>)</span><br><span class="line">b = np.repeat(<span class="number">0</span>,<span class="number">10</span>).reshape(<span class="number">2</span>,-<span class="number">1</span>)</span><br><span class="line">np.vstack([a,b])</span><br><span class="line">np.hstack([a,b])</span><br></pre></td></tr></table></figure><h1>矩阵显示</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">np.set_printoptions(threshold=np.inf)       </span><br><span class="line"><span class="comment"># 列数过多时确保全部元素都能显示出来</span></span><br></pre></td></tr></table></figure><h1>概念</h1><h2 id="维度和维度数">维度和维度数</h2><p>维度和维度数是两个不同的概念，维度与shape相关，维度数与ndim相关</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = np.random.random([<span class="number">28</span>,<span class="number">28</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.ndim</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.shape</span><br><span class="line">(<span class="number">28</span>, <span class="number">28</span>)</span><br></pre></td></tr></table></figure><h1>一维数组和二维数组</h1><p>(1,5)和(5,)是两个不同的概念！前者为二维矩阵，后者为一维数组，即shape和ndim不同</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.arange(<span class="number">6</span>)</span><br><span class="line">b= a.reshape(<span class="number">1</span>,-<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.ndim</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.ndim</span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure><p><strong>一维数组和二维数组的索引方法不同</strong></p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 神经网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>神经网络基础</title>
      <link href="/posts/35526/"/>
      <url>/posts/35526/</url>
      
        <content type="html"><![CDATA[<p>参考书目：深度学习入门(1)·斋藤康毅</p><h1>numpy基础</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy </span><br><span class="line"></span><br><span class="line"><span class="comment">#? 构建矩阵</span></span><br><span class="line">a = numpy.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">2</span>,<span class="number">4</span>]])</span><br><span class="line">b = numpy.array([<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#? 遍历矩阵</span></span><br><span class="line">c = numpy.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line">size = c.shape</span><br><span class="line"><span class="built_in">print</span>(size[<span class="number">0</span>])</span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> <span class="built_in">range</span>(size[<span class="number">0</span>]):</span><br><span class="line">    <span class="keyword">for</span> col <span class="keyword">in</span> <span class="built_in">range</span>(size[<span class="number">1</span>]):</span><br><span class="line">        <span class="built_in">print</span>(c[row][col])</span><br><span class="line">        </span><br><span class="line"><span class="comment">#? 数据类型转换</span></span><br><span class="line">a = numpy.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line"><span class="built_in">print</span>(a.astype(numpy.float32))</span><br></pre></td></tr></table></figure><h1>感知机</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#! 矩阵表示感知机</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"></span><br><span class="line"><span class="comment">#! AND gate</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">AND</span>(<span class="params">x1,x2</span>):</span><br><span class="line">    x = numpy.array([x1,x2])</span><br><span class="line">    w = numpy.array([<span class="number">0.5</span>,<span class="number">0.5</span>])</span><br><span class="line">    b = -<span class="number">0.8</span></span><br><span class="line">    res = numpy.<span class="built_in">sum</span>(x*w)+b</span><br><span class="line">    <span class="keyword">if</span> res&lt;=<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">NAND</span>(<span class="params">x1,x2</span>):</span><br><span class="line">    x = numpy.array([x1,x2])</span><br><span class="line">    w = numpy.array([<span class="number">0.5</span>,<span class="number">0.5</span>])</span><br><span class="line">    b = -<span class="number">0.8</span></span><br><span class="line">    res = numpy.<span class="built_in">sum</span>(x*w)+b</span><br><span class="line">    <span class="keyword">if</span> res&lt;=<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">OR</span>(<span class="params">x1,x2</span>):</span><br><span class="line">    x = numpy.array([x1,x2])</span><br><span class="line">    w = numpy.array([<span class="number">0.5</span>,<span class="number">0.5</span>])</span><br><span class="line">    b = -<span class="number">0.4</span></span><br><span class="line">    res = numpy.<span class="built_in">sum</span>(x*w)+b</span><br><span class="line">    <span class="keyword">if</span> res&lt;=<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">#! 使用多层感知机构建异或门</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">XOR</span>(<span class="params">x1,x2</span>):</span><br><span class="line">    <span class="comment">#? first layer</span></span><br><span class="line">    s1 = NAND(x1,x2)</span><br><span class="line">    s2 = OR(x1,x2)</span><br><span class="line">    res = AND(s1,s2)</span><br><span class="line">    <span class="keyword">if</span> res&lt;=<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">XOR(<span class="number">1</span>,<span class="number">1</span>)</span><br></pre></td></tr></table></figure><h1>激活函数</h1><p>激活函数的作用就是对加权输入信号和偏置的总和进行函数处理，使之变为输出信号。单层感知机（朴素感知机）的激活函数为阶跃函数，如果将其替换为其他的激活函数，就会进化为神经网络。例如比较常用是sigmoid函数和ReLU函数：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mn>1</mn><mo>+</mo><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><mo>−</mo><mi>x</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">h(x)=\frac{1}{1+exp(-x)} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2574em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord">−</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>x&gt;0</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>x&lt;=0</mtext></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex"> f(x)=\begin{cases}x&amp; \text{x&gt;0}\\0&amp; \text{x&lt;=0}\end{cases} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">x&gt;0</span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">x&lt;=0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>x&gt;0</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>x&lt;=0</mtext></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">f(x)=\begin{cases}x&amp; \text{x&gt;0}\\0&amp; \text{x&lt;=0}\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">x&gt;0</span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord text"><span class="mord">x&lt;=0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>阶跃函数、sigmoid函数和ReLU函数的python实现如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">step_function</span>(<span class="params">a</span>):</span><br><span class="line">    <span class="keyword">return</span> np.array(a&gt;<span class="number">0</span>,dtype=np.int32)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sigmoid</span>(<span class="params">b</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> / (<span class="number">1</span>+np.exp(b))</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">relu</span>(<span class="params">c</span>):</span><br><span class="line">    <span class="keyword">return</span> np.maximum(<span class="number">0</span>,c)</span><br></pre></td></tr></table></figure><p>输出层的激活函数与隐藏层不同，包括恒等函数和softmax函数。恒等函数一般用于回归问题，softmax函数一般用于分类问题。softmax函数的输出值介于0-1之间，可以看成概率，其大小关系与输出层的输入信号一致。因此学习过程使用softmax函数，但推理过程无需使用。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>y</mi><mi>k</mi></msub><mo>=</mo><mfrac><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><msub><mi>a</mi><mi>k</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mo>∑</mo><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">y_k = \frac{exp(a_k)}{\sum exp(a_i)}  </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">softmax</span>(<span class="params">d</span>):</span><br><span class="line">    d_max = np.<span class="built_in">max</span>(d)</span><br><span class="line">    <span class="keyword">return</span> np.exp(d-d_max) / np.<span class="built_in">sum</span>(np.exp(d-d_max))</span><br><span class="line"><span class="comment">#! 这里考虑了输入信号过大可能导致指数计算时出现错误</span></span><br></pre></td></tr></table></figure><h1>学习</h1><h2 id="loss-function">loss function</h2><p>神经网络的学习完全基于原始数据，而普通的机器学习（如支持向量机）则依赖于人工对原始数据的特征化处理，因此神经网络（深度学习）不存在人为介入</p><p>学习的指标统称为损失函数（loss function），常用的包括均方误差和交叉熵误差</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo>=</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mo>×</mo><munder><mo>∑</mo><mi>k</mi></munder><mo stretchy="false">(</mo><msub><mi>y</mi><mi>k</mi></msub><mo>−</mo><msub><mi>t</mi><mi>k</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">E=\frac{1}{2}\times \sum_{k}(y_k-t_k)^2 </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.3521em;vertical-align:-1.3021em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8479em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3021em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo>=</mo><mo>−</mo><munder><mo>∑</mo><mi>k</mi></munder><msub><mi>t</mi><mi>k</mi></msub><mi>l</mi><mi>n</mi><mtext> </mtext><msub><mi>y</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">E=-\sum_k t_kln\,y_k </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3521em;vertical-align:-1.3021em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8479em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3021em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"></span><br><span class="line">y = numpy.array([<span class="number">0.1</span>,<span class="number">0.2</span>,<span class="number">0.6</span>,<span class="number">0.1</span>,<span class="number">0</span>])</span><br><span class="line">t = numpy.array([<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#? 均方误差</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">mean_squared_error</span>(<span class="params">y,t</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0.5</span>*numpy.<span class="built_in">sum</span>((y-t)**<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#? 交叉熵误差</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cross_entropy_error</span>(<span class="params">y,t</span>):</span><br><span class="line">    delta = <span class="number">10e-7</span></span><br><span class="line">    <span class="keyword">return</span> -numpy.<span class="built_in">sum</span>(t*numpy.log(y+delta))</span><br><span class="line"></span><br><span class="line">mean_squared_error(y,t)</span><br><span class="line">cross_entropy_error(y,t)</span><br></pre></td></tr></table></figure><blockquote><p>以上公式针对单个训练数据，k为数据的维数，y为训练结果，t为训练数据<br>理论上需要对所有训练数据的损失函数求平均取平均损失函数，但考虑到数据量过大，选取一部分mini-batch进行多次训练</p></blockquote><p><strong>为什么设置损失函数，而不是以accuracy作为指标？</strong></p><p>核心问题：accuracy是一个离散值，当微调参数时，accuracy不一定发生变化（即accuracy对参数的导数值为0），无法指导我们修改参数</p><h2 id="学习步骤">学习步骤</h2><ol><li>学习数据和测试数据获取</li><li>构建神经网络</li><li>对每一个mini-batch计算梯度，并更新参数</li><li>在学习过程中记录accuracy，观察是否出现过拟合</li></ol><h1>随机梯度下降法</h1><p><strong>梯度指向函数下降最快的方向，而不一定是最小值方向</strong>。因此需要不断地在新点位计算梯度，并沿着新梯度前进。在神经网络中，使用的是损失函数对参数的梯度：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>w</mi><mi>n</mi></msub><mo>=</mo><msub><mi>w</mi><mi>n</mi></msub><mo>−</mo><mi>η</mi><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>f</mi></mrow><mrow><mi mathvariant="normal">∂</mi><msub><mi>x</mi><mi>n</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">w_n = w_n - \eta\frac{\partial f}{\partial x_n}  </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.2074em;vertical-align:-0.836em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">η</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>其中：w为参数，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>η</mi></mrow><annotation encoding="application/x-tex">\eta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">η</span></span></span></span> 为<strong>学习率（learning rate）</strong>，f为损失函数。学习率是也是神经网络的参数，但与权重和偏置不同，学习率需要人为指定，因此称为超参数。stable diffusion中的lr就是学习率。梯度获取最简单的方法是数值微分中的中心差分思想，但是真的慢！下一节的误差反向传播法的速度能够快很多。</p><h1>误差反向传播法</h1><p>误差反向传播法是一种快速的梯度获取方法</p><h2 id="理论基础">理论基础</h2><p>误差反向传播法基于偏导数中的链式法则</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>L</mi></mrow><mrow><mi mathvariant="normal">∂</mi><mi>X</mi></mrow></mfrac><mo>=</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>L</mi></mrow><mrow><mi mathvariant="normal">∂</mi><mi>Y</mi></mrow></mfrac><mo>⋅</mo><msup><mi>W</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">\frac{\partial L}{\partial X}= \frac{\partial L}{\partial Y}\cdot W^T  </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.0574em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0574em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8913em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>L</mi></mrow><mrow><mi mathvariant="normal">∂</mi><mi>W</mi></mrow></mfrac><mo>=</mo><msup><mi>X</mi><mi>T</mi></msup><mo>⋅</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>L</mi></mrow><mrow><mi mathvariant="normal">∂</mi><mi>Y</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{\partial L}{\partial W}= X^T \cdot \frac{\partial L}{\partial Y} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.0574em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8913em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0574em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal">L</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>偏置的偏导数有些特殊：L对Y的偏导数是一个N行矩阵，而偏置的行数应该是1，因此需要按列求和(axis=0)</p><p><strong>计算要点</strong></p><ol><li>分支(repeat)节点：正向传播时有n个分支流出，则反向传播时需要对n个输入信号求和</li><li>并入(sum)节点：正向有并入求和过程，反向无需分离，相当于分支节点的正过程</li></ol><blockquote><p>应用：softmax_loss层推导<br>上述内容来自《深度学习进阶：自然语言处理》的第一章，但是非常有用</p></blockquote><h2 id="层构建">层构建</h2><p>基于面向对象思想构建神经网络的层结构，包括激活函数、加权层（affine）和输出层（激活函数+loss）</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#* 乘法层</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">mulayer</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.x = <span class="literal">None</span></span><br><span class="line">        self.y = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x,y</span>):</span><br><span class="line">        self.x = x</span><br><span class="line">        self.y = y</span><br><span class="line">        out = x*y</span><br><span class="line">        <span class="keyword">return</span> out</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">backward</span>(<span class="params">self,dout</span>):</span><br><span class="line">        dx = dout*self.y</span><br><span class="line">        dy = dout*self.x</span><br><span class="line">        <span class="keyword">return</span> dx,dy</span><br><span class="line"></span><br><span class="line">apple = mulayer()</span><br><span class="line">tax = mulayer()</span><br><span class="line">a1 = apple.forward(<span class="number">100.0</span>,<span class="number">2.</span>)</span><br><span class="line">a2 = tax.forward(a1,<span class="number">1.1</span>)</span><br><span class="line"><span class="built_in">print</span>(a2)</span><br><span class="line">dout = <span class="number">1</span></span><br><span class="line">b1,b2 = tax.backward(dout)</span><br><span class="line">b3,b4 = apple.backward(b1)</span><br><span class="line"><span class="built_in">print</span>(b1,b3)</span><br><span class="line"></span><br><span class="line"><span class="comment">#* 加法层</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">prolayer</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x,y</span>):</span><br><span class="line">        <span class="keyword">return</span> x+y</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">backward</span>(<span class="params">self,dout</span>):</span><br><span class="line">        <span class="keyword">return</span> dout,dout</span><br><span class="line"></span><br><span class="line"><span class="comment">#* relu层</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">relulayer</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,a</span>):</span><br><span class="line">        <span class="keyword">return</span> np.maximum(a,<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">backward</span>(<span class="params">self,dout</span>):</span><br><span class="line">        <span class="keyword">return</span> np.where(dout&gt;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>)</span><br><span class="line">    </span><br><span class="line">a = relulayer()</span><br><span class="line">a.forward(np.arange(-<span class="number">4</span>,<span class="number">5</span>).reshape([<span class="number">3</span>,<span class="number">3</span>]))</span><br><span class="line">a.backward(np.arange(-<span class="number">4</span>,<span class="number">5</span>).reshape([<span class="number">3</span>,<span class="number">3</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment">#* sigmoid层</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">sigmoidlayer</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.y = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x</span>):</span><br><span class="line">        self.y = <span class="number">1</span> / (<span class="number">1</span>+np.exp(-x))</span><br><span class="line">        <span class="keyword">return</span> self.y</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">backward</span>(<span class="params">self,dout</span>):</span><br><span class="line">        <span class="keyword">return</span> dout*self.y*(<span class="number">1.0</span>-self.y) <span class="comment">#type:ignore</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#! affine层</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">affine</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,w,b</span>):</span><br><span class="line">        self.x = <span class="literal">None</span></span><br><span class="line">        self.w = w</span><br><span class="line">        self.b = b</span><br><span class="line">        self.dw = <span class="literal">None</span></span><br><span class="line">        self.db = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x</span>):</span><br><span class="line">        self.x = x</span><br><span class="line">        <span class="keyword">return</span> np.dot(self.x,self.w)+self.b</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">backward</span>(<span class="params">self,dout</span>):</span><br><span class="line">        self.dw = np.dot(self.x.T,dout)<span class="comment">#type:ignore</span></span><br><span class="line">        self.db = np.<span class="built_in">sum</span>(dout,axis=<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> np.dot(dout,self.w.T)</span><br><span class="line"></span><br><span class="line"><span class="comment">#! softmax_losslayer</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">softmax_losslayer</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.loss = <span class="literal">None</span></span><br><span class="line">        self.y = <span class="literal">None</span></span><br><span class="line">        self.t = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x,t</span>):</span><br><span class="line">        self.y = softmax(x)</span><br><span class="line">        self.t = t</span><br><span class="line">        self.loss = cross_entropy_error(self.y,self.t)</span><br><span class="line">        <span class="keyword">return</span> self.loss</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">backward</span>(<span class="params">self,dout</span>):</span><br><span class="line">        batch_size = self.t.shape[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">return</span> (self.y-self.t) / batch_size</span><br></pre></td></tr></table></figure><h2 id="神经网络构建">神经网络构建</h2><p>有了上述的层结构，就可以构建神经网络了。由于需要进行正向和反向操作，选择有序数据类型是必要的。python3.7后dict是有序数据，与ordereddict的用法比较接近，但是考虑到兼容性，仍然使用ordereddict</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> OrderedDict</span><br><span class="line">a = OrderedDict()</span><br><span class="line">a[<span class="string">&#x27;one&#x27;</span>] = <span class="number">1</span></span><br><span class="line">a[<span class="string">&#x27;two&#x27;</span>] = <span class="number">2</span></span><br><span class="line">a[<span class="string">&#x27;three&#x27;</span>] = <span class="number">3</span></span><br><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> <span class="built_in">reversed</span>(a.values()):</span><br><span class="line">    <span class="built_in">print</span>(value)</span><br><span class="line">    </span><br><span class="line">a = &#123;&#125;</span><br><span class="line">a[<span class="string">&#x27;one&#x27;</span>] = <span class="number">1</span></span><br><span class="line">a[<span class="string">&#x27;two&#x27;</span>] = <span class="number">2</span></span><br><span class="line">a[<span class="string">&#x27;three&#x27;</span>] = <span class="number">3</span></span><br><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> <span class="built_in">reversed</span>(a.values()):</span><br><span class="line">    <span class="built_in">print</span>(value)</span><br><span class="line"></span><br><span class="line"><span class="comment">#以上代码在3.8.6中均可运行</span></span><br></pre></td></tr></table></figure><p>神经网络构建包括层组装和梯度获取两部分，前者使用上一小节建立的层结构和ordereddict构建，后者将各affine层的梯度汇总，然后更新参数。</p><h1>参数更新</h1><p>参数更新的核心数据是损失函数对参数的梯度，前面的两节中，都是基于随机梯度下降法（SGD），而如何更好地使用梯度就是本节的问题。</p><h2 id="SGD">SGD</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SGD</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,lr=<span class="number">0.01</span></span>):</span><br><span class="line">        self.lr = lr</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">update</span>(<span class="params">self,params,grads</span>):</span><br><span class="line">        <span class="keyword">for</span> key <span class="keyword">in</span> params.keys():</span><br><span class="line">            params[key] -= self.lr*grads[key]</span><br></pre></td></tr></table></figure><p>SGD的问题在<strong>梯度不一定指向最小值方向</strong></p><h2 id="momentum">momentum</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#! momentum</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">momentum</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,a=<span class="number">0.9</span>,lr = <span class="number">0.1</span></span>):</span><br><span class="line">        self.a = a</span><br><span class="line">        self.lr = lr</span><br><span class="line">        self.v = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">update</span>(<span class="params">self,params,grads</span>):</span><br><span class="line">        <span class="keyword">if</span> self.v == <span class="literal">None</span>:</span><br><span class="line">            self.v = &#123;&#125;</span><br><span class="line">            <span class="keyword">for</span> key,value <span class="keyword">in</span> params.items():</span><br><span class="line">                self.v[key] = np.zeros_like(value)</span><br><span class="line">        <span class="keyword">for</span> key <span class="keyword">in</span> params.keys():</span><br><span class="line">            self.v[key] = self.v[key]*self.a-self.lr*grads[key]</span><br><span class="line">            params[key] += self.v[key]</span><br></pre></td></tr></table></figure><p>momentum记录了之前所有的梯度，因此可以抵消震荡导致的低效率。</p><h2 id="adagrad">adagrad</h2><p>adagrad比momentum更进一步，使用梯度参数改变学习率。具体来说，梯度越大的参数，学习率将减小。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#! adagrad</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">adagrad</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,lr = <span class="number">0.1</span></span>):</span><br><span class="line">        self.h = <span class="literal">None</span></span><br><span class="line">        self.lr = lr</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">update</span>(<span class="params">self,params,grads</span>):</span><br><span class="line">        <span class="keyword">if</span> self.h == <span class="literal">None</span>:</span><br><span class="line">            self.h = &#123;&#125;</span><br><span class="line">            <span class="keyword">for</span> key,value <span class="keyword">in</span> params.items():</span><br><span class="line">                self.h[key] = np.zeros_like(value)</span><br><span class="line">        <span class="keyword">for</span> key <span class="keyword">in</span> params.keys():</span><br><span class="line">            self.h[key] += grads[key]*grads[key]</span><br><span class="line">            params[key] -= self.lr*grads[key]/(np.sqrt(self.h[key])+<span class="number">1e-7</span>)</span><br></pre></td></tr></table></figure><blockquote><p>*和/代表对应矩阵元素的运算</p></blockquote><p>adagrad的优点是对于梯度很大的噪音（例如震荡梯度）可以很好地去除，但是如果损失函数噪音很小，会导致学习率迅速下降，以至于无法更新。</p><h2 id="其他">其他</h2><p>基于adafrad和momentum还有RMSprop和adam算法等，本书只是给出了代码但没有解释。简单来说，RMSprop能够在一定程度上解决adagrad学习率迅速下降的问题，adam则融合了adafrad和momentum。</p><p><strong>参数的更新方法没有elixir，每种方法都有适用条件，例如许多人还在使用SGD</strong></p><h1>权重初始化</h1><p>之前的学习中，权重都是使用np.random.randn获得的，其含义是建立符合高斯分布的随机参数矩阵。值得注意的是，一般还会乘以一个系数（例如1或0.1），这个系数对权重的初始化意义重大。如果系数过大（如1），输入信号在经过激活层后的信号分布集中于边界处。以sigmoid函数为例，输出信号集中于0和1附近。由于sigmoid函数在0、1附近的梯度接近于0，会产生梯度消失现象。如果系数过小（0.01以下），输出信号会集中于0.5附近。这样虽然避免了梯度消失，但是单一化的权重限制了多神经元的表现力。如果权重为零矩阵，第二层神经元的输入值相同（？？？），则反向传播时全部权重会进行相同的更新，神经网络失效。</p><blockquote><p>这里不太理解，如果偏置是随机值，则第二层输入值不应该不等吗？</p></blockquote><p>解决方法是：若激活函数为线性函数（左右对称且中央附近可视为线性函数，如sigmoid和tanh），使用标准差为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mroot><mfrac><mn>1</mn><mi>n</mi></mfrac><mrow></mrow></mroot></mrow><annotation encoding="application/x-tex">\sqrt[]{\frac{1}{n} }</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.84em;vertical-align:-0.6049em;"></span><span class="mord sqrt"><span class="root"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.3781em;"><span style="top:-2.3781em;"><span class="pstrut" style="height:2em;"></span><span class="sizing reset-size6 size1 mtight"><span class="mord mtight"></span></span></span></span></span></span></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2351em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.1951em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.88em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.88em' viewBox='0 0 400000 1944' preserveAspectRatio='xMinYMin slice'><path d='M983 90l0 -0c4,-6.7,10,-10,18,-10 H400000v40H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5c53.7,-170.3,84.5,-266.8,92.5,-289.5zM1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6049em;"><span></span></span></span></span></span></span></span></span> 的高斯分布初始化；对于ReLU函数，使用标准差为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mroot><mfrac><mn>2</mn><mi>n</mi></mfrac><mrow></mrow></mroot></mrow><annotation encoding="application/x-tex">\sqrt[]{\frac{2}{n} }</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.84em;vertical-align:-0.6049em;"></span><span class="mord sqrt"><span class="root"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.3781em;"><span style="top:-2.3781em;"><span class="pstrut" style="height:2em;"></span><span class="sizing reset-size6 size1 mtight"><span class="mord mtight"></span></span></span></span></span></span></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2351em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.1951em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.88em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.88em' viewBox='0 0 400000 1944' preserveAspectRatio='xMinYMin slice'><path d='M983 90l0 -0c4,-6.7,10,-10,18,-10 H400000v40H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5c53.7,-170.3,84.5,-266.8,92.5,-289.5zM1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6049em;"><span></span></span></span></span></span></span></span></span> 的高斯分布初始化。这里n是上一层的节点数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">weight1 = np.random.randn(<span class="number">3</span>,<span class="number">4</span>) * np.sqrt(<span class="number">1.0</span>/n)</span><br><span class="line">weight2 = np.random.randn(<span class="number">3</span>,<span class="number">4</span>) * np.sqrt(<span class="number">2.0</span>/n)</span><br></pre></td></tr></table></figure><h1>batch normalization</h1><p>权重初始化的目的是使激活值分布地更好。batch normalization是一种强制性让激活值分散的方法，即以mini batch为单位，使数据进行标准差为1、均值为0的正规化分布。batch normalization也可以layer化，位于affine层和激活层之间或激活层之后。</p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/batch_normalization.png" style="zoom: 50%;" /><p>batch normalization的优势：</p><ol><li>提高学习速度</li><li>降低对权重初始值的依赖性</li><li>抑制过拟合（下节）</li></ol><h1>过拟合与正则化</h1><p>过拟合指模型只能拟合训练数据，而对其他的如测试数据拟合较差。深度学习追求的是泛化能力，因此抑制过拟合很重要。过拟合出现的原因有：</p><ol><li>参数多，表现能力强</li><li>训练数据少</li></ol><h2 id="权值衰减">权值衰减</h2><p>过拟合往往是因为权值过大导致的，权值衰减将损失函数加上 $ \frac{1}{2}\lambda W^2 $ （平方范数或L2范数），这样在反向传播时梯度会加上 $ \lambda W $ 。权值越大，减小的速度越快。 $ \lambda$ 为超参数权值衰减系数，权重矩阵的平方是所有元素的平方和，即：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>W</mi><mo>=</mo><msqrt><mrow><msubsup><mi>w</mi><mn>11</mn><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>w</mi><mn>12</mn><mn>2</mn></msubsup><mo>+</mo><mo>…</mo></mrow></msqrt></mrow><annotation encoding="application/x-tex">W=\sqrt{w_{11}^2+w_{12}^2+\dots} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.84em;vertical-align:-0.5413em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2987em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7959em;"><span style="top:-2.4337em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span><span style="top:-3.0448em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner">…</span></span></span><span style="top:-3.2587em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.88em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.88em' viewBox='0 0 400000 1944' preserveAspectRatio='xMinYMin slice'><path d='M983 90l0 -0c4,-6.7,10,-10,18,-10 H400000v40H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5c53.7,-170.3,84.5,-266.8,92.5,-289.5zM1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5413em;"><span></span></span></span></span></span></span></span></span></span></p><p>权值衰减不能对付复杂的NN模型，需要使用下面的dropout</p><h2 id="dropout">dropout</h2><center><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/gif_test.gif" width = "" height = ""></center><p>dropout是一种随机删除神经元的方法，用来模拟多个神经网络的平均模型</p><h2 id="超参数优化">超参数优化</h2><p>神经网络的数据一般划分为training data、validation data和test data，其中验证数据validation data用于评估超参数的性能。经验性的方法是在超参数的某个范围内随机采样，根据accuracy评估。</p><h1>卷积神经网络</h1><p>卷积神经网络convolutional neural network，相对于之前的全连接网络只能输入一维数组，CNN能够直接反应多维数组的空间特征。CNN新增加了卷积层convolution layer和pooling layer，组成了卷积层-激活层-（池化层）的基本结构，取代了affine层-激活层。卷积层的输入和输出数据又可以称为input feature map和output feature map。很多神经网络在输出层前会会放置一个全连接层。</p><blockquote><p>全连接网络形容相邻层的所有神经元之间都有连接</p></blockquote><h2 id="卷积层">卷积层</h2><p>参考<a href="https://kotobanoniwa.xyz/posts/dd983220/">卷积神经网络</a></p><h2 id="池化层">池化层</h2><p>池化层通过将矩阵的每一个区域当成一个元素处理，<strong>缩小空间大小</strong>。如下图所示，处理区域为(2,2)，一般池化层的步幅为处理区域的窗口大小，这里为2。通过将处理区域的最大值元素提取出来组成新的元素，这样的处理称为max池化，适用于图像处理。此外还有average池化等。池化层没有学习参数，并且处理前后通道数不变。</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/pooling_layer.png" alt=""></p><blockquote><p>Sergey Ioffe and Christian Szegedy（2015）: Batch Normalization: Accelerating Deep Network Training by Reducing Internal Covariate Shift. arXiv:1502.03167 [cs] (February 2015).</p></blockquote><h2 id="卷积层和池化层的实现">卷积层和池化层的实现</h2><p>img2col函数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.arange(<span class="number">32</span>).reshape(<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">4</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">im2col</span>(<span class="params">input_data, filter_h, filter_w, stride=<span class="number">1</span>, pad=<span class="number">0</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Parameters</span></span><br><span class="line"><span class="string">    ----------</span></span><br><span class="line"><span class="string">    input_data : 由(数据量, 通道, 高, 长)的4维数组构成的输入数据</span></span><br><span class="line"><span class="string">    filter_h : 滤波器的高</span></span><br><span class="line"><span class="string">    filter_w : 滤波器的长</span></span><br><span class="line"><span class="string">    stride : 步幅</span></span><br><span class="line"><span class="string">    pad : 填充</span></span><br><span class="line"><span class="string">    -------</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    N, C, H, W = input_data.shape</span><br><span class="line">    out_h = (H + <span class="number">2</span>*pad - filter_h)//stride + <span class="number">1</span></span><br><span class="line">    out_w = (W + <span class="number">2</span>*pad - filter_w)//stride + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    img = np.pad(input_data, [(<span class="number">0</span>,<span class="number">0</span>), (<span class="number">0</span>,<span class="number">0</span>), (pad, pad), (pad, pad)], <span class="string">&#x27;constant&#x27;</span>)</span><br><span class="line">    col = np.zeros((N, C, filter_h, filter_w, out_h, out_w))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(filter_h):</span><br><span class="line">        y_max = y + stride*out_h</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(filter_w):</span><br><span class="line">            x_max = x + stride*out_w</span><br><span class="line">            col[:, :, y, x, :, :] = img[:, :, y:y_max:stride, x:x_max:stride]</span><br><span class="line"></span><br><span class="line">    col = col.transpose(<span class="number">0</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>).reshape(N*out_h*out_w, -<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> col</span><br><span class="line"></span><br><span class="line">b = im2col(a,<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line">b.ndim</span><br><span class="line">b.shape</span><br></pre></td></tr></table></figure><p>输入信号经过img2col处理后，转变为(N*out_h*out_w,通道数C*filter_h*filter_w)的矩阵。整个过程相当于将滤波器处理的顺序矩阵区域按行排列（下图）：左侧的矩阵为一个图片矩阵，每一个小三维矩阵代表滤波器要处理的区域，将其按照通道顺序排列，组成二维矩阵（右侧）</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/input_convolution_process.png" alt=""></p><blockquote><p>《深度学习入门——基于python的理论与实现》</p></blockquote><p>滤波器的处理与输入信号类似，将每一个滤波器矩阵根据通道数按列排放（这一点与输入信号不同，思考一下矩阵的乘法规律）<br><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/convolution_layer.png" alt=""></p><blockquote><p>《深度学习入门——基于python的理论与实现》</p></blockquote><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/convolution_work.webp" alt=""></p><blockquote><p>能看懂就是胜利(bushi)</p></blockquote><p>池化层比卷积层简单不少，直接将处理区域按行排列即可；求取每一行的最大值，然后再reshape</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/pooling_process.png" alt=""></p><h2 id="卷积神经网络在干什么">卷积神经网络在干什么</h2><p>之前大三一门关于机器学习的课上第一次接触神经网络，当时稀里糊涂地用matlab搞了一下，一直好奇卷积神经网络究竟在干什么。这本书里终于给了我一点定性的认识。每一个卷积层都能识别出图像的特征，例如第一层响应边缘，第五层响应物体，最后一层（affine层）响应物体类别。</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 深度学习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在市场经济和计划经济的十字路口——新经济政策研究（1921-1929）</title>
      <link href="/posts/11347/"/>
      <url>/posts/11347/</url>
      
        <content type="html"><![CDATA[<h1>产生</h1><p>十月革命后不久推行的余粮收集制并不是纯粹出于战争目的，而是早已成为列宁头脑中实现无产阶级专政和社会主义的最有力手段。大面积饥荒、对余粮收集制的不满、征粮队的粗暴不法行为，农民暴动开始了。其中规模最大的坦波夫起义（安东诺夫暴乱）最令苏维埃政府震撼，它的口号包括：打倒粮食征收制、自由贸易万岁、在斗争中夺回自己的权利、劳动农民联盟万岁。农民起义是促使布尔什维克政党改变政策的根本原因，而喀琅施塔得事件是推动改革的最后一击。事实上，党内对于余粮收集制存在的严重问题一直都有质疑。1920年初托洛茨基在西伯利亚考察后提出替代现有政策的方案，但是遭到政治局多数派的反对。1920年夏已经有部分省份执行事实上的“新经济政策”，而在这些地区苏维埃的风评明显较好。直到这时，列宁仍然坚持“要使每个农民家庭，连一普特余粮都不剩” 。</p><p>到1921年初，形势急转直下，列宁被迫同意用粮食税代替余粮收集制。十大上，布尔什维克高层关于粮食税和自由贸易两大问题存在巨大分歧。不过列宁的想法已经发生了大逆转，新经济政策在列宁的推动下诞生了。3月21日，实物税代替余粮收集制的法令正式通过。次年又改征统一的农业货币税，确保农民保有较高的积极性。商业方面，新经济政策最显著的特征是用“商品买卖”取代“产品交换”，前者曾被列宁视为反革命的资本主义口号。</p><p>新经济政策可概括为下列一些列措施：</p><ol><li>粮食税取代余粮收集制</li><li>允许农产品自由买卖，承认市场机制</li><li>在国家保持经济命脉的情况下实行中小工业的非国有化</li><li>把大工业企业联合成托拉斯和辛迪加，实行经济核算</li><li>取消劳动义务制和劳动动员，按照产品的质量和数量支付劳动报酬</li><li>一定程度上允许私人资本在工业、农业、商业、服务行业中的自由发展，鼓励合作社、农村雇工和租地合法化</li><li>允许外国资本进入，实行租让制和租赁制，重建银行和税收制度</li><li>实行货币改革，取消苏维埃货币，发行稳定的货币切尔文卢布</li></ol><p>可是实行新经济政策不代表真正建立的市场关系。党对经济工作的全面绝对领导缺乏政治体制的保障，使得经济核算、自负盈亏等商业原则实行的可能性为0。</p><h1>两次危机</h1><p>1923年夏秋，由于工业企业过分追求利润，猛烈提高工业品价格，导致工农业剪刀差大幅提高。这导致农民承受不起高昂的工业品价格，工人的工资也被拖欠，引发新一波罢工和农民起义浪潮。第一次危机最终是靠行政指令（而非市场调节）得到解决。1928年初又爆发第二次危机，起因是谷物价格连年下降，而经济作物和畜产品价格不断上涨，农业内部剪刀差加大。这导致农民更倾向于把粮食留下来饲养牲畜，或者种植经济作物。针对这次危机，中央政府仍然无视市场关系，而采取了更加“有效”、直接的方式——利用行政指令对付不出售粮食的农民。斯大林在此基础上提出了 <strong>“贡税论”</strong>，要求农民自行低价出售农产品，并提高工业品价格，将工农业剪刀差合法化，并且动用国家机器镇压不服从的农民。这之后不久斯大林就强制实施了全盘集体化。</p><h1>争论</h1><p>新经济政策的提出者列宁面临着党内大多数人的质疑和反对，坚持民主集中制的他不得不在一定程度上做出让步。反对者将新经济政策视为对农民的让步与妥协，是不可避免的“恶”。因此当农民暴动因为农村改革和武装镇压而平息后，新经济政策的合理性成为焦点，质疑的声音越来越大。1922年列宁病重后，“三驾马车”季诺维也夫、加米涅夫和斯大林开始打击粮食自由贸易。列宁被迫在党的十一大上宣布停止“退却”，转入“进攻”。</p><p>斯大林的观点很能说明为什么新经济政策为什么失败。他将其称之为了实际问题，而非理论问题，因此不屑于花费时间与资产阶级妥协。言下之意为，理论上的错误，就不可能有实行中的正确。这就是大多数死脑筋的共产主义者的观点。列宁最早亦否认市场的调节作用，但是在《论合作社》中，列宁把合作社直接等同于社会主义，而其他左派领导人认为合作社仍属于国家资本主义。党内高层中支持新经济政策的，仅有李可夫和布哈林，即后来的布哈林-李可夫反党集团。托洛茨基派、季诺维耶夫派、斯大林派担心农村分化，都打“反富农”的牌。打压富农和私商的政策得到了怀有平均主义心态的群众的拥护，以有钱、有生产资料为反革命分子的判定标准，劫富济贫的风气蔓延开来。以穷为荣，布尔什维克的许多干部把穷人当作唯一的依靠对象，挑动农民斗农民，动辄发动穷人斗富人，用群众内部矛盾转移党群矛盾。</p><p>左派领导人都是急性子，迷信于行政手段“立竿见影”的效果，在战略上鄙视市场手段，战术上嫌弃市场调节。1926年上任的商业人民委员米高扬宣称：“农民自发势力、农民谷物市场完全为我们所控制，我们随时可以降低或提高粮食价格···因为我们掌握了全部发挥作用的杠杆···因为没有人替庄稼汉说话，没有人妨碍我们！”。</p><p>为什么会这样呢？</p>]]></content>
      
      
      <categories>
          
          <category> 历史 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 苏联史 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1924——1927年的党内斗争</title>
      <link href="/posts/12309/"/>
      <url>/posts/12309/</url>
      
        <content type="html"><![CDATA[<p>本篇为《苏联兴亡史》的读书笔记，时间为2022年11月13日</p><h1>第一反对派——托洛茨基派</h1><p>列宁逝世后不久，4月份托洛茨基发表《论列宁》一书，又在9月发表《十月的教训》。后者刻意强调十月革命前夕季诺维耶夫和加米涅夫因为反对武装起义，故意将起义讯息在报纸上透漏出去，意图打倒斯大林的两个“搭档”。这成了党内第二次斗争的导火索。然而托洛茨基一方本就处于劣势，再加上托洛茨基与列宁在革命前的来往信件 被公布，斗争完全演变为单方面的大批判。</p><blockquote><p>1913年前后托洛茨基和列宁就布尔什维克和孟什维克有巨大分歧，事实上直至十月革命前期托洛茨基才正式加入布尔什维克</p></blockquote><h1>新反对派——季诺维耶夫和加米涅夫派</h1><p>1925年初托洛茨基被解除所有关键职务后，党内第三次斗争接踵而至。斯大林的原“搭档”季诺维耶夫和加米涅夫结成新的反对派，同斯大林的中央多数派对峙。双方对峙的焦点是是否仍继续坚持新经济政策。季诺维耶夫坚持消灭阶级和世界革命的“左倾”路线，这让他与托洛茨基结成联盟。不可思议的是，列宁遗孀克鲁普斯卡娅也是新反对派的重要成员。党内斗争还与“一国社会主义”、新经济政策和农村政策的争论掺和在一起。不过依我看，这些争论完全就是“理论之上”、漠视现实的空想思维。一群完全不体察民情的权力家去用最枯燥无聊的东西决定关乎亿万人生活与生存，这本身就是荒谬的。至于所谓的富农问题，从实际上讲，本就占据少数地位的富农难道比官僚主义危害更大？</p><p>1925年底召开的第十四次代表大会在莫斯科召开，中央派和新反对派展开激烈斗争。结果是季诺维耶夫和加米涅夫为首的新反对派失败，并失去了在列宁格勒的势力。</p><blockquote><p>原本计划在列宁格勒召开。由于列宁格勒是新反对派的大本营，又临时改在莫斯科召开</p></blockquote><h1>托李联盟</h1><p>值得一提的是，托洛茨基在十四大上对两派的斗争采取旁观的态度。不过由于新老反对派在对待农民和新经济政策的态度上极为相似，因此在1926年4月的联共（布）中央全会上不约而同地组成了托李联盟。1926年中旬的拉舍维奇事件成为反对派联盟与中央派公开斗争的导火索。当年7月中央联席会议上反对派提出《十三人声明》，标志着托李联盟正式形成。1927年世界范围内爆发一系列反共运动，使反对派的进攻更进一步。在7月进入一段时期的低谷后，随着十五大即将召开，9月开始两派斗争逐渐走上巅峰。</p><blockquote><p>拉舍维奇事件：新反对派和拉舍维奇在内的部分委员（不包括托洛茨基？）的秘密集会被中央发现，导致拉舍维奇被剥夺一切职务，季诺维耶夫也被解除共产国际的领导职务</p></blockquote><p>10月底托洛茨基和季诺维耶夫被开除出中央委员会，反对派的各项政策、相关公开争论和会议记录甚至被刊登在《真理报》和党内杂志上，这使得中央派在中央以外取得关键性的多数支持。1927年底的十五大正式将托李联盟的75名骨干开除出党，反对派正式宣告失败。</p>]]></content>
      
      
      <categories>
          
          <category> 历史 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 苏联史 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>农业集体化运动</title>
      <link href="/posts/43865/"/>
      <url>/posts/43865/</url>
      
        <content type="html"><![CDATA[<h1>苏联农业集体化运动(1929-1934)</h1><p>本篇为《苏联兴亡史》第十一章的读书笔记，记录时间为2022年11月22日</p><p>宏观上极其美好，微观上脱离实际</p><h2 id="第一次集体化运动（1929-1930）">第一次集体化运动（1929-1930）</h2><p>1929年4月“右倾机会主义”斗争后，集体农庄化速度大大加快。他们通过政治宣传、设立指标、设定deadline等方式逼迫农民加入集体农庄。各地都想更早地跨进社会主义。共产党员采取的措施，包括不加入就剥夺土地和选举权、不在场即视为同意、不加入即被视为苏维埃的敌人、暴力威胁等耳熟能详的手段。但1929年-1930年初的农业集体化运动竟然是被斯大林叫停的。1930年3月2日斯大林在被大量的投诉信淹没后，终于在《真理报》上刊登《胜利冲昏头脑》一文，给集体化运动降温。农民不了解全国集体化运动是怎样组织和高涨起来的，甚至把斯大林当作支持他们反对地方上过火行为的旗手。 一切地方干部也确实收到了处罚，甚至法律制裁。</p><p>4月3日斯大林又发文《答集体农庄庄园同志们》，把责任推给地方干部。这导致1930年十六次党代会上许多干部尖锐批判斯大林不能诚实地评价出现错误的原因。工人马马耶夫在6月9日的《真理报》上刊登《给党的十六次代表大会的信》，要求斯大林有勇气讲出自己的毛病，而不要以此来教训基层党员和群众。当然这些人都无一例外地受到严厉处罚。第一次农业集体化运动事实上是以失败告终的。到1930年7月1日，集体农庄农户降至23.6%，相较于巅峰时期的56%已经降低半数以上。</p><h2 id="消灭富农运动">消灭富农运动</h2><p>1929年12月27日，斯大林在《论苏联土地政策的几个问题》演说中，明确表明，富农是农业集体化运动的死敌，绝不能让富农加入集体农庄。这标志着苏联从限制和排挤富农阶级政策到消灭富农阶级政策的急剧转变。1930年2月4日即将富农划分为第一、二、三类三个等级，分别有7.7万、16.5万、80万户。 第一类为反革命富农，将被送入劳改营或处以极刑，家属被驱逐至边远地区；第二类为反集体化富农，全家被驱逐至边远地区 ；其余的为第三类，被迁至专门地区。然而实际上受到牵连的数目远高于以上数值。</p><blockquote><p>关于第二类和第一类亲属的流放相关历史，参考本站《大迁移——苏联的特殊移民政策及其后果》</p></blockquote><h2 id="这一切到底是为什么？">这一切到底是为什么？</h2><p>略…</p><p>罗莎卢森堡：没有普选，没有不受限制的出版和集会自由，没有自由的意见交锋，任何公共机构的生命就要逐渐灭绝，就成为没有灵魂的生活，只有官僚仍是其中唯一的活动因素。</p><h2 id="第二次农业集体化运动">第二次农业集体化运动</h2><p>到1930年秋，集体农庄运动又掀起新高潮。截至1933年，全国已经建立起224500个集体农庄，农户1520万户，占65%。1935年2月正式规定集体农庄的耕地全部归集体农庄永久使用。到1937年底，全国共243700个集体农庄，1850万户，占93%。1927-1928年间，国家实行非常措施收购粮食，一年的商品粮也只有5亿普特左右。实现集体化后，实行农副产品义务交售制，1933年国家得到11.3亿普特商品粮。全国的粮食总产量没有增加，而商品粮却成倍增加，这背后的原因可想而知。斯大林大幅度出口商品粮，以换取购买工业设备所需要的外汇，是造成大饥荒的直接原因。这种惨无人道的原始积累方式固然完成了工业化，却是打着善意的幌子，建立在本国人民血肉之上的罪恶之证，在残酷程度上资本主义原始积累都决不能与之相提并论。</p>]]></content>
      
      
      <categories>
          
          <category> 历史 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 苏联史 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python实现批量修改文件名称</title>
      <link href="/posts/45714/"/>
      <url>/posts/45714/</url>
      
        <content type="html"><![CDATA[<p>需要修改的有两个地方：文件夹路径和目标名称的格式（基于正则表达式）</p><blockquote><p>文件夹下的子文件夹不影响运行，且不会被更改名称</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># rename file, according to format and regular expression</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">logging.basicConfig(level=logging.INFO,<span class="built_in">format</span>=<span class="string">&#x27;%(asctime)s - %(levelname)s: %(message)s&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">     path = <span class="string">&#x27;D:/test/&#x27;</span></span><br><span class="line">     <span class="comment">#? insert file directory path</span></span><br><span class="line">     regex = re.<span class="built_in">compile</span>(<span class="string">r&#x27;.*?\.(.*)&#x27;</span>)</span><br><span class="line">     <span class="keyword">try</span>:</span><br><span class="line">          filelist = os.listdir(path)</span><br><span class="line">          <span class="built_in">print</span>(filelist)</span><br><span class="line">          n=<span class="number">0</span></span><br><span class="line">          <span class="keyword">for</span> i <span class="keyword">in</span> filelist:</span><br><span class="line">               path_old = path + i</span><br><span class="line">               file_format = re.search(regex,path_old)</span><br><span class="line">               <span class="keyword">if</span> file_format:</span><br><span class="line">                    path_new = path + <span class="string">f&#x27;file<span class="subst">&#123;n&#125;</span>.<span class="subst">&#123;file_format.group(<span class="number">1</span>)&#125;</span>&#x27;</span>   <span class="comment">#type:ignore</span></span><br><span class="line">                    <span class="comment">#? imput new name and format</span></span><br><span class="line"></span><br><span class="line">                    os.rename(path_old,path_new)</span><br><span class="line"></span><br><span class="line">                    logging.info(<span class="string">&#x27;rename %d file&#x27;</span>,n)</span><br><span class="line">                    n+=<span class="number">1</span></span><br><span class="line">               <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">pass</span></span><br><span class="line">     <span class="keyword">except</span>:</span><br><span class="line">          <span class="built_in">print</span>(<span class="string">&quot;file not found&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">     main()</span><br></pre></td></tr></table></figure><p>3月29日修正：部分文件夹（如ondrive）可能因为权限原因无法修改文件名称</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 杂谈 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>N3</title>
      <link href="/posts/46453/"/>
      <url>/posts/46453/</url>
      
        <content type="html"><![CDATA[<h1>unit 1</h1><p>中国旅行をしている間は毎日中国料理を食べました</p><p>新宿と秋葉原の間に駅がいくつありますか</p><p>リンゴはほとんどアメリカあたりから輸入している</p><p>いくら学者でもわからないことがたくさんある</p><p>もう春になったが北海道のほうはまだいくらか寒いようです</p><p>いったん始めた以上は最後まで頑張りなさい</p><p>経済は悪くなる一方で企業の採用の数も減っている</p><p>中級の勉強が始まってから授業が分からなくなる一方だ</p><p>その子は今にも泣きそうな顔で部屋を飛び出していった</p><p>彼にごちそうになった上にプレゼントまでもらった</p><p>人間が生きていく上で絶対必要なものは水である</p><p>よく考えた上でどうするか決めてください</p><p>気がつかないうちに木の葉が落ち始め秋がやって来た</p><p>雨が降っているうちは宿題ができない</p><p>家にばかりいないで映画でも見に行こうじゃないか</p><p>私は日本へ来てからもうすぐ五年が経とうとしている</p><p>あの悲しい事件は忘れようとしても忘れられない</p><h1>unit 2</h1><p>子供が助かったのはあなたのおかげです</p><p>その目覚ましは二十秒おきに二回鳴る</p><p>今のままでは失業者がどんどん増えるおそれがある</p><p>その人にそんなことを言った覚えはない</p><p>日本に来たばかりのころは何度か不愉快な思いをしたものだ</p><p>この花変なにおいがする</p><p>いつも静かで優しいあの人がそんなことを言ったなんてちょっと信じがたいことだ</p><p>何度も失敗をするとまた失敗をするのではないかと考えがちになる</p><p>我々の意見がしっかりしているのだが君が賛成するかどうか聞きたいんです</p><p>雨は今晩から明日の朝にかけて降り続くようです</p><p>成績からいうと・いえば・いって、田中さんはクラスのトップです</p><p>あの方は服装からして先生らしくない</p><p>田舎は空気からして違う</p><p>彼の能力からすると東京大学に十分合格できるだろう</p><p>私から見ると</p><p>兄は本当は気が弱いんです、強がっているだけです</p><p>部長の代わりに私がそのパーティーに出席した</p><p>天気が良かったのでいつものバスで行く代わりに歩いて行った</p><p>林さんに剣道を教えてもらう代わりに彼に中国語を教えてあげます</p><h1>unit3</h1><p>桜が見ると春が来たという感じがしますね</p><p>部屋にだれかがいる気がする</p><p>今日は頭がちょっと痛いのであまり仕事する気がしない</p><p>昨日から風邪気味で頭が痛い</p><p>ノルウェイの森を一か月かけて読みきった</p><p>こんなたくさんのごちそうは一人で一度に食べきれません</p><p>毎日忙しいのでもう疲れきった</p><p>花子ちゃんはもう病気が治ったくせに働こうとしない</p><p>怖くて一人でトイレに行けないくらい・ぐらい・ほどだ</p><p>知らない土地を歩くくらい・ぐらい・ほど楽しいことはないと思う</p><p>大学に入ることこそ今の私の最大の目標です</p><p>心配なことに弟はまだ帰ってきません</p><p>困ったことに相手の名前はどうしても思い出せなかった</p><p>信じられないことに：令人难以置信的是</p><p>法律では二十歳未満はお酒を飲んでは行けないことになっている</p><p>会議は午後二時からということになっている</p><p>傘はまだ使えるから新しいものを買うことはない</p><p>鈴木さんはご飯を食べている最中に突然変な声を出した</p><p>Ｎ１試験の漢字の中には先生さえ・でさえ読めない漢字がある</p>]]></content>
      
      
      <categories>
          
          <category> 语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日语文法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>多进程使用——以爬取豆瓣榜单为例</title>
      <link href="/posts/60146/"/>
      <url>/posts/60146/</url>
      
        <content type="html"><![CDATA[<p>今天早上学习了进程和线程，并且结合之前写的beautifulsoup文件完成了对豆瓣top250的多进程爬取。</p><blockquote><p>特别强调：使用多进程爬虫极易导致403警告（悲），慎用！</p></blockquote><h1>beautifulsoup部分</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tasks.py</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用bs4爬取douban</span></span><br><span class="line"><span class="comment"># 要点：单目标使用css选择器，多目标使用findall遍历，获取文本尽量选择get_text()，string部分情况会提取不到</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">from</span> os <span class="keyword">import</span> makedirs</span><br><span class="line"><span class="keyword">from</span> os.path <span class="keyword">import</span> exists</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">logging.basicConfig(level=logging.INFO,<span class="built_in">format</span>=<span class="string">&#x27;%(asctime)s - %(levelname)s: %(message)s&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main_url = <span class="string">&#x27;https://movie.douban.com/top250&#x27;</span></span><br><span class="line">headers =   &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.149 Safari/537.36&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">total_page = <span class="number">10</span></span><br><span class="line">result_doc = <span class="string">&#x27;test&#x27;</span></span><br><span class="line">exists(result_doc) <span class="keyword">or</span> makedirs(result_doc)<span class="comment">#type:ignore</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_url</span>(<span class="params">page</span>):</span><br><span class="line">    url = <span class="string">f&#x27;<span class="subst">&#123;main_url&#125;</span>?start=<span class="subst">&#123;page&#125;</span>&amp;filter=&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> crawl_index(url)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">crawl_index</span>(<span class="params">url</span>):</span><br><span class="line">    cont = requests.get(url,headers=headers)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">if</span> cont.status_code == <span class="number">200</span>:</span><br><span class="line">            soup = BeautifulSoup(cont.text,<span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line">            <span class="keyword">return</span> soup</span><br><span class="line">        logging.error(<span class="string">&#x27;getting wrong code %s while crawling %s&#x27;</span>,cont.status_code,url)</span><br><span class="line">    <span class="keyword">except</span> requests.RequestException:</span><br><span class="line">        logging.error(<span class="string">&#x27;error occurred while scraping %s&#x27;</span>, url, exc_info=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">parse_index</span>(<span class="params">soup</span>):</span><br><span class="line">    <span class="keyword">for</span> elem <span class="keyword">in</span> soup.find_all(<span class="string">&#x27;div&#x27;</span>,&#123;<span class="string">&#x27;class&#x27;</span>:<span class="string">&#x27;hd&#x27;</span>&#125;):</span><br><span class="line">        <span class="keyword">yield</span> (elem.a[<span class="string">&#x27;href&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">crawl_detail</span>(<span class="params">url</span>):</span><br><span class="line">    <span class="keyword">return</span> crawl_index(url)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">parse_detail</span>(<span class="params">soup</span>):</span><br><span class="line">    name = soup.find(<span class="string">&#x27;span&#x27;</span>,&#123;<span class="string">&#x27;property&#x27;</span>:<span class="string">&quot;v:itemreviewed&quot;</span>&#125;).string</span><br><span class="line">    director = soup.select(<span class="string">&#x27;#info &gt; span:nth-child(1) &gt; span.attrs &gt; a&#x27;</span>)[<span class="number">0</span>].get_text()</span><br><span class="line">    <span class="comment"># select为bs4的css选择器</span></span><br><span class="line">    actors = soup.find_all(<span class="string">&#x27;a&#x27;</span>,&#123;<span class="string">&#x27;rel&#x27;</span>:<span class="string">&quot;v:starring&quot;</span>&#125;)</span><br><span class="line">    actor = []</span><br><span class="line">    <span class="keyword">for</span> em <span class="keyword">in</span> actors:</span><br><span class="line">        actor.append(em.string)</span><br><span class="line">    categories = soup.find_all(<span class="string">&#x27;span&#x27;</span>,&#123;<span class="string">&#x27;property&#x27;</span>:<span class="string">&quot;v:genre&quot;</span>&#125;)</span><br><span class="line">    category = []</span><br><span class="line">    <span class="keyword">for</span> em <span class="keyword">in</span> categories:</span><br><span class="line">        category.append(em.string)</span><br><span class="line">    times = soup.find_all(<span class="string">&#x27;span&#x27;</span>,&#123;<span class="string">&#x27;property&#x27;</span>:<span class="string">&quot;v:initialReleaseDate&quot;</span>&#125;)</span><br><span class="line">    time = []</span><br><span class="line">    <span class="keyword">for</span> em <span class="keyword">in</span> times:</span><br><span class="line">        time.append(em.string)</span><br><span class="line">    score = soup.select(<span class="string">&#x27;#interest_sectl &gt; div.rating_wrap.clearbox &gt; div.rating_self.clearfix &gt; strong&#x27;</span>)[<span class="number">0</span>].string</span><br><span class="line">    summary = soup.select(<span class="string">&#x27;#link-report-intra &gt; span:nth-child(1)&#x27;</span>)[<span class="number">0</span>].get_text().strip().replace(<span class="string">u&#x27;\u3000&#x27;</span>, <span class="string">u&#x27; &#x27;</span>).replace(<span class="string">u&#x27;\xa0&#x27;</span>, <span class="string">u&#x27; &#x27;</span>).replace(<span class="string">&#x27;\n&#x27;</span>,<span class="string">&#x27;&#x27;</span>).replace(<span class="string">&#x27;\r&#x27;</span>,<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">&#x27;name&#x27;</span>:name,</span><br><span class="line">        <span class="string">&#x27;director&#x27;</span>:director,</span><br><span class="line">        <span class="string">&#x27;actor&#x27;</span>:actor,</span><br><span class="line">        <span class="string">&#x27;category&#x27;</span>:category,</span><br><span class="line">        <span class="string">&#x27;time&#x27;</span>:time,</span><br><span class="line">        <span class="string">&#x27;score&#x27;</span>:score,</span><br><span class="line">        <span class="string">&#x27;summary&#x27;</span>:summary</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">save</span>(<span class="params">data</span>):</span><br><span class="line">    name = data.get(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">    data_path = <span class="string">f&#x27;<span class="subst">&#123;result_doc&#125;</span>/<span class="subst">&#123;name&#125;</span>.json&#x27;</span></span><br><span class="line">    json.dump(data,<span class="built_in">open</span>(data_path,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>),ensure_ascii=<span class="literal">False</span>,indent = <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main_task</span>(<span class="params">page</span>):</span><br><span class="line">    index_html = get_url(<span class="number">25</span>*page)</span><br><span class="line">    detail_urls = parse_index(index_html)</span><br><span class="line">    <span class="keyword">for</span> detail_url <span class="keyword">in</span> detail_urls:</span><br><span class="line">        detail_html = crawl_detail(detail_url)</span><br><span class="line">        data = parse_detail(detail_html)</span><br><span class="line">        logging.info(<span class="string">&#x27;get detail data %s&#x27;</span>,data)</span><br><span class="line">        logging.info(<span class="string">&#x27;saving data&#x27;</span>)</span><br><span class="line">        save(data)</span><br><span class="line">        logging.info(<span class="string">&#x27;save data successfully&#x27;</span>)</span><br></pre></td></tr></table></figure><h1>multiprocess部分</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># main.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Pool</span><br><span class="line"><span class="keyword">from</span> tasks <span class="keyword">import</span> main_task</span><br><span class="line"></span><br><span class="line">TOTAL_PAGE = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    pool = Pool(<span class="number">8</span>)</span><br><span class="line">    pages = <span class="built_in">range</span>(<span class="number">1</span>, TOTAL_PAGE + <span class="number">1</span>)</span><br><span class="line">    pool.<span class="built_in">map</span>(main_task, pages)</span><br><span class="line">    pool.close()</span><br><span class="line">    pool.join()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> scraping </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>卡廷事件</title>
      <link href="/posts/47336/"/>
      <url>/posts/47336/</url>
      
        <content type="html"><![CDATA[<p>本篇文献来自《一个大国的崛起与崩溃——苏联历史专题研究（1917-1991）》，作者为中国社科院俄罗斯东欧中亚研究所研究员吴伟。非常巧的是，我和吴老师都是来自河南最东部的小县城。</p><h1>1939苏联入侵波兰</h1><p>关于1939年的苏波战争的前因，本文并没有涉及，但我觉得还是有必要了解的。</p><blockquote><p>苏波战争一般指发生在1919-1921年的战争，以苏俄惨败告终。这次战争也可视为1939年战争的诱因</p></blockquote><p>从1938年起，德国的扩张野心开始付诸行动。3月，德国吞并奥地利；5月，捷克斯洛伐克五月危机，德国占领苏台德地区；10月慕尼黑会议，英法对德国采取绥靖政策。针对德国的行动，苏联从1933年起就希望与英法联合，共同对抗德国。但是一系列条约都由于种种原因未能发挥作用（如东方公约、法苏互助条约）。1939年初，苏联在与英法协商迟迟未果的情况下私下与德国谈判，并在8月23日苏德成功缔结互不侵犯条约。</p><p>1939年9月1日，德军进攻波兰，第二次世界大战爆发。根据互不侵犯条约的内容，苏联声称波兰国家不复存在，于9月17日出兵占领西乌克兰和西白俄罗斯地区，并与德国进行土地划分。</p><h1>苏联对待俘虏的态度</h1><p>苏联军队势如破竹，仅用十天就占领了既定目标，如何处理25万战俘成为一个棘手的问题。10月1日左右斯大林的决定是，释放乌克兰族和白俄罗斯族的战俘；德占区战俘被交给德国；剩余25000名普通士兵被留下当苦力；军官、警察、间谍等人员（<strong>“优待战俘”</strong>）被单独安置在几个战俘营。这种划分显然带有阶级差异，表明苏联出兵波兰的目的就是为了彻底粉碎波兰的“上层”统治阶级。在苏联领导人的眼中，统治阶级自然而然地反对苏维埃统治，因此绝无可能放他们回去。作者特别强调，这种“偏见”源于政治制度，而不以人的意志为转移。</p><h1>瓜分波兰</h1><p>10月4日，苏德签订《苏德友好及边界条约》和三个秘密协定议定书，彻底瓜分波兰。苏联为了美化侵略采取了一系列措施，包括:</p><ul><li>在条约中明确划定的界限是最后的边界并排除他国的干涉，即第三国提起异议反倒是对苏德两国利益的侵犯（美国直呼内行）</li><li>迅速在占领区建立党组织，并命令他们提出加入苏维埃的请求（2022年的乌克兰笑而不语）<br>苏联打着乌克兰族和白俄罗斯族要求统一的旗号，旗帜鲜明搞侵略；把国际问题转化为内政问题，并且光明利落的宣称自己拥有单方面的解释权。</li></ul><p>苏联用四个月的时间完成了波兰的苏维埃化，其手段不必多言。</p><h1>苏芬战争，一个“小小的”转折</h1><p>1939年11月30日，苏联发动苏芬战争（冬季战争）。苏联领导人认为能够像苏波战争一样快速取得胜利，因此如何清理“优待战俘”再一次成为棘手的问题。然而苏芬战争进行的并不顺利，截止到12月底甚至只有150名芬兰战俘，并没有出现预想的战俘问题。但苏芬战争提供了一个让贝利亚注意到“优待战俘”的契机。12月31日，贝利亚下令彻底调查战俘的身份和反革命罪行；发展谍报人员。贝利亚态度的转变不无道理，这群由波兰军官、军医、神父、资产阶级组成的知识分子普遍具有高涨的爱国主义情绪，他们不满受到的不公平对待。尽管只有少数人采取实际行动（如自杀、矿工、逃跑、建立小组织），但是在苏维埃式的审查之下，小问题被无限放大为严重问题。次年2月，贝利亚开始推行一贯采用的“减负”策略。减负无外乎三种途径：释放、劳改、处决。奥斯塔什科夫战俘营负责人索普鲁年科建议释放老弱病残和家在乌克兰/白俄罗斯的预备役军官共700人，再根据阶级划分出了要继续审查的约1100人。但贝利亚并没有采纳这个建议的前半部分，而是把这些人统统关进了内务部的监狱。这一举动已经暗示了战俘的悲惨命运。</p><blockquote><p>直到1940年2月苏联惨胜芬兰也仅有1100名战俘，甚至是之前准备的最小的战俘营都可以容纳所有人。</p></blockquote><h1>草率的悲剧</h1><p>1940年2月底3月初，政治局通过了两个重要决定：将战俘家属共20000余户迁往哈萨克；对全部战俘在<strong>审查</strong>后处以极刑。5月中旬战俘管理局的统计结果是，共处决22436人（包括三座战俘营15131人和西乌克兰/白俄罗斯监狱的7305人）。另有395人为被处死，绝大多数为贝利亚早前安置的间谍。为了永远埋藏真相，枪决全部秘密进行，甚至连凶器都是德国造瓦尔德手枪。埋尸地点包括斯摩棱斯克附近的卡廷森林、哈尔科夫和加里宁的内务部别墅区附近（分别为皮亚季哈特卡和梅德诺耶）。苏联消灭战俘的原因在第一节就已经阐明：苏维埃的敌人必须消灭。更重要的是，在半年多的关押中，苏联人发现这些战俘仍未背叛祖国与信仰，他们的改造失败了（这种改造要能成功才是真见鬼了）。这种草率的屠杀并不会反映专制的强大，反而是无能和信仰丧失的表现。</p><blockquote><p>第二个决定，即贝利亚给斯大林的一封信上有斯大林、莫洛托夫、米高扬、伏罗希洛夫的亲笔签名，还有加里宁、卡冈诺维奇表示同意的字样<br>充满苏维埃色彩的审查，先射箭后画靶</p></blockquote><h2 id="秘密行动的暴露与真相大白">秘密行动的暴露与真相大白</h2><p>1943年4月13日柏林电台向世界报告了卡廷森林的惨案，使苏联的秘密行动被曝光。16日，苏联发布公告称，‘德国企图用谎言掩盖自己的罪行’，还给出了两条反击理由：1941年苏德战争爆发后建筑工地的波兰战俘落入德军手中；卡廷森林是著名的考古发掘地。这两条理由根本就是避重就轻，甚至戈培尔都嘲笑苏联太过胡扯。但正在二次世界大战的关键时期，双方形势皆不明朗，再加上德国分裂反法西斯联盟的企图众人皆知，英美只得睁一只眼闭一只眼。</p><blockquote><p>以下内容取自维基百科，非书中内容</p></blockquote><p>进入冷战后，美国国会的一个调查组认为卡廷惨案由苏联所为，但罪行责任在西方仍然充满争议。直到80年代末，有苏联学者披露斯大林下令杀害了波兰战俘。1990年戈尔巴乔夫与时任波兰总统雅鲁泽尔斯基会谈时确认了卡廷森林之外的另外两个埋尸地点。自此之后原始资料陆续公布，我们才得以知晓卡廷事件的真相。</p>]]></content>
      
      
      <categories>
          
          <category> 历史 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 苏联史 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>xpath路径和css选择器的使用</title>
      <link href="/posts/2928/"/>
      <url>/posts/2928/</url>
      
        <content type="html"><![CDATA[<h1>路径</h1><h2 id="绝对路径">绝对路径</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/html/body/p        </span><br><span class="line">html&gt;body&gt;p</span><br></pre></td></tr></table></figure><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">直接子节点</th><th style="text-align:center">子孙节点</th></tr></thead><tbody><tr><td style="text-align:center">css</td><td style="text-align:center">&gt;</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">xpath</td><td style="text-align:center">/</td><td style="text-align:center">//</td></tr></tbody></table><h2 id="相对路径">相对路径</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//div//p            # 这里的//代表从当前节点往下寻找</span><br><span class="line">div p</span><br></pre></td></tr></table></figure><p>通配符*代表选择全部</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//div/*</span><br><span class="line">div&gt;*</span><br></pre></td></tr></table></figure><h1>属性</h1><h2 id="xpath">xpath</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//*[@class=&#x27;test for xpath&#x27;]    #精确匹配</span><br><span class="line">//p[@id]        #选择全部拥有id属性的元素</span><br></pre></td></tr></table></figure><blockquote><p>文本使用单双引号都可以，但是可能会和编程语言冲突，因此我一般使用双引号，而python使用单引号<br>对于选取全部元素，如果根据tag名查找，则无需加*，如果只是用属性名查找，则需要*，如</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//p[@id=&#x27;test&#x27;]</span><br><span class="line">//*[@id=&#x27;test&#x27;]</span><br></pre></td></tr></table></figure><h2 id="css">css</h2><p>d<br>常用的id和class属性有以下简写形式</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#id</span><br><span class="line">.class</span><br></pre></td></tr></table></figure><p>一般的属性写法如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[href=&quot;https://&quot;]       </span><br><span class="line">[href^=&quot;http&quot;][class=&quot;test&quot;]        </span><br></pre></td></tr></table></figure><blockquote><p>^代表开头，$代表节尾，[]连写代表多种属性筛选</p></blockquote><p>应用实例：选择博客主页下全部文章的div</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#recent-posts .recent-post-item</span><br></pre></td></tr></table></figure><h1>次序和顺序选择</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//div/p[2]      #选择div标签中第二个p元素</span><br><span class="line">//p[last()]     #选取最后一个p元素</span><br><span class="line">//p[position()&lt;=2&gt;]</span><br><span class="line">//p[position()&lt;3&gt;]      #二者等价，选取前两个p元素</span><br></pre></td></tr></table></figure><blockquote><p>xpath编号从1开始！<br>涉及测序选择的，建议使用xpath路径，css比较复杂<br>单独使用//p[2]的含义是选取任意节点下的第2个p元素（如果存在），不推荐此用法</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//p | // div        #多选</span><br><span class="line">p , div</span><br><span class="line"></span><br><span class="line">//p[1]/..       #父节点</span><br></pre></td></tr></table></figure><h1>练习</h1><p>以本网站为例(不一定是最简单的，主要是为了练习各种功能)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 选取本博客主页下的全部最近文章div元素</span><br><span class="line">//body//div[@class=&quot;recent-post-item&quot;][1]/following-sibling::*[@class] | //body//div[@class=&quot;recent-post-item&quot;][1]      </span><br><span class="line">.recent-posts .recent-post-item     </span><br><span class="line"></span><br><span class="line"># 选取右上角菜单栏</span><br><span class="line">//div[@id=&quot;menus&quot;]//div[@class=&quot;menus_item&quot;]</span><br><span class="line">#menus .menus_item</span><br><span class="line"></span><br><span class="line"># sidebar的标签</span><br><span class="line">//div[@class=&quot;card-tag-cloud&quot;]/a</span><br><span class="line">.card-tag-cloud a</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> scraping </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>N4复习</title>
      <link href="/posts/8335/"/>
      <url>/posts/8335/</url>
      
        <content type="html"><![CDATA[<p>记录一下复习中学习到的新知识，参考网站为<a href="https://www.sigure.tw/">時雨の町</a></p><h1>第一天</h1><h2 id="について">について</h2><blockquote><p>その事件についての説明</p></blockquote><blockquote><p>彼の仕事については知りませんでした</p></blockquote><p>类比</p><ul><li>によると  ——听说</li><li>にとって  ——对于某人来说（to）</li></ul><h2 id="形容詞・形容動詞＋がる">形容詞・形容動詞＋がる</h2><blockquote><p>あかちゃんが暑がっている時のサインはわかりますか</p></blockquote><p>描述他人的感觉不直接使用形容词/形容动词，而是借助がる（动词活用，因此宾语使用を而不是が）</p><blockquote><p>彼は犬を怖がっている</p></blockquote><h3 id="使用：たがる＝たい＋がる">使用：たがる＝たい＋がる</h3><blockquote><p>彼女は海を見たがっている</p></blockquote><p>注意：疑问句和修饰句同第一人称</p><blockquote><p>彼女は行きたいといっている</p></blockquote><h3 id="がっている-＆-がる">がっている　＆　がる</h3><p>前者形容个人的状态，后者侧重客观事实描述</p><blockquote><p>人は幽霊を怖がる</p></blockquote><h1>第二天</h1><h2 id="と-＆-たら-＆-なら-＆-ば">と　＆　たら　＆　なら　＆　ば</h2><p>这这四个词之中，と和ば比较像，なら和たら比较像</p><h3 id="と">と</h3><p>使い方：普通形（だ）<br>一···就···，有时间的紧凑感；用于客观结果的描述，不以人的意志未改变；不能接主观语气/意志动词（见下一节）</p><blockquote><p>雨が降ると試合は中止してください（違い）<br>雨が降ったら試合は中止してください（正解）<br>###　ば<br>如果···就···，与と含义接近，也可用于客观描述</p></blockquote><h3 id="たら">たら</h3><p>使い方：过去形<br>区别方法：前句假定条件成立时（因此是过去形），则会有后句的结果；还有“发现”的用法；</p><blockquote><p>家に帰ったら誰もいなかった</p></blockquote><h3 id="なら">なら</h3><p>使い方：终止形<br>区分方法：说话者知道某件事，并且以这件事为假设・条件提出结论，即<strong>针对上文提出结论</strong>，译为···的话比较好</p><blockquote><p>あの店の服がやすいです　　ー－－－     安いなら買いましょう<br>此外还可以用在各种时态，比如过去时<br>昨日安かったなら今日も安いでしょう</p></blockquote><p>##　动词使役形的助词用法————を　＆　に</p><p>动词为他动词，则用</p><p>动词为自动词，一般用を，如果又是意志动词，且使役者和被使役者均为人/动物，则可以用に</p><blockquote><p>彼女は彼を感動させました<br>意志动词指人的一直可以操作的动作动词　歩く　行く，非意志动词指感情动词　驚く　困る<br>此外，如果被使役者后又出现助词，则可以用に<br>このメッセージが彼にやる気を起こさせました</p></blockquote><h2 id="动词受身形">动词受身形</h2><p>动词受身形可以表达被动（包括迷惑の受身）、可能、自发、尊敬四种含义；值得注意的有可能和尊敬两种用法</p><p>对于一类动词（五段动词），可能形包括（以読む为例）読める・読まれる，由于后者易与被动形混淆，一般用前者</p><p>对于二类动词（一段动词），可能形为られる，助词为が<br>而当表示尊敬用法时，助词为を</p><blockquote><p>新聞が読まれますか<br>新聞を読まれますか<br>这两种说法的意思完全不同，一定要注意！</p></blockquote><h2 id="ず-＆-ぬ">ず　＆　ぬ</h2><p>ず为连用否定，ぬ为连体否定（更少用）<br>具体来说，ずに相当于ないで，ず相当于なくて；前者用于连接两个动作，后者用于描述并列关系或陈述理由</p><blockquote><p>電気を消さずに寝てしまった<br>兄は合格せず弟は合格した<br>彼女に会えず苦しい</p></blockquote><p><strong>三类动词使用せず/せぬ</strong></p><p>这两种古体否定经常用在歌词中</p><blockquote><p>思わ<strong>ず</strong>目を逸らしてしまったのはどうやったって忘れられない君の言葉</p></blockquote><h1>第三天</h1><p>##　そうだ（样态助动词）</p><table class="tg"><tbody>  <tr>    <td class="tg-0pky">动词</td>    <td class="tg-0pky">肯定<br>否定</td>    <td class="tg-0pky">ます形＋そうだ<br>ます形そうに・も・にもない</td>  </tr>  <tr>    <td class="tg-c3ow">形容词</td>    <td class="tg-c3ow">肯定<br>否定</td>    <td class="tg-c3ow">ーい＋そうだ<br>く＋なさそうだ</td>  </tr>  <tr>    <td class="tg-c3ow">形容动词</td>    <td class="tg-c3ow">肯定<br>否定</td>    <td class="tg-c3ow">そうだ<br>ではなさそうだ</td>  </tr></tbody></table><p>该文法<strong>不能用于明显的、一眼就能看出来的事物</strong>，如</p><blockquote><p><s>かわいそう子供</s></p></blockquote><p><strong>注意！</strong> 只有样态中存在なさ・よさ，传闻助动词的中仍为ない・よい（普通形否定）</p><p>另类用法：名词（只能用于否定）</p><blockquote><p>彼は先生ではなさそうです</p></blockquote><h2 id="ようだ比况助动词">ようだ比况助动词</h2><ul><li>主观推测</li><li>比喻</li></ul><blockquote><p>彼は君が思っているような人ではない</p></blockquote><ul><li>举例</li></ul><blockquote><p>犬や猫のような動物が好きです</p></blockquote><h2 id="ようだ・そうだ・らしい・みたい-总结">ようだ・そうだ・らしい・みたい　总结</h2><p>そうだ包括传闻和样态两种用法，前者相对独立，而后者与ようだ・らしい・みたい较为接近</p><table class="tg"><tbody>  <tr>    <td class="tg-0pky">そうだ（样态）</td>    <td class="tg-0pky">眼前的景象</td>  </tr>  <tr>    <td class="tg-c3ow">ようだ<br>みたい（口语）</td>    <td class="tg-c3ow">自身感觉</td>  </tr>  <tr>    <td class="tg-c3ow">らしい</td>    <td class="tg-c3ow">客观信息/传闻</td>  </tr></tbody></table><blockquote><p>そうだ（传闻）和らしい接近</p></blockquote><h1>第四天</h1><h2 id="よ-う＋とする・と思う">(よ)う＋とする・と思う</h2><blockquote><p>(よ)う＋とする应用见下一节</p></blockquote><p>とする表示正要做什么的时候发生了某事，一般接と・とき・ところ<br>と思う表示计划做某事</p><h2 id="から-＆-ので">から　＆　ので</h2><p>から有主观色彩，表示自己的“独断专行”</p><blockquote><p>風邪を引いたから学校を休みました（同辈）<br>ので语气委婉，尊重他人<br>風邪を引いたので学校を休みました（长辈）</p></blockquote><h2 id="尊敬语-谦让语-N4">尊敬语 &amp; 谦让语(N4)</h2><p>尊敬語    お・ご＋ます形＋になります</p><p>謙譲語    お・ご＋ます形＋する・いたす</p><blockquote><p>社長はもうお帰りになりました<br>写真をお撮りにしましょうか<br><s>写真を撮ってあげましょうか</s><br>あげる带有赏赐的语气，不能用于长辈/生人</p></blockquote><p><s>休息一天</s></p><h1>第五天</h1><h2 id="过去形-ことにする">过去形+ことにする</h2><p>表示&quot;当作···&quot;的含义</p><blockquote><p>見なかったことにする<br>そのことは聞かなかったことにする</p></blockquote><h2 id="可能形-＆-ことができる">可能形　＆　ことができる</h2><p>可能形仅表示能力，ことができる既可表示能力，又可表示环境不允许</p><blockquote><p>日本語は話せません<br>日本語は話すことができません    （不会说日语 / 这个场合不能说日语）</p></blockquote><h2 id="ところ-使い方">ところ　使い方</h2><h3 id="よ-う＋としていたところ">(よ)う＋としていたところ</h3><p>中文释义：正要做某事的时候，强调这个动作已经开始，所以使用た形，也可以使用普通形ところ或(よ)う＋としているところ（意思比较接近，但不完全相同）</p><blockquote><p>ちょうど寝ようとしていたところ電話がかかってきた   (人已经躺在床上)<br>お出かけされるところ申し訳ありませんが少しだけ時間をください<br>这里受身形为敬语，ところ+敬语是一种打扰别人时候的常用表达</p></blockquote><h3 id="过去形ところ-过去形ばかり">过去形ところ &amp; 过去形ばかり</h3><p>中文释义：刚刚做某事</p><h1>第六天</h1><h2 id="ようにする-＆-ようになる">ようにする　＆　ようになる</h2><p>ようにする：下定决心养成某种习惯，常与できるだけ搭配，ている表示长期的习惯</p><blockquote><p>毎日一時間運動するようにしている<br>ようになる：习惯上的演变，多指由无能力到有能力<br>母親はやっとパソコンが使えるようになった</p></blockquote><h2 id="ように言う-＆-と言う">ように言う　＆　と言う</h2><p>ように言う表示间接性引用（非直接对话内容），直接对话内容使用と言う，例如</p><blockquote><p>私は子供に宿題をするように言う         （间接转述）<br>私は子供にしゅくだいをしなさいと言う   （直接）</p></blockquote><h2 id="てはいけない・ならない・だめだ">てはいけない・ならない・だめだ</h2><p>いけない・ならない意思相近，均为禁止/不可以这么做，其中后者的约束力更强<br>ては和では常略读为ちゃ・じゃ</p><h2 id="それで-＆-そこで">それで　＆　そこで</h2><p>それで指前项<strong>造成</strong>的结果（客观性），译为“因此”，与そのために・それだから意思相近，前后因果关系强</p><blockquote><p>私は最近タバコを止めました。それで健康になりました<br>それで还可以表示“所以呢”，类似于“so”，可简化为で</p></blockquote><p>そこで指针对前项内容<strong>做出</strong>的结果（主观性），译为“为此，于是”，相当于そういうわけで</p><blockquote><p>足を怪我した、そこで病院へ行くことにした<br>そこで还可以表示“接下来/next”，相当于さて<br>そこで还可以表示“当下时刻”，相当于この時に</p></blockquote><h1>第七天</h1><p>##　まで表“甚至”</p><blockquote><p>あなたまでそう思うの？    （连你也那样想吗）</p></blockquote><h2 id="でも">でも</h2><h3 id="名词-でも">名词 + でも</h3><p>中文释义：连···都···</p><blockquote><p>そんなことは子供でもできます</p></blockquote><h3 id="名词-でも-2">名词 + でも</h3><p>中文释义：邀请性质的举例</p><blockquote><p>お茶でもを飲みますか</p></blockquote><p>###　疑问词 + でも</p><p>中文释义：无论···都···（与も相同）</p><blockquote><p>わからないことがあったらいつでも聞いてください</p></blockquote><h2 id="も">も</h2><h3 id="疑问词-も">疑问词 + も</h3><p>中文释义：无论···都···（与でも相同）</p><blockquote><p>どちらも正しいです</p></blockquote><p>###　数量词 + も（经历）</p><blockquote><p>わたしは一度も中国に行ったことがありません      我一次中国也没去过<br>わたしは何度も中国に行ったことがありません      我没去过中国几次<br>わたしは何度も中国に行ったことがあります        我去过中国很多次</p></blockquote><h3 id="数量词-も（惊讶）">数量词 + も（惊讶）</h3><blockquote><p>彼は百曲も作ったことができます     他创作的歌曲甚至超过100首<br>　財布の中には百円も残っていません   钱包里只剩下不到一百元</p></blockquote><h3 id="名詞-も">名詞 + も</h3><p>中文释义：连···都···</p><h3 id="形容詞く-も">形容詞く + も</h3><p>中文释义：最···</p><blockquote><p>遅くも夕方には帰ります    最晚傍晚就会回来</p></blockquote><h2 id="も与でも的混用">も与でも的混用</h2><h3 id="誰でも-＆-誰もが">誰でも　＆　誰もが</h3><p>一般用于肯定句，が代表的是疑问词的主语</p><blockquote><p>ここは誰でも・誰もが食事できる場所だ</p></blockquote><h3 id="誰も">誰も</h3><p>一般用于否定句，中文表示都没有···或都无法···</p><blockquote><p>誰もそんなことを言っていない<br>誰もできない</p></blockquote><h3 id="誰にも">誰にも</h3><p>一般用于否定句，中文表示（以其他所有人为对象）没有···</p><blockquote><p>誰にも言っていない<br>誰にも負けない</p></blockquote><h2 id="终助词">终助词</h2><h3 id="かい-＆-だい">かい　＆　だい</h3><p>男性用法，跟在普通形（词干·词干）或普通形（なの·なの），其中かい多用于没有疑问词的句子，だい一般与疑问词连用</p><blockquote><p>学校の成績は良かったかい？<br>　全部言ったらどうだい？</p></blockquote><h3 id="の">の</h3><p>女性用法，用法为普通形（な·な）以及疑问词+な</p><blockquote><p>会議はいつなの？</p></blockquote><p>の可以表示三种含义</p><ul><li>疑问词（同かい·だい）</li><li>强调</li><li>女性的命令形（对应的是男性用法な）</li></ul><h3 id="のだ・んだ">のだ・んだ</h3><p>のだ口语化为んだ，为男性的强调用法，与女性的の相对</p>]]></content>
      
      
      <categories>
          
          <category> 语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日语文法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>电化学基础</title>
      <link href="/posts/25066/"/>
      <url>/posts/25066/</url>
      
        <content type="html"><![CDATA[<h1>关于</h1><p>天坑专业大四就读，未来还不知道往哪个方向发展…不过现阶段对电化学还算感兴趣，所以从2022年底开始学习Bard的经典著作《Electrochemical methods Fundamentals and applications》。整个电化学专题就是基于这本书展开的。此外，<a href="https://www.koushare.com/video/videodetail/33204">中科大的电化学课程</a>也非常值得一看，算是对理论和应用方面的补充。</p><blockquote><p>因水平有限，以下内容仅作为笔记使用</p></blockquote><h1>电化学热力学</h1><p>本章内容主要基于Bard书的第1章、第2章、第4章和第13章，主要内容有电极过程、电势、传质原理、双电层模型。</p><h2 id="电极过程">电极过程</h2><p>在热力学中，反应发生的趋势是用吉布斯自由能 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span> 或化学势 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>μ</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">μ</span></span></span></span> 来衡量的。在物质的浓度/压力不变的前提下，反应的趋势只与温度相关，因此有些反应（例如 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">C</mi><msub><mi mathvariant="normal">O</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">\rm CO_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathrm">C</span><span class="mord"><span class="mord mathrm">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span> 的热转化）在高温下才能进行。而在体系中加入电势这一变量后，电子的能量将发生变化，引起平衡的变化。如当电极电势更负时，电子能量升高，因此电子更容易从电极转移到反应介质中，发生还原反应。因此电化学的微观本质简单来说就是电子的能量的变化引起反应平衡的改变。</p><blockquote><p>2022年7月初参加FDU化学系面试的时候，有一个问题就是如何从微观角度理解电化学反应。因为我当时对电化学的了解不超过本科的物理化学课程，所以只能简单的用热力学的知识应付过去。</p></blockquote><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230315192938.png" alt=""></p><h2 id="电势">电势</h2><p>本节主要介绍电化学中的各种势能，参考资料包括ACS energy letters的一篇科普性文献。</p><h3 id="电化学势">电化学势</h3><p>在上一节中已经知道了，电极电势的变化引起反应平衡的变化。为了将这种影响引入到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>μ</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">μ</span></span></span></span> ，提出了新的物理量<strong>电化学势(electrochemical potential)</strong>，其定义式为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msubsup><mover accent="true"><mi>μ</mi><mo>ˉ</mo></mover><mi>i</mi><mi>α</mi></msubsup><mo>=</mo><msubsup><mi>μ</mi><mi>i</mi><mi>α</mi></msubsup><mo>+</mo><msub><mi>z</mi><mi>i</mi></msub><mi>F</mi><msup><mi>ϕ</mi><mi>α</mi></msup></mrow><annotation encoding="application/x-tex">\bar{\mu}_i^\alpha =\mu_i^\alpha + z_iF\phi^{\alpha} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9614em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.5678em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">μ</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">ˉ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9614em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9088em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord"><span class="mord mathnormal">ϕ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span></span></span></span></span></span></span></span></span></span></span></span></span></p><p>其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mover accent="true"><mi>μ</mi><mo>ˉ</mo></mover><mi>i</mi><mi>α</mi></msubsup></mrow><annotation encoding="application/x-tex">\bar{\mu}_i^\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9231em;vertical-align:-0.2587em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.5678em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">μ</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">ˉ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4413em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2587em;"><span></span></span></span></span></span></span></span></span></span> 为电化学势，z为粒子所带电荷数，F为faraday constant，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϕ</mi></mrow><annotation encoding="application/x-tex">\phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">ϕ</span></span></span></span> 为粒子所在位置的电势，上标 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span> 表示粒子所处的相。</p><p>关于电化学势，该文献举的一个例子非常有意思：用一个电压表测量两种相连的金属丝，其结果是0。我们可能会想当然地认为，体系的电势差为0。实际上这是错误的，因为两种金属之间必然会有接触电势！那么问题出在哪呢？</p><p>在有电势存在的体系中，必须要考虑电势的影响，因此电化学势之差才是传输和反应的根本驱动力。电压表测量的是电化学势的差值，并不是两点的电势之差。只有在化学势相同的前提下（如同一种金属线），电压表测量的数值才能被视为电势差。而对于电极-电解液体系，电平衡条件为两相的电化学势相同。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>J</mi><mi>i</mi></msub><mo>=</mo><mo>−</mo><mrow><mo fence="true">(</mo><mfrac><mrow><msub><mi>C</mi><mi>i</mi></msub><mo>×</mo><msub><mi>D</mi><mi>i</mi></msub></mrow><mrow><mi>R</mi><mi>T</mi></mrow></mfrac><mo fence="true">)</mo></mrow><mi mathvariant="normal">∇</mi><msub><mover accent="true"><mi>μ</mi><mo>ˉ</mo></mover><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">J_i=-\left(\frac{C_i\times D_i}{RT}\right)\nabla{\bar{\mu}}_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0962em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">RT</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">∇</span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.5678em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">μ</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">ˉ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2175em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>其中C和D分别为浓度和扩散系数。</p><blockquote><p>电化学中，电化学势与Fermi能级为等价概念</p></blockquote><h3 id="外电势、内电势、表面电势和功函">外电势、内电势、表面电势和功函</h3><p>内电势 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϕ</mi><mo stretchy="false">(</mo><mi>i</mi><mi>n</mi><mi>n</mi><mi>e</mi><mi>r</mi><mi>p</mi><mi>o</mi><mi>t</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>i</mi><mi>a</mi><mi>l</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\phi (inner potential)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ϕ</span><span class="mopen">(</span><span class="mord mathnormal">inn</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mord mathnormal">p</span><span class="mord mathnormal">o</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">ia</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">)</span></span></span></span> ：单位正电荷从无穷远移动到某相内部克服电场力所做的功（体相电势与无穷远处的电势差，也称为Galvani potential）。</p><p>外电势 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ψ</mi></mrow><annotation encoding="application/x-tex">\psi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">ψ</span></span></span></span> (outer potential)：单位正电荷从无穷远移动到带电体外表面（表面之外，不包括表面附近的表面电势χ）克服电场力所做的功（两个带电物体间的外电势差，又称为Volta电势差）。</p><blockquote><p>外电势选取的参考点与双电层理论有关</p></blockquote><p>表面电势χ：由于金属表面电子受力不平衡，倾向于脱出而减小动能；这部分Fermi能级附近的电子与正离子核之间距离增加势能增大，形成电势差。</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>ϕ</mi><mo>=</mo><mi>ψ</mi><mo>+</mo><mi>χ</mi></mrow><annotation encoding="application/x-tex">\phi = ψ + χ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">ϕ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">ψ</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">χ</span></span></span></span></span></p><p>功函 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ϕ</mi></mrow><annotation encoding="application/x-tex">\phi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">ϕ</span></span></span></span>（work function）：将一个电子从体相内部移到外部/外电势参考点所做的最小功（Fermi能级到金属表面），包括克服化学势和表面电势（但不包括外电势）</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">Φ</mi><mo>=</mo><mo>−</mo><mfrac><msub><mi>μ</mi><mi>e</mi></msub><msub><mi>N</mi><mi>A</mi></msub></mfrac><mo>+</mo><mi>e</mi><mi>χ</mi></mrow><annotation encoding="application/x-tex">\Phi=-\frac{\mu_e}{N_A}+e\chi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">Φ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.9436em;vertical-align:-0.836em;"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">eχ</span></span></span></span></span></p><p>通过图例可能更有助于理解：</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230315210908.png" alt="" title="各种势能的关系"><br><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230315212050.png" alt="" title="表面电势"></p><h3 id="开路电势">开路电势</h3><p>开路电势（open-circuit potential）:无电流情况下电化学工作站直接读出的数值，其与反应的平衡电势有一定的关系。在存在平衡条件的前提下，理论上开路电势可以由体系中所有电对的平衡电势得到。</p><h3 id=""></h3><blockquote><p>Boettcher, Shannon W., et al. “Potentially confusing: potentials in electrochemistry.” ACS Energy Letters 6.1 (2020): 261-266.</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 化学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 电化学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>katex在hexo中的使用</title>
      <link href="/posts/48857/"/>
      <url>/posts/48857/</url>
      
        <content type="html"><![CDATA[<h1>安装</h1><p>网页基于butterfly主题，安装方法参考<a href="https://butterfly.js.org/posts/ceeb73f/#Math-%E6%95%B8%E5%AD%B8">官方文档</a>。</p><p>以下使用方法基于renderer-markdown-it插件<br>最重要的一点：别忘了在文章开头声明<strong>katex: true</strong></p><h1>使用</h1><h2 id="行内公式">行内公式</h2><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>t</mi></msub><mo>=</mo><msub><mi>b</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">a_t = b_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$a_t = b_t$</span><br></pre></td></tr></table></figure><h2 id="行间公式">行间公式</h2><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">C</mi><msub><mi mathvariant="normal">O</mi><mn>2</mn></msub><mrow><mo fence="true">(</mo><mi mathvariant="normal">g</mi><mo fence="true">)</mo></mrow><mo>+</mo><mo>∗</mo><mo>+</mo><msup><mi mathvariant="normal">e</mi><mo>−</mo></msup><mo>→</mo><mtext> </mtext><mo>∗</mo><msubsup><mrow><mi mathvariant="normal">C</mi><mi mathvariant="normal">O</mi></mrow><mn>2</mn><mo>−</mo></msubsup></mrow><annotation encoding="application/x-tex">\rm CO_2\left(g\right)+\ast+e^-\rightarrow\ \ast{\rm CO}_2^- </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0946em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathrm">C</span><span class="mord"><span class="mord mathrm">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathrm" style="margin-right:0.01389em;">g</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">∗</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathrm">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8213em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">−</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">∗</span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathrm">CO</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8446em;"><span style="top:-2.453em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathrm mtight">2</span></span></span><span style="top:-3.1362em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">−</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$ \rm CO_2\left(g\right)+\ast+e^-\rightarrow\ \ast&#123;\rm CO&#125;_2^- $$</span><br></pre></td></tr></table></figure><h2 id="多行公式">多行公式</h2><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>b</mi><mo>+</mo><mi>c</mi></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>d</mi><mo>+</mo><mi>e</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mi>f</mi></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex"> \begin{align}   a&amp;=b+c \\   d+e&amp;=f\end{align} </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">e</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">c</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.75em;"><span class="pstrut" style="height:2.84em;"></span><span class="eqn-num"></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:2.84em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span></span></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$$ \begin&#123;align&#125;</span><br><span class="line">   a&amp;=b+c \\</span><br><span class="line">   d+e&amp;=f</span><br><span class="line"> \end&#123;align&#125; $$</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> latex </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用selenium自动登录163邮箱和爬取淘宝</title>
      <link href="/posts/64056/"/>
      <url>/posts/64056/</url>
      
        <content type="html"><![CDATA[<h1>Ajax</h1><p>Ajax数据指网页浏览过程中逐步加载的数据，这些数据使用requests是无法获取的，但可以借助selenium获得。</p><p>在inspect的network界面中，以getindex开头、type为xhr的数据请求即为ajax。</p><h1>163自动登录</h1><blockquote><p>2023.3.16</p></blockquote><p>花了大概两个小时，终于搞定了163邮箱自动登录！</p><p><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/20230315100737.png" alt="" title="a great success!"></p><p>真的不能太依赖edge元素审查中的css和xpath！能自己写的尽量自己写（特别是iframe的路径）！<br>新打开的页面上一定要用sleep或webdriverwait，implicitly_wait有的地方就是不行（没有理解隐式和显式的区别）</p><p>还有就是要吐槽一下，163在登陆几次后好像就会有验证码审查…</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.wait <span class="keyword">import</span> WebDriverWait</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support <span class="keyword">import</span> expected_conditions <span class="keyword">as</span> EC</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果要用的话，直接修改最后的account、password和tos（收件人，仅限一个，多个也可以，懒得写了）就行</span></span><br><span class="line"><span class="comment"># 依赖库：selenium</span></span><br><span class="line"><span class="comment"># 如果之前没用过selenium还需要安装浏览器对应的webdriver（这里是edge），需要自行查阅相关资料</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    options = webdriver.EdgeOptions()</span><br><span class="line">    options.add_experimental_option(<span class="string">&#x27;excludeSwitches&#x27;</span>, [<span class="string">&#x27;enable-logging&#x27;</span>])</span><br><span class="line">    os.system(<span class="string">&#x27;cls&#x27;</span>)    <span class="comment"># clear terminal</span></span><br><span class="line">    driver = webdriver.Edge(options=options)        <span class="comment"># edge可能会出现奇怪的警告（原因不明），options可以消除这些警告</span></span><br><span class="line">    driver.get(<span class="string">&#x27;https://mail.163.com/&#x27;</span>)</span><br><span class="line">    driver.maximize_window()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sign_in</span>():</span><br><span class="line">        <span class="comment"># 这里不用wait可能也可以？不过由于163邮箱网页加载慢，不wait可能出现找不到attribute的情况</span></span><br><span class="line">        driver.implicitly_wait(<span class="number">10</span>)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            label = driver.find_elements(By.TAG_NAME,<span class="string">&#x27;iframe&#x27;</span>)</span><br><span class="line">            driver.switch_to.frame(label[<span class="number">0</span>])</span><br><span class="line">            driver.find_element(By.NAME,<span class="string">&#x27;email&#x27;</span>).send_keys(account)</span><br><span class="line">            driver.find_element(By.NAME,<span class="string">&#x27;password&#x27;</span>).send_keys(password)</span><br><span class="line">            <span class="comment">#driver.find_element(By.NAME,&#x27;un-login&#x27;).click()    # 30天免登录</span></span><br><span class="line">            driver.find_element(By.ID,<span class="string">&#x27;dologin&#x27;</span>).click()</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(e)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">write</span>():</span><br><span class="line">        <span class="comment"># 点击主界面的写信button，进入write界面</span></span><br><span class="line">        sleep(<span class="number">3</span>)</span><br><span class="line">       <span class="comment"># element = WebDriverWait(driver, 10, 0.4).until(</span></span><br><span class="line">                    <span class="comment">#EC.presence_of_element_located((By.ID, &#x27;_mail_component_74_74&#x27;)),</span></span><br><span class="line">                                              <span class="comment">#  message=&#x27;写信button已超时&#x27;)</span></span><br><span class="line">        driver.find_element(By.ID,<span class="string">&#x27;_mail_component_74_74&#x27;</span>).click()</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 输入收信人</span></span><br><span class="line">        driver.find_element(By.CLASS_NAME,<span class="string">&#x27;nui-editableAddr-ipt&#x27;</span>).send_keys(tos)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">#输入主题</span></span><br><span class="line">        driver.find_element(By.XPATH,<span class="string">&quot;//div[@class = &#x27;bz0&#x27;]/div/input[@class = &#x27;nui-ipt-input&#x27;]&quot;</span>).send_keys(<span class="string">&#x27;test letter&#x27;</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 进入body iframe，输入信的主体内容</span></span><br><span class="line">        driver.switch_to.frame(driver.find_element(By.XPATH,<span class="string">&quot;//iframe[contains(@class,&#x27;APP-editor-iframe&#x27;)]&quot;</span>))</span><br><span class="line">        driver.find_element(By.XPATH,<span class="string">&#x27;/html/body&#x27;</span>).send_keys(text)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 回到write界面，发送</span></span><br><span class="line">        sleep(<span class="number">2</span>)</span><br><span class="line">        driver.switch_to.default_content()</span><br><span class="line">        driver.find_element(By.XPATH,<span class="string">&#x27;//*[@class=&quot;jp0&quot;]/div[@role=&quot;button&quot;][1]&#x27;</span>).click() </span><br><span class="line">        sleep(<span class="number">3</span>)</span><br><span class="line">        driver.quit()</span><br><span class="line">          </span><br><span class="line">    sign_in()</span><br><span class="line">    write()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    account = <span class="string">&#x27;XXXXXXXXX&#x27;</span></span><br><span class="line">    password = <span class="string">&#x27;XXXXXXXXX&#x27;</span></span><br><span class="line">    tos = <span class="string">&#x27;XXXXXXXXX&#x27;</span></span><br><span class="line">    text = <span class="string">&#x27;this is a test letter from python_selenium&#x27;</span></span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><h1>反检测手段</h1><p>主要手段是添加各种option，还需要读取stealth.min.js文件隐藏webdriver特征</p><h2 id="通用代码">通用代码</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建option项</span></span><br><span class="line">options = webdriver.EdgeOptions()</span><br><span class="line"><span class="comment"># 允许log，否则会连续警告</span></span><br><span class="line">options.add_experimental_option(<span class="string">&#x27;excludeSwitches&#x27;</span>, [<span class="string">&#x27;enable-logging&#x27;</span>])</span><br><span class="line"><span class="comment"># headless模式需要添加user认证</span></span><br><span class="line">options.add_argument(<span class="string">&#x27;--headless&#x27;</span>)</span><br><span class="line">options.add_argument(<span class="string">&#x27;user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.71 Safari/537.36&#x27;</span>)</span><br><span class="line"><span class="comment"># 导入edge的个人信息</span></span><br><span class="line">p=<span class="string">r&#x27;C:\Users\Hashimoto\AppData\Local\Microsoft\Edge\User&#x27;</span></span><br><span class="line">options.add_experimental_option(<span class="string">&#x27;excludeSwitches&#x27;</span>, [<span class="string">&#x27;enable-automation&#x27;</span>])  <span class="comment"># 以开发者模式</span></span><br><span class="line">options.add_argument(<span class="string">&#x27;--user-data-dir=&#x27;</span>+p)</span><br><span class="line"><span class="comment"># 创建webdriver</span></span><br><span class="line">driver = webdriver.Edge(options=options)</span><br><span class="line"><span class="comment"># 读取webdriver反检测文件</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;F:\\python\\stealth.min.js&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    js = f.read()</span><br><span class="line">driver.execute_cdp_cmd(<span class="string">&quot;Page.addScriptToEvaluateOnNewDocument&quot;</span>, &#123;</span><br><span class="line">  <span class="string">&quot;source&quot;</span>: js</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">os.system(<span class="string">&#x27;cls&#x27;</span>)</span><br><span class="line">driver.get(<span class="string">&#x27;https://s.taobao.com/search?q=iphone&#x27;</span>)</span><br><span class="line">driver.maximize_window()</span><br></pre></td></tr></table></figure><p>通过上述手段就可以顺利打开淘宝的详情页面，并且无需登录</p><h2 id="edge个人信息">edge个人信息</h2><p>在edge的地址搜索框中输入 <strong>edge://version/</strong> ，复制Profile path（个人资料路径）</p><h2 id="stealth-min-js文件">stealth.min.js文件</h2><p>在已安装node.js的前提下，在目标文件夹的cmd中输入：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx extract-stealth-evasions</span><br></pre></td></tr></table></figure><p>之后将上述路径替换即可</p><h1>爬取淘宝商品信息</h1><blockquote><p>2023.3.17</p></blockquote><p>淘宝的反爬虫手段比较强，必须借助上一节中的反反爬虫方法才有可能成功。即便如此，在爬取过多时，淘宝可能会要求滑动验证。</p><h2 id="依赖库">依赖库</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.common.exceptions <span class="keyword">import</span> TimeoutException</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support <span class="keyword">import</span> expected_conditions <span class="keyword">as</span> EC</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.wait <span class="keyword">import</span> WebDriverWait</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="comment"># 使用beautifulsoup解析，json存储</span></span><br></pre></td></tr></table></figure><h2 id="webdriver创建">webdriver创建</h2><p>参考反检测手段一节中的代码</p><p>实测结果是，可以不用stealth.min.js，但是必须添加个人信息路径</p><h2 id="使用selenium获取html">使用selenium获取html</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">index_page</span>(<span class="params">page</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;正在爬取第&#x27;</span>,page,<span class="string">&#x27;页&#x27;</span>)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        url = <span class="string">&#x27;https://s.taobao.com/search?q=&#x27;</span> + KEYWORD</span><br><span class="line">        driver.get(url)</span><br><span class="line">        <span class="keyword">if</span> page&gt;<span class="number">1</span>:</span><br><span class="line">            <span class="comment"># 输入跳转页码</span></span><br><span class="line">            <span class="built_in">input</span> = wait.until(EC.presence_of_element_located((By.CSS_SELECTOR,<span class="string">&#x27;#mainsrp-pager div.form &gt; input&#x27;</span>)))</span><br><span class="line">            <span class="built_in">input</span>.clear() ; <span class="built_in">input</span>.send_keys(page)</span><br><span class="line">            <span class="comment"># 跳转页码</span></span><br><span class="line">            submit = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR,<span class="string">&#x27;#mainsrp-pager div.form &gt; span.btn.J_Submit&#x27;</span>)))</span><br><span class="line">            submit.click()</span><br><span class="line">        <span class="comment"># 确定目前所处页码</span></span><br><span class="line">        wait.until(EC.text_to_be_present_in_element((By.CSS_SELECTOR,<span class="string">&#x27;#mainsrp-pager li.item.active &gt; span&#x27;</span>),<span class="built_in">str</span>(page)))</span><br><span class="line">        <span class="comment"># 商品栏可定位</span></span><br><span class="line">        wait.until(EC.presence_of_element_located((By.CSS_SELECTOR,<span class="string">&#x27;.m-itemlist .items .item&#x27;</span>)))</span><br><span class="line">        parse_html()</span><br><span class="line">    <span class="comment"># 如果超时则重复这个过程</span></span><br><span class="line">    <span class="keyword">except</span> TimeoutException:</span><br><span class="line">        index_page(page)</span><br></pre></td></tr></table></figure><h2 id="使用beautifulsoup解析html">使用beautifulsoup解析html</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">parse_html</span>():</span><br><span class="line">    html = driver.page_source</span><br><span class="line">    soup = BeautifulSoup(html,<span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line">    <span class="comment"># 使用css选择器寻找每一个商品div</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span>  soup.select(<span class="string">&#x27;#mainsrp-itemlist .items .item&#x27;</span>):</span><br><span class="line">        product = &#123;<span class="string">&#x27;image&#x27;</span>: item.select(<span class="string">&#x27;.pic .img&#x27;</span>)[<span class="number">0</span>].attrs[<span class="string">&#x27;data-src&#x27;</span>],</span><br><span class="line">                   <span class="string">&#x27;price&#x27;</span>: item.select(<span class="string">&#x27;.price&#x27;</span>)[<span class="number">0</span>].get_text().strip(<span class="string">&#x27; \n&#x27;</span>),</span><br><span class="line">                   <span class="string">&#x27;deal&#x27;</span>: item.select(<span class="string">&#x27;.deal-cnt&#x27;</span>)[<span class="number">0</span>].get_text(),</span><br><span class="line">                   <span class="string">&#x27;title&#x27;</span>: item.select(<span class="string">&#x27;.title&#x27;</span>)[<span class="number">0</span>].get_text().strip(<span class="string">&#x27; \n&#x27;</span>),</span><br><span class="line">                   <span class="string">&#x27;shop&#x27;</span>: item.select(<span class="string">&#x27;.shop&#x27;</span>)[<span class="number">0</span>].get_text().strip(<span class="string">&#x27; \n&#x27;</span>),</span><br><span class="line">                   <span class="string">&#x27;location&#x27;</span>: item.select(<span class="string">&#x27;.location&#x27;</span>)[<span class="number">0</span>].get_text()&#125;</span><br><span class="line">        save(product)</span><br></pre></td></tr></table></figure><p>注意css选择器的写法：<strong>.item</strong>匹配全部包含item的class，而 <strong>#id</strong> 为精准匹配<br>css选择器简介教程参考：</p><ol><li>简洁版：<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Selectors">火狐官方</a></li><li>完整版：<a href="https://www.w3cschool.cn/css/css-selector.html">中文</a>; <a href="https://www.w3schools.com/cssref/css_selectors.php">英文</a></li></ol><h2 id="保存与主函数">保存与主函数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">save</span>(<span class="params">data</span>):</span><br><span class="line">    name = data[<span class="string">&#x27;shop&#x27;</span>]</span><br><span class="line">    price = data.get(<span class="string">&#x27;price&#x27;</span>)</span><br><span class="line">    deal = data.get(<span class="string">&#x27;deal&#x27;</span>)</span><br><span class="line">    data_path = <span class="string">f&#x27;<span class="subst">&#123;result_doc&#125;</span>/<span class="subst">&#123;name&#125;</span>-<span class="subst">&#123;price&#125;</span>-<span class="subst">&#123;deal&#125;</span>.json&#x27;</span></span><br><span class="line">    json.dump(data,<span class="built_in">open</span>(data_path,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>),ensure_ascii=<span class="literal">False</span>,indent = <span class="number">2</span>)     </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">MAX_PAGE = <span class="number">1</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, MAX_PAGE + <span class="number">1</span>):</span><br><span class="line">        index_page(i)</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><h1>问题总结</h1><p><em>DevTools listening on ws://······</em></p><blockquote><p>edge又自动更新了！！！去更新你的edgedriver吧</p></blockquote><p><em>到系统上的设备 没有发挥作用</em></p><blockquote><p>无意义报错，不影响使用</p></blockquote><h1>参考资料</h1><ol><li><a href="https://python3webspider.cuiqingcai.com/7.4-shi-yong-selenium-pa-qu-tao-bao-shang-pin">崔庆才博客</a></li><li><a href="https://blog.csdn.net/m0_49449205/article/details/124041314">绕过反爬机制</a></li><li><a href="https://bbs.huaweicloud.com/blogs/350270">selenium入门教程，值得一看</a></li><li><a href="https://blog.csdn.net/weixin_45230019/article/details/115282460">selenium自动化入门之实现163邮箱发送邮件</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> scraping </tag>
            
            <tag> selenium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>十月革命与立宪会议</title>
      <link href="/posts/12329/"/>
      <url>/posts/12329/</url>
      
        <content type="html"><![CDATA[<h1>about</h1><p>《一个大国的崛起与崩溃————苏联历史专题研究（1917-1991）》的主编沈志华先生是我非常喜欢的一位苏联史学家，在看本书之前就已经在YouTube上聆听了先生的多场讲座，拜读了先生所著的中苏关系史（关于本书的笔记可能还要再过一段时间）。沈先生非常重视史料研究，他认为，历史学家的本职工作就是尽可能真实客观地还原历史，如何评价历史是政治家的责任。这与复旦大学历史学家葛剑雄“历史为政治服务”的观点刚好相反。我认为首先给出我的观点是有必要的：我始终坚定地认为历史就是事实，就是关于每一个人的所作所为以及他们对人类社会产生的影响（当然我们更关注一小部分关键人物的行为）。当然不得不承认的是，无论是中国的过去还是现在，历史都被政治所控制，大多数历史学家难以触碰到最珍贵的历史资料，还原事实也就成为了一件不可能的事。但无法实现绝对公平不代表追求公平没有意义，正是因为有无数的人为了保存史料而不惜牺牲生命，我们才得以突破官方的封锁，不断接近事实。</p><h1>历史性的转折：1917年俄国革命</h1><h2 id="俄国革命的根源">俄国革命的根源</h2><p>革命的根源：历史长期因素（结构）、中期因素（形势）、短期因素（事件）</p><h3 id="长期因素：俄国现代化的结构性矛盾">长期因素：俄国现代化的结构性矛盾</h3><p>18世纪初期的彼得一世改革奠定俄罗斯成为现代国家的基础，但也导致政治生活领域的停滞和巨大的社会牺牲，并暗藏着尖锐的矛盾——东西方之间在政治制度、文化、阶级的矛盾；1861年亚历山大二世废除农奴制等一系列举措，在很大程度上缓解了上述矛盾。然而思想解放同时导致民粹派迅速发展，以至于亚历山大二世被刺杀，和平过渡的想法落空了。<br>直到1917年，土地仍然是俄国最棘手的问题。一是地主土地所有制，二是村社将农民束缚于土地之上，抑制农民的分化。农村之外，城市的新兴资产阶级也团结起来，并在1899年成立了俄国自由主义第一个政治组织“聚谈”。以上便是俄国现代化的两大障碍：土地问题和政治制度问题。</p><h3 id="中期因素：第一次革命后的形势变化">中期因素：第一次革命后的形势变化</h3><p>1905年革命后的斯托雷平改革彻底摧毁了帝俄的旧村社和旧土地制度，使俄国农业和经济迅速发展，但是也导致俄国农民的价值观念发生显著变化，逐渐形成了公民意识和民主精神，使得最容易被控制的农民走上了反对沙皇的斗争道路。斯托雷平体系的失败以及新形势的出现，加剧了系统性危机。</p><h3 id="短期因素：战争影响下的事态发展">短期因素：战争影响下的事态发展</h3><p>一次大战爆发后，短时间内高涨的爱国主义热情延缓了政治危机的发展。但是战争所导致的物质危机又进一步激化了现有矛盾，推动事态向革命方向发展。借由战争，自由主义者在各地建立起合法的社会组织，它们一方面为战争提供后勤保障，一方面又被视为促进政治改革的工具。这些组织成为二月革命中的核心力量。</p><h2 id="自发的二月革命">自发的二月革命</h2><p>在二月革命中，留守在彼得格勒的卫戍部队（即由受伤士兵、刚被征召入伍的农民等组成的后备军团）成为革命的主要力量，尽管他们造反的真正目的只是不愿被派往前线。</p><p>2月27日之后，民主派政党和自由派政党分别成立了彼得格勒苏维埃和国家杜马临时委员会，代表两方势力。前者发布“一号命令”控制了军队；后者企图通过对沙皇施压建立新的政府，实行君主立宪制。</p><p>然而形势的迅速发展再加上沙皇不同意立宪，迫使杜马主席罗将柯认为只有尼古拉二世逊位才能平息革命。在各方面军司令和杜马的强大压力下，尼古拉二世最终选择退位，但是要求皇位交给米哈伊尔大公。在这段时期，沙俄的军队已接近彼得格勒，但沙皇驻地总参谋长阿列克谢耶夫在最后关头选择倒向自由主义者，错失了武装镇压彼得格勒的时机（罗将柯主张用政治手段解决问题）。</p><p>二月革命期间，起义群众和更多的不知情群众（圣彼得堡以外）对于君主制是否保留的看法是有分歧的。根深蒂固的君主制仍然统治者大众的思想，因此二月革命是在“打倒战争”而不是“打倒沙皇”。认为推翻沙皇统治为全民意志是不符合事实的。</p><h3 id="政权问题">政权问题</h3><p>这时由孟什维克和社会革命党领导的苏维埃认为：革命的首要任务是为资本主义发展开辟道路，这就标志着革命是资产阶级民主性质的，就应该由资产阶级领导和掌握政权。社会主义政党实行向资产阶级政府施压的政策，为社会主义过渡创造条件（这种革命理论是孟什维克和社会革命党在1905年革命以后逐渐形成的）。</p><p>苏维埃和杜马（立宪民主党）的合作是卓有成效的，他们很快建立起了一个较为完善的宪法和民主的纲领。虽然形成的两大政治中心（苏维埃和临时政府）分别代表各自阶级的利益，但是苏维埃执行委员会（除布尔什维克之外的社会主义政党）对临时政府（自由主义政党）仍保有支持态度，和平道路看似将要实现。</p><p>然而，两个政权看似会造成权力斗争，实际上是无政府主义泛滥。正如尼古拉二世想的那样，自由主义者无力管理一个庞大的国家，更没有全力解决革命主角——群众的迫切需要，在一系列关键问题上犹豫不决，最终被群众抛弃。</p><p>此外圣彼得堡以外的二月革命显示出很大的不同。首都革命的口号是“打倒战争”，而地方革命则是为了“战争胜利”，而且遭遇到的抵抗是极其微弱的。</p><p>临时政府放弃自己的地方政权——地方自治机关是重大失误，而它的地位被群众自发组织的社会执行委员会取代，削弱了中央政府与地方的联系。</p><h2 id="布尔什维克理论的转变">布尔什维克理论的转变</h2><p>二月革命中布尔什维克的力量弱小，总共只有2.3万党员（首都仅有2000人），并且可分为三派——中央俄罗斯局（左派）、彼得堡委员会（中立派/右派/亲苏维埃派/亲临时政府派）以及列宁领导的极左派。</p><p>中央俄罗斯局关于“临时政府是反革命的”、“要建立无产阶级和农民专政的民主政府”的想法是与当时情况脱离的，而彼得堡委员会的想法更务实些。之后左派逐渐倾向于中立观点，二者都站在了国际主义立场上，反对帝国主义战争。反战的论点也成为布尔什维克与孟什维克之间的显著区别。</p><p>3月中旬，斯大林和加米涅夫控制中央俄罗斯局后，主张支持临时政府，向其施压要求和谈，得到多数人赞同。至少在这时，布尔什维克和临时政府站在同一战线上。</p><p>孟什维克的观点（不免有些幼稚）：</p><ul><li>1917年的二月事件中，孟什维克对于政权问题的态度与其革命理论直接相关。在革命过程中成立的国家杜马临时委员会的政治基础是主要自由主义政党立宪民主党和十月党，它还得到了俄国军队、金融界和工商业界的支持，并且与英国和法国政府有密切的联系。它在旧政权已经瘫痪的情况下开始行使政府职能。这种情况是在苏维埃中居于领导地位的孟什维克领导人所乐于见到的，他们认为杜马委员会采取的行动有助于平衡彼得格勒苏维埃的权力。他们认为苏维埃应该是一个革命群众的自治机关，在政治上它应该是“人民的喉舌”、“革命的控制器&quot;。因此，苏维埃可以领导工人进行罢工斗争，行使自治权，向政府施加压力、进行监督、引导它走正确道路，但苏维埃不能成为政权机关。而杜马委员会则是新的资产阶级民主政府的雏形，如果它能够公开地与专制政府的残余力量斗争，成立真正的民主政府，它就会与苏维埃形成一种同盟关系，从而更快地实现俄国革命的目标。</li></ul><p>布尔什维克与孟什维克短暂的联合：</p><ul><li>就这样，二月革命后，布尔什维克和孟什维克在俄国革命的性质和任务、革命后政权问题的解决等重大问题上走到了一起，而革命已成为事实又使得布尔什维克和孟什维克之间关于党的组织结构和俄国革命的条件的争论降到了次要地位。因此，尽管两党在对战争和临时政府的态度上还存在差异，但出于巩固革命的愿望，这两个党自下而上地趋向于重新统一布尔什维克党内与孟什维克联合的愿望在一些地方组织中特别强烈，他们开始采取积极的联合行动争取联合。在派遣代表出席3月下旬全俄党的工作者会议的70多个布尔什维克组织中，已有30余个实现了同孟什维克的联合。在与全俄党的工作者会议同时召开的苏维埃代表会议上，布尔什维克代表对孟什维克领袖唐恩提出的关于政权问题的决议案投了赞成票产全俄党的工作者会议还决定同孟什维克举行联席会议，并成立一个由加米涅夫、斯大林、泰奥多罗维奇、诺根等组成的谈判委员会与孟什维克国际派领导人就联合问题进行接触。</li></ul><p>列宁的回归，打破了这种平静。</p><p>列宁在《社会民主党在民主革命中的两种策略》中认为要先建立资产阶级民主共和国，然后才能实行无产阶级专政。因此二月革命中列宁的强硬态度可以视为列宁思想的转变和对过去的背叛。</p><p>列宁对革命的态度自然引发大多数布尔什维克的不满，也包括加米涅夫和斯大林。彼得堡委员会4月8日会议对列宁提纲的决议以13反对、2赞成、1弃权结束。然而列宁的社会主义革命的想法赢得了广大工人和基层的支持，在第七次全国代表大会上获得了半数以上赞成，列宁的提纲终于得以推行。</p><p>关于俄国社会主义革命的超越性，列宁解释为历史规律的特殊性，是完全可以接受的。但是我认为这个说法站不住脚，在于马克思主义已经说明历史规律的必然性，那怎么又会存在其特殊性呢？作者在节尾也给出了相应的看法：但历史也已证明，在资本主义发展相对落后的国家，无产阶级夺取政权的政治革命并不等于也不能代替以一定的生产力水平为前提的社会革命。为了实现社会主义，胜利的无产阶级首先面临着使自己的国家成为文明国家的任务。</p><h2 id="七月事件">七月事件</h2><p>七月事件是发生在1917年7月初的一次布尔什维克组织领导的群众运动（失败夺权运动？）。</p><p>七月事件的爆发背景（起因）：临时政府在战线溃败后计划将首都部队调往前线，引发士兵骚动（不长记性，还把大量部队部署在首都）；因乌克兰自治问题（又是乌克兰）引发的立宪民主党部长辞职造成群众不满情绪的爆发。更深层次的背景是，群众对临时政府拖延解决关键问题失去耐心，对苏维埃的无所作为也日益不满。</p><p>但事实上布尔什维克虽然仍存在分歧，但仍已经准备好了起义，只不过7月初的革命并不在计划之中。而布尔什维克对待七月暴动的态度在7月3日经历了三次转变，这也表明此时党内分歧严重。</p><p>在经历了短暂的平静后，7月4日暴动迎来最高潮，并且表现为无组织无纪律的乌合之众一般的暴动。特别戏剧性的一点是，示威群众大多出于对临时政府不满，希望苏维埃（彼时还是由孟什维克主导）掌权，然而孟什维克并不希望掌权。</p><p>还有一个重要问题是，列宁在干什么？凑巧的是，列宁于6月底离开了彼得堡，直到7月4日中午才回来。这时列宁对于事态不甚了解，因此意外地支持和平示威，希望群众遵守纪律。他对于是否有能力立即夺权也是充满担忧的，但是七月事件中布尔什维克的强大动员能力让列宁认为首都的力量是充足的，但是外省和前线的情况是重要且不容乐观。列宁面对七月事件表现出的冷静的确充满领袖气质。</p><p>另外两个客观事实是：①苏维埃（孟什维克）请求前线部队增援彼得堡；②临时政府准备指控布尔什维克通敌（德国）。在这种自我认知和客观形势所迫下，包括列宁在内的大多数领导人同意停止示威游行。</p><h2 id="走向武装夺权的十月">走向武装夺权的十月</h2><p>七月事件中，布尔什维克遭受重创，然而在三个月后就成功夺取政权的原因是：①外部因素：科尔尼洛夫叛乱大大削弱右翼势力，并引起群众不满；②布尔什维克针对临时政府和苏维埃的弱点及时调整策略。</p><p>8月底，军队总司令（极右翼）科尔尼洛夫发动针对临时政府总理克伦斯基的叛乱。克伦斯基在布尔什维克等左派政党的帮助下才得以平息叛乱，使得布尔什维克声望大增，国内政治格局发生重大变动。对外政策方面，布尔什维克敏锐地抓住了大多数人更加关注的战争、土地、工厂所有制、民族关系问题。口号的变化对布尔什维克的影响甚至远大于科尔尼洛夫叛乱。</p><ol><li>战争问题：1917年末，随着美国参加一战，协约国一方的胜利已成为既定事实，如果俄国继续打下去，将成为战争的胜利者。但是群众特别是军队对于战争早已深恶痛绝，因此苏维埃在8月底就明确表明要立即结束战争。</li><li>农民土地问题：布尔什维克在四月会议中仍然不同意按照农民的要求平分土地。但是8月底为了拉拢农民势力，决定“在立宪会议做出决定以前，把土地委员会管理”。</li><li>工厂所有制问题：工人代表苏维埃要求剥夺资产者的财产，分配给工人集体。布尔什维克主张实现企业国有化，交由国家机关掌握。八月底，布尔什维克虽然认不认同工人苏维埃要求，但保证“在全国范围内对生产和分配实行工人监督”。</li><li>民族问题：8月前，布尔什维克实现从否定联邦制（认为其将会使民族差别长期存在下去）到列宁提出建立自由共和国联盟的转变。而到8月底，布尔什维克针对长期存在的民族问题（特别是芬兰和乌克兰）采取了更为直接的对策。</li></ol><p>由于布尔什维克掌控了军队控制权，因此十月革命的成功是必然的，布尔什维克及支持其的社会革命党左派掌握政权。由于左派社会革命党人没有接受加入政府的邀请，因此新成立的（临时）政府由清一色的布尔什维克组成。</p><h2 id="主要马克思主义者对十月革命的评价">主要马克思主义者对十月革命的评价</h2><p>普列汉诺夫（俄国历史上第一位马克思主义者）在10月28日给彼得格勒工人阶级的一封公开信中说：俄国还没有成熟到实行社会主义革命的地步，俄国工人阶级也远不能掌握政权，假若谁在无产阶级没有准备好以前过早地夺取政权，把“政权强加给谁”，只能意味着把它“推上最大的历史灾难的道路”。</p><blockquote><p>——普列汉诺夫《在祖国的一年》 462-466页</p></blockquote><p>考茨基（资本论第四卷编者）认为：俄国革命只有在同西欧革命同时发生的情况下，才可能具有社会主义的性质，如果硬要把十月革命说成是社会主义革命，在俄国建立起无产阶级专政和社会主义制度，只能是一个注定要夭折的“早产儿”。</p><p>考茨基认为以列宁为代表的布尔什维克走上了歧途，追求独裁。</p><blockquote><p>——考茨基《无产阶级专政》  54-66页</p></blockquote><p>罗莎·卢森堡：</p><p>民主机构的笨重的机制……有一个有力的纠正者——这正是生机勃勃的群众运动，是它的不断施加的压力。机构愈民主，群众政治生活的脉搏愈活跃愈有力……当然，任何民主机构都有它的局限性和缺陷，这恐怕是人类设立的一切机构都有的。只不过托洛茨基和列宁找到的纠正办法即取消一切民主制却比这一办法应当制止的坏事更坏，因为它堵塞了唯一能够纠正社会机构的一切天生缺陷的那一生机勃勃的源泉本身，这就是最广大人民群众的积极的、不受限制的、朝气蓬勃的政治生活。</p><p>列宁和托洛茨基用苏维埃代替了根据普选产生的代议机构，认为苏维埃是劳动群众唯一真正的代表。但是随着政治生活在全国受到压制，苏维埃的生活也一定会日益陷于瘫痪。没有普选，没有不受限制的出版和集会自由，没有自由的意见交锋，任何公共机构的生命就要逐渐灭绝，就成为没有灵魂的生活，只有官僚仍是其中唯一的活动因素。公共生活逐渐沉寂，几十个具有无穷无尽的精力和无边无际的理想主义的党的领导人指挥着和统治着，在他们中间实际上是十几个杰出人物在领导，还有一批工人中的精华不时被召集来开会，聆听领袖的演说并为之鼓掌，一致同意提出来的决议，由此可见，这根本是一种小集团统治——这固然是一种专政，但不是无产阶级专政，而是一小撮政治家的专政，就是说，纯粹资产阶级意义上的专政，雅各宾派统治意义上的专政（苏维埃代表大会从三个月召开一次推迟到六个月！）不仅如此，这种情况一定会引起公共生活的野蛮化：暗杀，枪决人质等等。这是一条极其强大的客观的规律，任何党派都摆脱不了它。</p><blockquote><p>——《论俄国革命》</p></blockquote><h2 id="苏维埃政权与立宪会议">苏维埃政权与立宪会议</h2><ul><li>自由主义政党和孟什维克、社会革命党一致同意继续战争，其逻辑结果就是延缓召开立宪会议，因为召开立宪会议就意味着必须解决包括土地问题在内的所有迫切问题根据3月2日苏维埃执行委员会与国家杜马临时委员会达成的协议，俄罗斯国家治理形式以及和平问题、土地问题、民族问题等都应由立宪会议来解决。他们担心，在当时俄国军队已经涣散而战争还在进行的情况下，召开立宪会议解决土地问题等重要问题，小仅将触动在前线作战的军官阶层的利益，面且也会让农民士兵们不顾一切地蜂拥回家，而这将意味着前线的崩溃和普遍的混乱，意味着俄国的战败。为了保证战争的进行，他们都不急于立宪会议的选举和召开。就这样，山于受到继续战争政策的牵制，临时政府、自由主义政党、孟什维克和社会革命党延缓了对俄社会进行民主改造的日程，其政治后果就是削弱自己对群众的政治影响力。</li></ul><p>立宪会议成为连接俄国战争、土地和民族问题的核心。</p><p>充满讽刺意味的是，列宁曾在苏维埃第二次代表大会中宣布：如果布尔什维克在立宪会议中选举失败的话，他们将服从“人民群众”。事实证明，他们总是那么会说！</p><ul><li>其实，反映选举结果的数字已经没有重要意义了，因为还在选举之前，11月8日，布尔什维克就讨论了驱散立宪会议的可能性问题，并且确认采取这样的行动不会引起左派社会革命党人的反对。在获悉最后选举结果后，列宁立即表示：“一切权力归立宪会议”是反革命口号，立宪会议如果同苏维埃政权背道而驰，那就必然注定要在政治上死亡。苏维埃政权随即采取了针对立宪会议的密集措施。</li></ul><p>11月23日，人民委员会授权逮捕立宪会议筹备委员会中的立宪民主党和社会革命党成员。11月28日立宪会议召开当天，立宪民主党在彼得格勒举行和平示威，被布尔什维克宣布为反革命组织，主要成员悉数被捕。12月1日布尔什维克罢免立宪会议委员会全部委员，由乌里茨基（契卡领导人）担任主席。</p><p>1918年1月5日，立宪会议正式召开。彼得格勒和莫斯科均发生支持立宪会议的和平示威，并遭到布尔什维克的武装镇压。会议上《被剥削劳动人民权利宣言》在右派社会革命党反对下未获得通过。布尔什维克早就预料到了这种情况，于1月6日宣布解散立宪会议，并在10日的苏维埃第三次代表大会上通过该宣言（取代了立宪会议的功能）。</p><ul><li>布尔什维克领导人在夺取政权过程中对于召开立宪会议的支持和肯定，是争取群众支持、扩大自己社会基础的需要，就如同布尔什维克在土地、和平等其他迫切问题上所做的那样。但真实的选举结果对于这个立志利用世界大战创造的前所未有的机会夺取政权并实现自己纲领的党来说是不能接受的，驱散立宪会议对于布尔什维克党来说是合乎逻辑的选择，夺取政权的目的不是为了把它交出去。</li></ul><p>在我看来，布尔什维克对立宪会议的态度是始终如一的，即立宪会议只是苏维埃掌权的工具。十月革命前，立宪会议是布尔什维克通过宣传笼络人心的政治武器；十月革命后，立宪会议是苏维埃正式掌握权力的“合法性证明”，因此当立宪会议拒绝通过关键性的《被剥削劳动人民权利宣言》时，布尔什维克可以毫不犹豫地清除掉掌权路上的绊脚石。</p><p>布尔什维克的目标只有一个，那就是从下到上由全国的工人、雇农和农民代表苏维埃组成的共和国。至于后续的那些美好愿景能否实现，他们则完全没有考虑。因此列宁才说，革命的“客观前提”是否完全具备与革命时机是否已经到来不是一回事。</p><p>十月革命具有超前性，不过在十月革命之后，列宁意识到历史的程序可以改变，但不能跳过某个发展阶段。</p><p>苏维埃党内对立宪会议问题也存在不同看法。加米涅夫、季诺维耶夫一派认为立宪会议是俄国革命的结束，不应该加以限制。加米涅夫认为立宪会议是保住民主力量统一、与其他社会主义者实现联合的唯一机会。列宁则坚称：苏维埃共和国是比有立宪会议的普通资产阶级共和国更高的民主形式。</p><h3 id="社会认可">社会认可</h3><p>立宪会议被驱散前后，从各地仍然陆续不断地给立宪会议发来祝贺和支持的信件。高尔基曾在《从一月九日到一月五日》一文中表示，立宪会议将是一个将给全体俄国民主派以自由表达自己意志的可能性的机构。他把1918年1月5日比作1905年1月9日 ，代表了左翼知识分子对立宪会议的态度。</p><p>另一方面，左派社会革命党和孟什维克左翼均对苏维埃表示支持，甚至右翼力量同样对立宪会议持消极态度，因为立宪会议没有满足他们的要求。此外，驱散立宪会议并没有引发强烈的社会反应，正是因为沉默的大多数，使得苏维埃可以以一种“公正”的手段处理立宪会议。</p><h3 id="社会发展水平">社会发展水平</h3><p>未形成立宪会议能够依靠的城市社会阶层，缺乏足够强大和牢固的支持立宪会议的社会基础。资产阶级不成熟，农民占有大多数，无产阶级人数不多，小资产阶级就实际情况而言为半无产阶级，剩下的是官员和弱小的知识分子。因此居民整体政治素质和文化水平低，理性和妥协少，空想和极端多，大部分人对民主、国家、共和等抽象思想一窍不通。他们拥护共和，又要求选举沙皇。很显然，在这样一个过渡时期，谁更善于煽动，谁就能掌握愚昧无知的大多数。</p><p>士兵希望立宪会议能够终结战争，农民寄希望于立宪会议成为全俄罗斯土地的主人，为农民带给土地和自由。他们对立宪会议的支持并非出于对民主政治的信念，而是因为它是能够满足他们要求的主人。相比之下，苏维埃对于工农群众来说是一种实现理想社会制度的载体。它不同于西方政治文化，独立于政权系统，但又积极参与政治。十月革命后，在苏维埃政权已经建立的情况下，仍有半数选民参与立宪会议代表的选举，亦表明至少这部分人认为立宪会议能够解决国家面临的问题。</p><p>俄国的二月革命和十月革命清楚表明，为了建立公民社会和法治国家，政治自由和社会经济文化基础，四者缺一不可。</p>]]></content>
      
      
      <categories>
          
          <category> 历史 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 苏联史 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>picture test</title>
      <link href="/posts/34566/"/>
      <url>/posts/34566/</url>
      
        <content type="html"><![CDATA[<h1>图片与图床使用</h1><p>今日工作：</p><ol><li>python面向对象学习和爬虫</li><li>课设计算推进一点（大概吧）</li><li>学习图床使用<br><img src="https://picgo-liubaichen.oss-cn-beijing.aliyuncs.com/528354450.jpg" alt="" title="圆神！"></li></ol><p>遇到的问题：</p><ol><li>本来想用github当服务器，结果就是生成不了token</li><li>math插件安装失败（应该是npm的原因），暂时无法解决</li><li>学习python写作中遇到txt文件open后的read操作：因为某个窒息的理解错误白白浪费半小时！</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    file1 = <span class="built_in">open</span>(<span class="string">&#x27;F:\\python\\python_code\\test.txt&#x27;</span>,<span class="string">&#x27;r&#x27;</span>,encoding=<span class="string">&quot;utf8&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(file1.read())            </span><br><span class="line">    <span class="comment">#all text</span></span><br><span class="line">    file1.readlines()    </span><br><span class="line">    file1.close()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>读完第一次后指针都到末尾了，还怎么readlines啊！！！</strong></p>]]></content>
      
      
      <categories>
          
          <category> diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 杂谈 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>First article</title>
      <link href="/posts/d7b8aa53/"/>
      <url>/posts/d7b8aa53/</url>
      
        <content type="html"><![CDATA[<h1>我的第一个网站</h1><p>经过近两天的折磨，终于用hexo搭建好了网站。虽然过程真的辛苦，甚至有好多次想放弃了（怒砸键盘），但还是坚持了下来。</p><p>这两天的工程主要包括：hexo创建、github部署和添加域名。</p><blockquote><p>域名（kotobanoniwa.xyz）是《<em><strong>言葉の庭</strong></em>》的罗马音，源自电影《言の葉の庭》，但是对我来说可能　<strong>言葉</strong>　可能更准确一些</p></blockquote><h2 id="Why">Why</h2><p>正值大四下半年，没有什么课，天天都是泡图书馆，所以就想做点什么。除了一些软件的学习和网站之外，日语和英语也在同步进行着（真的有在做吗?）。</p><h2 id="下一步的打算">下一步的打算</h2><p>文章的话，如果只是文字还好，不过图片之类的可能还要一段时间，毕竟还有其他工作要做。</p><p>感觉在这上面写点东西还挺好的，<strong>千万不要半途而废啊！</strong></p>]]></content>
      
      
      <categories>
          
          <category> diary </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 杂谈 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>about</title>
      <link href="/about/index.html"/>
      <url>/about/index.html</url>
      
        <content type="html"><![CDATA[<h1>about me</h1><ul><li>海河中下游某大学天坑专业就读</li><li>兴趣丰富，但一事无成</li><li>二次元爱好者，魔圆忠实粉丝（看配图就知道了嘛）</li><li>原三次元爱好者，主推乃木坂46的日奈子ちゃん</li><li>喜欢苏联史和中华人民共和国国史</li><li>python ing</li></ul><h1>配图说明</h1><ul><li>网页图标（favicon）：<a href="https://zh.moegirl.org.cn/%E9%B9%BF%E7%9B%AE%E5%9C%86">鹿目まどか</a>，来自<a href="https://zh.moegirl.org.cn/%E9%AD%94%E6%B3%95%E5%B0%91%E5%A5%B3%E5%B0%8F%E5%9C%86">魔法少女まどか☆マギア</a></li><li>网站logo（主页面左上角）：<a href="https://zh.moegirl.org.cn/%E5%A4%A9%E7%8E%8B%E5%AF%BA%E7%92%83%E5%A5%88">天王寺璃奈</a>，来自<a href="https://nijigaku.club/">虹ヶ咲スクールアイドル同好会</a></li><li>网站头像：<a href="https://zh.moegirl.org.cn/%E5%87%91%E5%8F%8B%E5%B8%8C%E9%82%A3">湊友希那</a></li></ul><blockquote><p>原头像：<a href="https://zh.moegirl.org.cn/%E5%87%A4%E6%BB%A1">鳳ミチル</a>，来自<a href="https://zh.moegirl.org.cn/%E5%B0%91%E5%A5%B3%E6%AD%8C%E5%89%A7_Revue_Starlight_-Re_LIVE-">少女☆歌剧 Revue Starlight</a></p></blockquote><ul><li>archives页首：クラリス(ClariS)</li><li>文章封面：<a href="https://zh.moegirl.org.cn/%E9%AD%94%E6%B3%95%E5%B0%91%E5%A5%B3%E5%B0%8F%E5%9C%86">魔法少女まどか☆マギア</a>的剧照、同人图等</li></ul><h1>网站概览</h1><ul><li>框架：hexo</li><li>服务器：github | gitee</li><li>域名：dynadot</li><li>主题：butterfly</li></ul><h1>域名说明</h1><p>kotobanoniwa，是日语<strong>言葉の庭</strong>的罗马音，译为 <strong>语言的庭院</strong>。</p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
  
</search>
